import{j as p,H as x,F as f}from"./index-nu_xN7Rs.js";import{u as g,j as y}from"./vendor-react-BNeW3y6d.js";import{E as C}from"./ExhibitionForm-BHU34oC8.js";import{a6 as S,W as e}from"./vendor-antd-CPyaZRZ0.js";import"./vendor-utils-DNTYNPA0.js";import"./vendor-styling-DBLAJE0-.js";import"./vendor-canvas-BRbMLhVA.js";const T=()=>{const r=g(),d=y(),b=async t=>{var c,a;try{const[o,h]=t.dateRange,s={name:t.name,description:t.description,venue:t.venue,startDate:o.toISOString(),endDate:h.toISOString(),status:t.status||"draft",isActive:t.isActive??!0,invoicePrefix:t.invoicePrefix,stallRates:t.stallRates||[],dimensions:{width:100,height:100},taxConfig:t.taxConfig||[],discountConfig:t.discountConfig||[],publicDiscountConfig:t.publicDiscountConfig||[],companyName:t.companyName,companyContactNo:t.companyContactNo,companyEmail:t.companyEmail,companyAddress:t.companyAddress,companyWebsite:t.companyWebsite,companyPAN:t.companyPAN,companyGST:t.companyGST,companySAC:t.companySAC,companyCIN:t.companyCIN,termsAndConditions:t.termsAndConditions,piInstructions:t.piInstructions,bankName:t.bankName,bankBranch:t.bankBranch,bankIFSC:t.bankIFSC,bankAccountName:t.bankAccountName,bankAccount:t.bankAccount,headerTitle:t.headerTitle,headerSubtitle:t.headerSubtitle,headerDescription:t.headerDescription,headerLogo:t.headerLogo,sponsorLogos:t.sponsorLogos||[],footerText:t.footerText,footerLogo:t.footerLogo,contactEmail:t.contactEmail,contactPhone:t.contactPhone,footerLinks:t.footerLinks||[],amenities:((c=t.amenities)==null?void 0:c.map(i=>({type:i.type,name:i.name,description:i.description,rate:i.rate})))||[],basicAmenities:((a=t.basicAmenities)==null?void 0:a.map(i=>({type:i.type,name:i.name,description:i.description,perSqm:i.perSqm,quantity:i.quantity})))||[],specialRequirements:t.specialRequirements,letterSettings:t.letterSettings},m=await d(x(s)).unwrap();e.success("Exhibition created successfully");const n=m._id||m.id;n?r(f({_id:n,id:n,name:s.name}),{state:{exhibitionId:n}}):(e.error("Exhibition ID not found in response"),r("/exhibition"))}catch(o){e.error(o.message||"Failed to create exhibition"),console.error("Error creating exhibition:",o)}};return p.jsx(S,{title:"Create New Exhibition",children:p.jsx(C,{onSubmit:b,submitText:"Create Exhibition"})})};export{T as default};
