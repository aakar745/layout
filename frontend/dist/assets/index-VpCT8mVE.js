import{j as s,y as b}from"./index-DoSueJxk.js";import{u as h,l as x}from"./vendor-react-dkbxt9Jf.js";import{E as f}from"./ExhibitionForm-DTCyQlYI.js";import{g}from"./url-DUULaBjX.js";import{a1 as y,W as e}from"./vendor-antd-mFVHvrVJ.js";import"./vendor-utils-ngrFHoWO.js";import"./vendor-styling-CQa69cNz.js";import"./stall-BMZvk0fo.js";const L=()=>{const r=h(),m=x(),p=async t=>{try{const[o,d]=t.dateRange,c={name:t.name,description:t.description,venue:t.venue,startDate:o.toISOString(),endDate:d.toISOString(),status:t.status||"draft",isActive:t.isActive??!0,invoicePrefix:t.invoicePrefix,stallRates:t.stallRates||[],dimensions:{width:100,height:100},taxConfig:t.taxConfig||[],discountConfig:t.discountConfig||[],publicDiscountConfig:t.publicDiscountConfig||[],companyName:t.companyName,companyContactNo:t.companyContactNo,companyEmail:t.companyEmail,companyAddress:t.companyAddress,companyWebsite:t.companyWebsite,companyPAN:t.companyPAN,companyGST:t.companyGST,companySAC:t.companySAC,companyCIN:t.companyCIN,termsAndConditions:t.termsAndConditions,piInstructions:t.piInstructions,bankName:t.bankName,bankBranch:t.bankBranch,bankIFSC:t.bankIFSC,bankAccountName:t.bankAccountName,bankAccount:t.bankAccount,headerTitle:t.headerTitle,headerSubtitle:t.headerSubtitle,headerDescription:t.headerDescription,headerLogo:t.headerLogo,sponsorLogos:t.sponsorLogos||[],footerText:t.footerText,footerLogo:t.footerLogo,contactEmail:t.contactEmail,contactPhone:t.contactPhone,footerLinks:t.footerLinks||[],amenities:t.amenities?.map(i=>({type:i.type,name:i.name,description:i.description,rate:i.rate}))||[],basicAmenities:t.basicAmenities?.map(i=>({type:i.type,name:i.name,description:i.description,perSqm:i.perSqm,quantity:i.quantity}))||[],specialRequirements:t.specialRequirements,letterSettings:t.letterSettings},a=await m(b(c)).unwrap();e.success("Exhibition created successfully");const n=a._id||a.id;n?r(g({_id:n,id:n,name:c.name}),{state:{exhibitionId:n}}):(e.error("Exhibition ID not found in response"),r("/exhibition"))}catch(o){e.error(o.message||"Failed to create exhibition"),console.error("Error creating exhibition:",o)}};return s.jsx(y,{title:"Create New Exhibition",children:s.jsx(f,{onSubmit:p,submitText:"Create Exhibition"})})};export{L as default};
