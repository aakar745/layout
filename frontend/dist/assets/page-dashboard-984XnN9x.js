import{r as e,j as s,d as t,E as i,a9 as a,aa as n,R as r}from"./vendor-others-aeGeD6f-.js";import{d as o}from"./services-DHEt1Qtz.js";import{T as l,R as c,C as d,c as m,b as x}from"./vendor-antd-core-CLD06I8y.js";import"./vendor-ui-BOD89xu8.js";import"./vendor-canvas-BOVIu3pe.js";import"./vendor-react-i7tvbPTl.js";import"./vendor-utils-CTzFqUk0.js";import"./component-exhibition-CuwlJtEU.js";import"./vendor-editor-HOXaQDhO.js";import"./vendor-antd-form-DJHhvp8w.js";import"./vendor-antd-buttons-wjEWA2x8.js";import"./vendor-antd-modal-1GBGM2fb.js";import"./component-layout-BTsCaDZB.js";import"./store-D4NI4RZ9.js";import"./component-auth-ClRi3ofU.js";import"./vendor-antd-table-CA0XBoxE.js";const{Title:j,Text:p}=l,u=({title:e,value:t,icon:i,color:a,gradient:n,loading:r})=>s.jsxs(m,{className:"stat-card",styles:{body:{padding:"24px"}},style:{background:n,border:"none",overflow:"hidden",position:"relative"},children:[s.jsx("div",{className:"stat-card-background"}),s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",position:"relative",zIndex:1},children:[s.jsxs("div",{style:{display:"flex",flexDirection:"column",flex:1},children:[s.jsx(p,{style:{fontSize:"14px",color:"rgba(255, 255, 255, 0.85)",marginBottom:"8px"},children:e}),s.jsx(p,{style:{fontSize:"28px",fontWeight:600,color:"#FFFFFF",marginBottom:"0"},children:r?s.jsx(x,{size:"small"}):t})]}),s.jsx("div",{className:"stat-card-icon",style:{color:"white"},children:i})]})]}),g=()=>{const[l,x]=e.useState(!0),[g,h]=e.useState(0),[v,y]=e.useState(0),[f,b]=e.useState(0),[D,S]=e.useState(0),[N,B]=e.useState([]),[E,C]=e.useState({server:"Online",database:"Connected",lastBackup:"2 hours ago",systemLoad:"Normal"});e.useEffect((()=>{(async()=>{x(!0);try{const e=await o.getDashboardStats();h(e.userCount),y(e.bookingCount),b(e.totalRevenue),S(e.exhibitionCount);const a=[];e.recentBookings.slice(0,3).forEach((e=>{a.push({id:e._id,icon:s.jsx(i,{}),color:"#2563EB",text:s.jsxs(p,{children:["New booking ",s.jsxs(p,{strong:!0,children:["#",e._id.substring(0,8)]})," received"]}),timestamp:new Date(e.createdAt).toLocaleString()})})),e.recentUsers.slice(0,2).forEach((e=>{a.push({id:e._id,icon:s.jsx(t,{}),color:"#7C3AED",text:s.jsxs(p,{children:["User ",s.jsxs(p,{strong:!0,children:["'",e.username,"'"]})," ",e.createdAt?"registered":"active"]}),timestamp:e.createdAt?new Date(e.createdAt).toLocaleString():"Recently"})})),a.sort(((e,s)=>new Date(s.timestamp).getTime()-new Date(e.timestamp).getTime())),B(a)}catch(e){}finally{x(!1)}})()}),[]);const k=[{title:"Total Users",value:g,icon:s.jsx(t,{}),color:"#7C3AED",gradient:"linear-gradient(135deg, #7C3AED 0%, #5B21B6 100%)"},{title:"Total Orders",value:v,icon:s.jsx(i,{}),color:"#2563EB",gradient:"linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%)"},{title:"Revenue",value:`â‚¹${f.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:s.jsx(a,{}),color:"#059669",gradient:"linear-gradient(135deg, #059669 0%, #047857 100%)"},{title:"Exhibitions",value:D,icon:s.jsx(n,{}),color:"#DC2626",gradient:"linear-gradient(135deg, #DC2626 0%, #B91C1C 100%)"}];return s.jsxs("div",{className:"dashboard-container",children:[s.jsx(j,{level:4,style:{marginBottom:"24px"},children:"Dashboard"}),s.jsx(c,{gutter:[24,24],children:k.map(((e,t)=>s.jsx(d,{xs:24,sm:12,lg:6,children:s.jsx(u,{...e,loading:l})},t)))}),s.jsxs(c,{gutter:[24,24],style:{marginTop:"24px"},children:[s.jsx(d,{xs:24,lg:12,children:s.jsx(m,{title:"Recent Activity",className:"info-card",styles:{body:{padding:"20px"}},loading:l,children:N.length>0?s.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:N.map((e=>s.jsxs("div",{className:"activity-item",children:[r.cloneElement(e.icon,{style:{color:e.color}}),s.jsxs("div",{style:{display:"flex",flexDirection:"column"},children:[e.text,s.jsx(p,{type:"secondary",style:{fontSize:"12px"},children:e.timestamp})]})]},e.id)))}):s.jsx(p,{type:"secondary",children:"No recent activity found"})})}),s.jsx(d,{xs:24,lg:12,children:s.jsx(m,{title:"System Status",className:"info-card",styles:{body:{padding:"20px"}},children:s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[s.jsxs("div",{className:"status-item",children:[s.jsx("div",{className:"status-indicator online"}),s.jsxs(p,{children:["Server Status: ",s.jsx(p,{strong:!0,type:"success",children:E.server})]})]}),s.jsxs("div",{className:"status-item",children:[s.jsx("div",{className:"status-indicator connected"}),s.jsxs(p,{children:["Database Status: ",s.jsx(p,{strong:!0,type:"success",children:E.database})]})]}),s.jsxs("div",{className:"status-item",children:[s.jsx("div",{className:"status-indicator backup"}),s.jsxs(p,{children:["Last Backup: ",s.jsx(p,{strong:!0,children:E.lastBackup})]})]}),s.jsxs("div",{className:"status-item",children:[s.jsx("div",{className:"status-indicator normal"}),s.jsxs(p,{children:["System Load: ",s.jsx(p,{strong:!0,children:E.systemLoad})]})]})]})})})]})]})};export{g as default};
