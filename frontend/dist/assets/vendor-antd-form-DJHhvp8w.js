import{r as e,aB as t,cp as n,ay as r,az as l,aw as o,ax as a,ck as i,cq as s,cr as c,cs as u,ct as d,bd as m,aC as p,bb as f,aY as g,cu as b,cv as h,bo as v,cw as y,ap as $,am as x,aZ as C,a5 as O,bc as w,cx as E,cy as j,bj as S,cz as k,ba as I,cA as M,cB as F}from"./vendor-others-aeGeD6f-.js";import{O as P,ab as N,a0 as q,ac as z,ad as R,ae as _,af as A,ag as T,a7 as H,a6 as D,a9 as W,ah as B,ai as L,a3 as V,C as X,aj as G,k as Y,ak as K,R as U,al as Z,V as J}from"./vendor-antd-core-CLD06I8y.js";import{c as Q}from"./vendor-ui-BOD89xu8.js";const ee=e.createContext(void 0),te=e.createContext({labelAlign:"right",vertical:!1,itemRef:()=>{}}),ne=e.createContext(null),re=r=>{const l=t(r,["prefixCls"]);return e.createElement(n,Object.assign({},l))},le=e.createContext({prefixCls:""}),oe=e.createContext({}),ae=t=>{let{children:n,status:r,override:l}=t;const o=e.useContext(oe),a=e.useMemo((()=>{const e=Object.assign({},o);return l&&delete e.isFormItemInput,r&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[r,l,o]);return e.createElement(oe.Provider,{value:a},n)},ie=e.createContext(void 0),se=function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;var l,o;const{variant:a,[t]:i}=e.useContext(P),s=e.useContext(ie),c=null==i?void 0:i.variant;let u;u=void 0!==n?n:!1===r?"borderless":null!==(o=null!==(l=null!=s?s:c)&&void 0!==l?l:a)&&void 0!==o?o:"outlined";return[u,N.includes(u)]};function ce(t){const[n,r]=e.useState(t);return e.useEffect((()=>{const e=setTimeout((()=>{r(t)}),t.length?0:10);return()=>{clearTimeout(e)}}),[t]),n}const ue=e=>{const{componentCls:t}=e,n=`${t}-show-help`,r=`${t}-show-help-item`;return{[n]:{transition:`opacity ${e.motionDurationFast} ${e.motionEaseInOut}`,"&-appear, &-enter":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}},[r]:{overflow:"hidden",transition:`height ${e.motionDurationFast} ${e.motionEaseInOut},\n                     opacity ${e.motionDurationFast} ${e.motionEaseInOut},\n                     transform ${e.motionDurationFast} ${e.motionEaseInOut} !important`,[`&${r}-appear, &${r}-enter`]:{transform:"translateY(-5px)",opacity:0,"&-active":{transform:"translateY(0)",opacity:1}},[`&${r}-leave-active`]:{transform:"translateY(-5px)"}}}}},de=e=>({legend:{display:"block",width:"100%",marginBottom:e.marginLG,padding:0,color:e.colorTextDescription,fontSize:e.fontSizeLG,lineHeight:"inherit",border:0,borderBottom:`${l(e.lineWidth)} ${e.lineType} ${e.colorBorder}`},'input[type="search"]':{boxSizing:"border-box"},'input[type="radio"], input[type="checkbox"]':{lineHeight:"normal"},'input[type="file"]':{display:"block"},'input[type="range"]':{display:"block",width:"100%"},"select[multiple], select[size]":{height:"auto"},"input[type='file']:focus,\n  input[type='radio']:focus,\n  input[type='checkbox']:focus":{outline:0,boxShadow:`0 0 0 ${l(e.controlOutlineWidth)} ${e.controlOutline}`},output:{display:"block",paddingTop:15,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight}}),me=(e,t)=>{const{formItemCls:n}=e;return{[n]:{[`${n}-label > label`]:{height:t},[`${n}-control-input`]:{minHeight:t}}}},pe=e=>{const{componentCls:t}=e;return{[e.componentCls]:Object.assign(Object.assign(Object.assign({},_(e)),de(e)),{[`${t}-text`]:{display:"inline-block",paddingInlineEnd:e.paddingSM},"&-small":Object.assign({},me(e,e.controlHeightSM)),"&-large":Object.assign({},me(e,e.controlHeightLG))})}},fe=e=>{const{formItemCls:t,iconCls:n,rootPrefixCls:r,antCls:l,labelRequiredMarkColor:o,labelColor:a,labelFontSize:i,labelHeight:s,labelColonMarginInlineStart:c,labelColonMarginInlineEnd:u,itemMarginBottom:d}=e;return{[t]:Object.assign(Object.assign({},_(e)),{marginBottom:d,verticalAlign:"top","&-with-help":{transition:"none"},[`&-hidden,\n        &-hidden${l}-row`]:{display:"none"},"&-has-warning":{[`${t}-split`]:{color:e.colorError}},"&-has-error":{[`${t}-split`]:{color:e.colorWarning}},[`${t}-label`]:{flexGrow:0,overflow:"hidden",whiteSpace:"nowrap",textAlign:"end",verticalAlign:"middle","&-left":{textAlign:"start"},"&-wrap":{overflow:"unset",lineHeight:e.lineHeight,whiteSpace:"unset"},"> label":{position:"relative",display:"inline-flex",alignItems:"center",maxWidth:"100%",height:s,color:a,fontSize:i,[`> ${n}`]:{fontSize:e.fontSize,verticalAlign:"top"},[`&${t}-required`]:{"&::before":{display:"inline-block",marginInlineEnd:e.marginXXS,color:o,fontSize:e.fontSize,fontFamily:"SimSun, sans-serif",lineHeight:1,content:'"*"'},[`&${t}-required-mark-hidden, &${t}-required-mark-optional`]:{"&::before":{display:"none"}}},[`${t}-optional`]:{display:"inline-block",marginInlineStart:e.marginXXS,color:e.colorTextDescription,[`&${t}-required-mark-hidden`]:{display:"none"}},[`${t}-tooltip`]:{color:e.colorTextDescription,cursor:"help",writingMode:"horizontal-tb",marginInlineStart:e.marginXXS},"&::after":{content:'":"',position:"relative",marginBlock:0,marginInlineStart:c,marginInlineEnd:u},[`&${t}-no-colon::after`]:{content:'"\\a0"'}}},[`${t}-control`]:{"--ant-display":"flex",flexDirection:"column",flexGrow:1,[`&:first-child:not([class^="'${r}-col-'"]):not([class*="' ${r}-col-'"])`]:{width:"100%"},"&-input":{position:"relative",display:"flex",alignItems:"center",minHeight:e.controlHeight,"&-content":{flex:"auto",maxWidth:"100%"}}},[t]:{"&-additional":{display:"flex",flexDirection:"column"},"&-explain, &-extra":{clear:"both",color:e.colorTextDescription,fontSize:e.fontSize,lineHeight:e.lineHeight},"&-explain-connected":{width:"100%"},"&-extra":{minHeight:e.controlHeightSM,transition:`color ${e.motionDurationMid} ${e.motionEaseOut}`},"&-explain":{"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning}}},[`&-with-help ${t}-explain`]:{height:"auto",opacity:1},[`${t}-feedback-icon`]:{fontSize:e.fontSize,textAlign:"center",visibility:"visible",animationName:R,animationDuration:e.motionDurationMid,animationTimingFunction:e.motionEaseOutBack,pointerEvents:"none","&-success":{color:e.colorSuccess},"&-error":{color:e.colorError},"&-warning":{color:e.colorWarning},"&-validating":{color:e.colorPrimary}}})}},ge=(e,t)=>{const{formItemCls:n}=e;return{[`${t}-horizontal`]:{[`${n}-label`]:{flexGrow:0},[`${n}-control`]:{flex:"1 1 0",minWidth:0},[`${n}-label[class$='-24'], ${n}-label[class*='-24 ']`]:{[`& + ${n}-control`]:{minWidth:"unset"}}}}},be=e=>{const{componentCls:t,formItemCls:n,inlineItemMarginBottom:r}=e;return{[`${t}-inline`]:{display:"flex",flexWrap:"wrap",[n]:{flex:"none",marginInlineEnd:e.margin,marginBottom:r,"&-row":{flexWrap:"nowrap"},[`> ${n}-label,\n        > ${n}-control`]:{display:"inline-block",verticalAlign:"top"},[`> ${n}-label`]:{flex:"none"},[`${t}-text`]:{display:"inline-block"},[`${n}-has-feedback`]:{display:"inline-block"}}}}},he=e=>({padding:e.verticalLabelPadding,margin:e.verticalLabelMargin,whiteSpace:"initial",textAlign:"start","> label":{margin:0,"&::after":{visibility:"hidden"}}}),ve=e=>{const{componentCls:t,formItemCls:n,rootPrefixCls:r}=e;return{[`${n} ${n}-label`]:he(e),[`${t}:not(${t}-inline)`]:{[n]:{flexWrap:"wrap",[`${n}-label, ${n}-control`]:{[`&:not([class*=" ${r}-col-xs"])`]:{flex:"0 0 100%",maxWidth:"100%"}}}}}},ye=e=>{const{componentCls:t,formItemCls:n,antCls:r}=e;return{[`${t}-vertical`]:{[`${n}:not(${n}-horizontal)`]:{[`${n}-row`]:{flexDirection:"column"},[`${n}-label > label`]:{height:"auto"},[`${n}-control`]:{width:"100%"},[`${n}-label,\n        ${r}-col-24${n}-label,\n        ${r}-col-xl-24${n}-label`]:he(e)}},[`@media (max-width: ${l(e.screenXSMax)})`]:[ve(e),{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-xs-24${n}-label`]:he(e)}}}],[`@media (max-width: ${l(e.screenSMMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-sm-24${n}-label`]:he(e)}}},[`@media (max-width: ${l(e.screenMDMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-md-24${n}-label`]:he(e)}}},[`@media (max-width: ${l(e.screenLGMax)})`]:{[t]:{[`${n}:not(${n}-horizontal)`]:{[`${r}-col-lg-24${n}-label`]:he(e)}}}}},$e=e=>{const{formItemCls:t,antCls:n}=e;return{[`${t}-vertical`]:{[`${t}-row`]:{flexDirection:"column"},[`${t}-label > label`]:{height:"auto"},[`${t}-control`]:{width:"100%"}},[`${t}-vertical ${t}-label,\n      ${n}-col-24${t}-label,\n      ${n}-col-xl-24${t}-label`]:he(e),[`@media (max-width: ${l(e.screenXSMax)})`]:[ve(e),{[t]:{[`${n}-col-xs-24${t}-label`]:he(e)}}],[`@media (max-width: ${l(e.screenSMMax)})`]:{[t]:{[`${n}-col-sm-24${t}-label`]:he(e)}},[`@media (max-width: ${l(e.screenMDMax)})`]:{[t]:{[`${n}-col-md-24${t}-label`]:he(e)}},[`@media (max-width: ${l(e.screenLGMax)})`]:{[t]:{[`${n}-col-lg-24${t}-label`]:he(e)}}}},xe=(e,t)=>r(e,{formItemCls:`${e.componentCls}-item`,rootPrefixCls:t}),Ce=q("Form",((e,t)=>{let{rootPrefixCls:n}=t;const r=xe(e,n);return[pe(r),fe(r),ue(r),ge(r,r.componentCls),ge(r,r.formItemCls),be(r),ye(r),$e(r),z(r),R]}),(e=>({labelRequiredMarkColor:e.colorError,labelColor:e.colorTextHeading,labelFontSize:e.fontSize,labelHeight:e.controlHeight,labelColonMarginInlineStart:e.marginXXS/2,labelColonMarginInlineEnd:e.marginXS,itemMarginBottom:e.marginLG,verticalLabelPadding:`0 0 ${e.paddingXS}px`,verticalLabelMargin:0,inlineItemMarginBottom:0})),{order:-1e3}),Oe=[];function we(e,t,n){return{key:"string"==typeof e?e:`${t}-${arguments.length>3&&void 0!==arguments[3]?arguments[3]:0}`,error:e,errorStatus:n}}const Ee=t=>{let{help:n,helpStatus:r,errors:l=Oe,warnings:s=Oe,className:c,fieldId:u,onVisibleChanged:d}=t;const{prefixCls:m}=e.useContext(le),p=`${m}-item-explain`,f=A(m),[g,b,h]=Ce(m,f),v=e.useMemo((()=>T(m)),[m]),y=ce(l),$=ce(s),x=e.useMemo((()=>null!=n?[we(n,"help",r)]:[].concat(o(y.map(((e,t)=>we(e,"error","error",t)))),o($.map(((e,t)=>we(e,"warning","warning",t)))))),[n,r,y,$]),C=e.useMemo((()=>{const e={};return x.forEach((t=>{let{key:n}=t;e[n]=(e[n]||0)+1})),x.map(((t,n)=>Object.assign(Object.assign({},t),{key:e[t.key]>1?`${t.key}-fallback-${n}`:t.key})))}),[x]),O={};return u&&(O.id=`${u}_help`),g(e.createElement(a,{motionDeadline:v.motionDeadline,motionName:`${m}-show-help`,visible:!!C.length,onVisibleChanged:d},(t=>{const{className:n,style:r}=t;return e.createElement("div",Object.assign({},O,{className:Q(p,n,h,f,c,b),style:r}),e.createElement(i,Object.assign({keys:C},T(m),{motionName:`${m}-show-help-item`,component:!1}),(t=>{const{key:n,error:r,errorStatus:l,className:o,style:a}=t;return e.createElement("div",{key:n,className:Q(o,{[`${p}-${l}`]:l}),style:a},r)})))})))},je=["parentNode"];function Se(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function ke(e,t){if(!e.length)return;const n=e.join("_");if(t)return`${t}_${n}`;return je.includes(n)?`form_item_${n}`:n}function Ie(e,t,n,r,l,o){let a=r;return void 0!==o?a=o:n.validating?a="validating":e.length?a="error":t.length?a="warning":(n.touched||l&&n.validated)&&(a="success"),a}function Me(e){return Se(e).join("_")}function Fe(e,t){const n=t.getFieldInstance(e),r=u(n);if(r)return r;const l=ke(Se(e),t.__INTERNAL__.name);return l?document.getElementById(l):void 0}function Pe(t){const[n]=s(),r=e.useRef({}),l=e.useMemo((()=>null!=t?t:Object.assign(Object.assign({},n),{__INTERNAL__:{itemRef:e=>t=>{const n=Me(e);t?r.current[n]=t:delete r.current[n]}},scrollToField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{focus:n}=t,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n}(t,["focus"]),o=Fe(e,l);o&&(c(o,Object.assign({scrollMode:"if-needed",block:"nearest"},r)),n&&l.focusField(e))},focusField:e=>{var t,n;const r=l.getFieldInstance(e);"function"==typeof(null==r?void 0:r.focus)?r.focus():null===(n=null===(t=Fe(e,l))||void 0===t?void 0:t.focus)||void 0===n||n.call(t)},getFieldInstance:e=>{const t=Me(e);return r.current[t]}})),[t,n]);return[l]}const Ne=(t,n)=>{const r=e.useContext(H),{getPrefixCls:l,direction:o,requiredMark:a,colon:i,scrollToFirstError:s,className:c,style:u}=D("form"),{prefixCls:m,className:p,rootClassName:f,size:g,disabled:b=r,form:h,colon:v,labelAlign:y,labelWrap:$,labelCol:x,wrapperCol:C,hideRequiredMark:O,layout:w="horizontal",scrollToFirstError:E,requiredMark:j,onFinishFailed:S,name:k,style:I,feedbackIcons:M,variant:F}=t,P=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n}(t,["prefixCls","className","rootClassName","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name","style","feedbackIcons","variant"]),N=W(g),q=e.useContext(ee),z=e.useMemo((()=>void 0!==j?j:!O&&(void 0===a||a)),[O,j,a]),R=null!=v?v:i,_=l("form",m),T=A(_),[V,X,G]=Ce(_,T),Y=Q(_,`${_}-${w}`,{[`${_}-hide-required-mark`]:!1===z,[`${_}-rtl`]:"rtl"===o,[`${_}-${N}`]:N},G,T,X,c,p,f),[K]=Pe(h),{__INTERNAL__:U}=K;U.name=k;const Z=e.useMemo((()=>({name:k,labelAlign:y,labelCol:x,labelWrap:$,wrapperCol:C,vertical:"vertical"===w,colon:R,requiredMark:z,itemRef:U.itemRef,form:K,feedbackIcons:M})),[k,y,x,C,w,R,z,K,M]),J=e.useRef(null);e.useImperativeHandle(n,(()=>{var e;return Object.assign(Object.assign({},K),{nativeElement:null===(e=J.current)||void 0===e?void 0:e.nativeElement})}));const ne=(e,t)=>{if(e){let n={block:"nearest"};"object"==typeof e&&(n=Object.assign(Object.assign({},n),e)),K.scrollToField(t,n)}};return V(e.createElement(ie.Provider,{value:F},e.createElement(B,{disabled:b},e.createElement(L.Provider,{value:N},e.createElement(re,{validateMessages:q},e.createElement(te.Provider,{value:Z},e.createElement(d,Object.assign({id:k},P,{name:k,onFinishFailed:e=>{if(null==S||S(e),e.errorFields.length){const t=e.errorFields[0].name;if(void 0!==E)return void ne(E,t);void 0!==s&&ne(s,t)}},form:K,ref:J,style:Object.assign(Object.assign({},u),I),className:Y}))))))))},qe=e.forwardRef(Ne);const ze=()=>{const{status:t,errors:n=[],warnings:r=[]}=e.useContext(oe);return{status:t,errors:n,warnings:r}};ze.Context=oe;const Re=e=>{const{formItemCls:t}=e;return{"@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none)":{[`${t}-control`]:{display:"flex"}}}},_e=V(["Form","item-item"],((e,t)=>{let{rootPrefixCls:n}=t;const r=xe(e,n);return[Re(r)]}));const Ae=t=>{const{prefixCls:n,status:r,labelCol:l,wrapperCol:o,children:a,errors:i,warnings:s,_internalItemRender:c,extra:u,help:d,fieldId:m,marginBottom:p,onErrorVisibleChanged:f,label:g}=t,y=`${n}-item`,$=e.useContext(te),x=e.useMemo((()=>{let e=Object.assign({},o||$.wrapperCol||{});if(null===g&&!l&&!o&&$.labelCol){[void 0,"xs","sm","md","lg","xl","xxl"].forEach((t=>{const n=t?[t]:[],r=b($.labelCol,n),l="object"==typeof r?r:{},o=b(e,n);"span"in l&&!("offset"in("object"==typeof o?o:{}))&&l.span<24&&(e=h(e,[].concat(n,["offset"]),l.span))}))}return e}),[o,$]),C=Q(`${y}-control`,x.className),O=e.useMemo((()=>{const{labelCol:e,wrapperCol:t}=$;return function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n}($,["labelCol","wrapperCol"])}),[$]),w=e.useRef(null),[E,j]=e.useState(0);v((()=>{u&&w.current?j(w.current.clientHeight):j(0)}),[u]);const S=e.createElement("div",{className:`${y}-control-input`},e.createElement("div",{className:`${y}-control-input-content`},a)),k=e.useMemo((()=>({prefixCls:n,status:r})),[n,r]),I=null!==p||i.length||s.length?e.createElement(le.Provider,{value:k},e.createElement(Ee,{fieldId:m,errors:i,warnings:s,help:d,helpStatus:r,className:`${y}-explain-connected`,onVisibleChanged:f})):null,M={};m&&(M.id=`${m}_extra`);const F=u?e.createElement("div",Object.assign({},M,{className:`${y}-extra`,ref:w}),u):null,P=I||F?e.createElement("div",{className:`${y}-additional`,style:p?{minHeight:p+E}:{}},I,F):null,N=c&&"pro_table_render"===c.mark&&c.render?c.render(t,{input:S,errorList:I,extra:F}):e.createElement(e.Fragment,null,S,P);return e.createElement(te.Provider,{value:O},e.createElement(X,Object.assign({},x,{className:C}),N),e.createElement(_e,{prefixCls:n}))};const Te=t=>{let{prefixCls:n,label:r,htmlFor:l,labelCol:o,labelAlign:a,colon:i,required:s,requiredMark:c,tooltip:u,vertical:d}=t;var m;const[p]=G("Form"),{labelAlign:f,labelCol:g,labelWrap:b,colon:h}=e.useContext(te);if(!r)return null;const v=o||g||{},$=`${n}-item-label`,x=Q($,"left"===(a||f)&&`${$}-left`,v.className,{[`${$}-wrap`]:!!b});let C=r;const O=!0===i||!1!==h&&!1!==i;O&&!d&&"string"==typeof r&&r.trim()&&(C=r.replace(/[:|：]\s*$/,""));const w=function(t){return t?"object"!=typeof t||e.isValidElement(t)?{title:t}:t:null}(u);if(w){const{icon:t=e.createElement(y,null)}=w,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n}(w,["icon"]),l=e.createElement(Y,Object.assign({},r),e.cloneElement(t,{className:`${n}-item-tooltip`,title:"",onClick:e=>{e.preventDefault()},tabIndex:null}));C=e.createElement(e.Fragment,null,C,l)}const E="optional"===c,j="function"==typeof c,S=!1===c;let k;j?C=c(C,{required:!!s}):E&&!s&&(C=e.createElement(e.Fragment,null,C,e.createElement("span",{className:`${n}-item-optional`,title:""},(null==p?void 0:p.optional)||(null===(m=K.Form)||void 0===m?void 0:m.optional)))),S?k="hidden":(E||j)&&(k="optional");const I=Q({[`${n}-item-required`]:s,[`${n}-item-required-mark-${k}`]:k,[`${n}-item-no-colon`]:!O});return e.createElement(X,Object.assign({},v,{className:x}),e.createElement("label",{htmlFor:l,className:I,title:"string"==typeof r?r:""},C))},He={success:O,warning:C,error:x,validating:$};function De(t){let{children:n,errors:r,warnings:l,hasFeedback:o,validateStatus:a,prefixCls:i,meta:s,noStyle:c}=t;const u=`${i}-item`,{feedbackIcons:d}=e.useContext(te),m=Ie(r,l,s,null,!!o,a),{isFormItemInput:p,status:f,hasFeedback:g,feedbackIcon:b}=e.useContext(oe),h=e.useMemo((()=>{var t;let n;if(o){const a=!0!==o&&o.icons||d,i=m&&(null===(t=null==a?void 0:a({status:m,errors:r,warnings:l}))||void 0===t?void 0:t[m]),s=m&&He[m];n=!1!==i&&s?e.createElement("span",{className:Q(`${u}-feedback-icon`,`${u}-feedback-icon-${m}`)},i||e.createElement(s,null)):null}const a={status:m||"",errors:r,warnings:l,hasFeedback:!!o,feedbackIcon:n,isFormItemInput:!0};return c&&(a.status=(null!=m?m:f)||"",a.isFormItemInput=p,a.hasFeedback=!!(null!=o?o:g),a.feedbackIcon=void 0!==o?a.feedbackIcon:b),a}),[m,o,c,p,f]);return e.createElement(oe.Provider,{value:h},n)}function We(n){const{prefixCls:r,className:l,rootClassName:o,style:a,help:i,errors:s,warnings:c,validateStatus:u,meta:d,hasFeedback:m,hidden:p,children:f,fieldId:g,required:b,isRequired:h,onSubItemMetaChange:y,layout:$}=n,x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n}(n,["prefixCls","className","rootClassName","style","help","errors","warnings","validateStatus","meta","hasFeedback","hidden","children","fieldId","required","isRequired","onSubItemMetaChange","layout"]),C=`${r}-item`,{requiredMark:O,vertical:E}=e.useContext(te),j=E||"vertical"===$,S=e.useRef(null),k=ce(s),I=ce(c),M=null!=i,F=!!(M||s.length||c.length),P=!!S.current&&w(S.current),[N,q]=e.useState(null);v((()=>{if(F&&S.current){const e=getComputedStyle(S.current);q(parseInt(e.marginBottom,10))}}),[F,P]);const z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Ie(e?k:d.errors,e?I:d.warnings,d,"",!!m,u)}(),R=Q(C,l,o,{[`${C}-with-help`]:M||k.length||I.length,[`${C}-has-feedback`]:z&&m,[`${C}-has-success`]:"success"===z,[`${C}-has-warning`]:"warning"===z,[`${C}-has-error`]:"error"===z,[`${C}-is-validating`]:"validating"===z,[`${C}-hidden`]:p,[`${C}-${$}`]:$});return e.createElement("div",{className:R,style:a,ref:S},e.createElement(U,Object.assign({className:`${C}-row`},t(x,["_internalItemRender","colon","dependencies","extra","fieldKey","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","label","labelAlign","labelCol","labelWrap","messageVariables","name","normalize","noStyle","preserve","requiredMark","rules","shouldUpdate","trigger","tooltip","validateFirst","validateTrigger","valuePropName","wrapperCol","validateDebounce"])),e.createElement(Te,Object.assign({htmlFor:g},n,{requiredMark:O,required:null!=b?b:h,prefixCls:r,vertical:j})),e.createElement(Ae,Object.assign({},n,d,{errors:k,warnings:I,prefixCls:r,status:z,help:i,marginBottom:N,onErrorVisibleChanged:e=>{e||q(null)}}),e.createElement(ne.Provider,{value:y},e.createElement(De,{prefixCls:r,meta:d,errors:d.errors,warnings:d.warnings,hasFeedback:m,validateStatus:z},f)))),!!N&&e.createElement("div",{className:`${C}-margin-offset`,style:{marginBottom:-N}}))}const Be=e.memo((e=>{let{children:t}=e;return t}),((e,t)=>function(e,t){const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((n=>{const r=e[n],l=t[n];return r===l||"function"==typeof r||"function"==typeof l}))}(e.control,t.control)&&e.update===t.update&&e.childProps.length===t.childProps.length&&e.childProps.every(((e,n)=>e===t.childProps[n]))));const Le=function(t){const{name:n,noStyle:r,className:l,dependencies:a,prefixCls:i,shouldUpdate:s,rules:c,children:u,required:d,label:b,messageVariables:h,trigger:v="onChange",validateTrigger:y,hidden:$,help:x,layout:C}=t,{getPrefixCls:O}=e.useContext(P),{name:w}=e.useContext(te),M=function(e){if("function"==typeof e)return e;const t=m(e);return t.length<=1?t[0]:t}(u),F="function"==typeof M,N=e.useContext(ne),{validateTrigger:q}=e.useContext(E),z=void 0!==y?y:q,R=!(null==n),_=O("form",i),T=A(_),[H,D,W]=Ce(_,T);Z();const B=e.useContext(j),L=e.useRef(null),[V,X]=function(t){const[n,r]=e.useState(t),l=e.useRef(null),o=e.useRef([]),a=e.useRef(!1);return e.useEffect((()=>(a.current=!1,()=>{a.current=!0,p.cancel(l.current),l.current=null})),[]),[n,function(e){a.current||(null===l.current&&(o.current=[],l.current=p((()=>{l.current=null,r((e=>{let t=e;return o.current.forEach((e=>{t=e(t)})),t}))}))),o.current.push(e))}]}({}),[G,Y]=S((()=>({errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}))),K=(e,t)=>{X((n=>{const r=Object.assign({},n),l=[].concat(o(e.name.slice(0,-1)),o(t)).join("__SPLIT__");return e.destroy?delete r[l]:r[l]=e,r}))},[U,ee]=e.useMemo((()=>{const e=o(G.errors),t=o(G.warnings);return Object.values(V).forEach((n=>{e.push.apply(e,o(n.errors||[])),t.push.apply(t,o(n.warnings||[]))})),[e,t]}),[V,G.errors,G.warnings]),re=function(){const{itemRef:t}=e.useContext(te),n=e.useRef({});return function(e,r){const l=r&&"object"==typeof r&&f(r),o=e.join("_");return n.current.name===o&&n.current.originRef===l||(n.current.name=o,n.current.originRef=l,n.current.ref=g(t(e),l)),n.current.ref}}();function le(n,o,a){return r&&!$?e.createElement(De,{prefixCls:_,hasFeedback:t.hasFeedback,validateStatus:t.validateStatus,meta:G,errors:U,warnings:ee,noStyle:!0},n):e.createElement(We,Object.assign({key:"row"},t,{className:Q(l,W,T,D),prefixCls:_,fieldId:o,isRequired:a,errors:U,warnings:ee,meta:G,onSubItemMetaChange:K,layout:C}),n)}if(!R&&!F&&!a)return H(le(M));let oe={};return"string"==typeof b?oe.label=b:n&&(oe.label=String(n)),h&&(oe=Object.assign(Object.assign({},oe),h)),H(e.createElement(k,Object.assign({},t,{messageVariables:oe,trigger:v,validateTrigger:z,onMetaChange:e=>{const t=null==B?void 0:B.getKey(e.name);if(Y(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[],validated:!1}:e,!0),r&&!1!==x&&N){let n=e.name;if(e.destroy)n=L.current||n;else if(void 0!==t){const[e,r]=t;n=[e].concat(o(r)),L.current=n}N(e,n)}}}),((r,l,i)=>{const u=Se(n).length&&l?l.name:[],m=ke(u,w),p=void 0!==d?d:!!(null==c?void 0:c.some((e=>{if(e&&"object"==typeof e&&e.required&&!e.warningOnly)return!0;if("function"==typeof e){const t=e(i);return(null==t?void 0:t.required)&&!(null==t?void 0:t.warningOnly)}return!1}))),f=Object.assign({},r);let g=null;if(Array.isArray(M)&&R)g=M;else if(F&&(!s&&!a||R));else if(!a||F||R)if(e.isValidElement(M)){const n=Object.assign(Object.assign({},M.props),f);if(n.id||(n.id=m),x||U.length>0||ee.length>0||t.extra){const e=[];(x||U.length>0)&&e.push(`${m}_help`),t.extra&&e.push(`${m}_extra`),n["aria-describedby"]=e.join(" ")}U.length>0&&(n["aria-invalid"]="true"),p&&(n["aria-required"]="true"),I(M)&&(n.ref=re(u,M));new Set([].concat(o(Se(v)),o(Se(z)))).forEach((e=>{n[e]=function(){for(var t,n,r,l,o,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];null===(r=f[e])||void 0===r||(t=r).call.apply(t,[f].concat(i)),null===(o=(l=M.props)[e])||void 0===o||(n=o).call.apply(n,[l].concat(i))}}));const r=[n["aria-required"],n["aria-invalid"],n["aria-describedby"]];g=e.createElement(Be,{control:f,update:M,childProps:r},J(M,n))}else g=F&&(s||a)&&!R?M(i):M;else;return le(g,m,p)})))};Le.useStatus=ze;const Ve=qe;Ve.Item=Le,Ve.List=t=>{var{prefixCls:n,children:r}=t,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(n[r[l]]=e[r[l]])}return n}(t,["prefixCls","children"]);const{getPrefixCls:o}=e.useContext(P),a=o("form",n),i=e.useMemo((()=>({prefixCls:a,status:"error"})),[a]);return e.createElement(M,Object.assign({},l),((t,n,l)=>e.createElement(le.Provider,{value:i},r(t.map((e=>Object.assign(Object.assign({},e),{fieldKey:e.key}))),n,{errors:l.errors,warnings:l.warnings}))))},Ve.ErrorList=Ee,Ve.useForm=Pe,Ve.useFormInstance=function(){const{form:t}=e.useContext(te);return t},Ve.useWatch=F,Ve.Provider=re,Ve.create=()=>{};export{Ve as F,ae as N,ee as V,oe as a,se as u};
