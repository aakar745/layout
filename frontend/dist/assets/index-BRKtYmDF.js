const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-YxXT8fBe.js","assets/vendor-react-BNeW3y6d.js","assets/vendor-antd-Dz3j4xaK.js","assets/vendor-utils-CsjRLf7T.js","assets/vendor-styling-BEMjND7I.js","assets/vendor-canvas-BRbMLhVA.js","assets/Dashboard-Cxy-QBAb.css","assets/Dashboard-Us_y5YJd.js","assets/Bookings-CxRXm8KK.js","assets/BookingDetails-vTmHLqKC.js","assets/Profile-CKG_TRy_.js","assets/InvoiceDetails-BZpLvHon.js","assets/InvoiceTemplate-CBdF4OCq.js","assets/InvoiceTemplate-BaZgAriD.css","assets/Support-MHgl-QUD.js","assets/Profile-d0A1SXrh.js","assets/Settings-CfMbPSAN.js","assets/index-BXtLtLJb.js","assets/reduxHooks-D3iepLCM.js","assets/index-YWSPBFQy.js","assets/index-ByFQhY9J.js","assets/index-CwRqVgWY.js","assets/index-a7hnwTmY.js","assets/ExhibitionForm-ByhVjjTZ.js","assets/index-BZfrme1c.js","assets/edit-pLvllpGl.js","assets/index-3y63KQEg.js","assets/index-BEsjHPE6.js","assets/index-BNu7vOFn.js","assets/index-tewCouRR.js","assets/index-s_53WvO6.js","assets/index-BX2ht5A7.js","assets/vendor-export-bOGzw8O3.js","assets/index-D8_7Uaiu.js","assets/index-CWMd8HPD.js","assets/index-th6EnfHB.js","assets/index-DmUhV5W0.js","assets/index-f_XpeFrr.css","assets/index-n4Mleu_W.js","assets/index-KBrFkj0o.js","assets/index-BiCpm7TV.js","assets/index-XVcQs4cz.css","assets/index-D9UQfH7i.js","assets/index-BlsmlxCp.js","assets/index-BZpkweb-.css","assets/index-BFCmn-gF.js","assets/index-DiCCB6GU.css","assets/index-BF0EH7LB.js","assets/ServiceCharges-DYayHTqc.css","assets/settings-Cof1ZIrl.js","assets/public-iVtPi2Oc.js","assets/index-Z_Rb6hXG.js","assets/AboutUs-BmA7fpTk.js","assets/ContactUs-tOE7MNvV.js","assets/PricingPolicy-CVNptrg3.js","assets/TermsConditions-BmfKTjCz.js","assets/PrivacyPolicy-D7vUvb1G.js","assets/CancellationRefund-BSvmI64J.js"])))=>i.map(i=>d[i]);
var ja=Object.defineProperty;var Sa=(r,e,n)=>e in r?ja(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var Ji=(r,e,n)=>Sa(r,typeof e!="symbol"?e+"":e,n);import{r as u,c as ka,f as ue,h as Le,e as Ea,g as Ca,u as Ke,i as De,j as ft,k as Ks,R as Ae,L as it,l as Xs,B as Ia,m as _a,n as ne,N as _i,w as Zi,o as Js,p as Zs,q as ar,s as Ra,t as Qt,v as eo,x as Ri,y as Xt,z as Lr,A as Ti,C as At,D as es,E as Ta,S as to,F as tn,G as Ai,H as ro,I as Aa,J as no,K as Pa,M as ts,O as Na,P as za,Q as $a,T as Da,U as sr,V as Ma,W as Fa}from"./vendor-react-BNeW3y6d.js";import{a as qe}from"./vendor-utils-CsjRLf7T.js";import{d as Pi,T as _e,L as ui,a as vt,S as de,b as Ge,B as ht,A as Wr,c as K,R as Ht,e as io,f as Be,g as La,h as Br,i as hi,j as so,k as oo,l as pi,m as Ba,n as Ni,o as pt,E as Qe,D as $e,p as Qr,q as Se,M as hr,r as ao,s as lo,t as Or,u as lr,v as co,w as Oe,x as dt,y as Oa,z as _t,C as qa,F as fi,G as Yr,H as Ua,I as Va,J as Ha,K as je,N as Q,O as Wa,P as Qa,Q as et,U as Ot,V as uo,W as Yt,X as fe,Y as cr,Z as ot,$ as ze,a0 as zi,a1 as $i,a2 as Ya,a3 as Ga,a4 as Ne,a5 as Ce,a6 as oe,a7 as ye,a8 as Wt,a9 as Ka,aa as Xa,ab as Ja,ac as Za,ad as rs,ae as el,af as tl,ag as rl,ah as Di,ai as nl,aj as il,ak as Bt,al as pr,am as qt,an as sl,ao as ns,ap as ol,aq as al,ar as $t,as as nr,at as ho,au as ll,av as cl,aw as dl,ax as is,ay as po,az as Ue,aA as ul,aB as hl,aC as pl,aD as fl,aE as gl,aF as fo,aG as ml,aH as xl,aI as bl,aJ as ss,aK as os,aL as gr,aM as yl,aN as vl,aO as kt,aP as wl,aQ as jl,aR as Sl,aS as kl,aT as El,aU as Cl,aV as Il}from"./vendor-antd-Dz3j4xaK.js";import{n as F,k as jt}from"./vendor-styling-BEMjND7I.js";import{L as qr,G as Pt,R as Rt,T as Tt,u as _l,a as Rl,I as Tl,C as Al,b as Pl,c as Nl,K as rn,S as zl,F as $l,d as Dl}from"./vendor-canvas-BRbMLhVA.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var go={exports:{}},Gr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ml=u,Fl=Symbol.for("react.element"),Ll=Symbol.for("react.fragment"),Bl=Object.prototype.hasOwnProperty,Ol=Ml.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ql={key:!0,ref:!0,__self:!0,__source:!0};function mo(r,e,n){var i,s={},o=null,h=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(h=e.ref);for(i in e)Bl.call(e,i)&&!ql.hasOwnProperty(i)&&(s[i]=e[i]);if(r&&r.defaultProps)for(i in e=r.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:Fl,type:r,key:o,ref:h,props:s,_owner:Ol.current}}Gr.Fragment=Ll;Gr.jsx=mo;Gr.jsxs=mo;go.exports=Gr;var t=go.exports,gi={},as=ka;gi.createRoot=as.createRoot,gi.hydrateRoot=as.hydrateRoot;const Ul="modulepreload",Vl=function(r){return"/"+r},ls={},se=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));s=Promise.allSettled(n.map(m=>{if(m=Vl(m),m in ls)return;ls[m]=!0;const g=m.endsWith(".css"),E=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${E}`))return;const j=document.createElement("link");if(j.rel=g?"stylesheet":Ul,g||(j.as="script"),j.crossOrigin="",j.href=m,p&&j.setAttribute("nonce",p),document.head.appendChild(j),g)return new Promise((x,y)=>{j.addEventListener("load",x),j.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return s.then(h=>{for(const p of h||[])p.status==="rejected"&&o(p.reason);return e().catch(o)})},Kr="/api",G=qe.create({baseURL:Kr,headers:{"Content-Type":"application/json",Accept:"application/json"}}),We=qe.create({baseURL:Kr,headers:{"Content-Type":"application/json",Accept:"application/json"}}),Mi=qe.create({baseURL:Kr,headers:{"Content-Type":"application/json",Accept:"application/json"}});G.interceptors.request.use(r=>{var o,h,p,m,g,E,j,x,y;const e=localStorage.getItem("token"),n=localStorage.getItem("exhibitor_token"),i=((o=r.url)==null?void 0:o.startsWith("/bookings/"))&&r.method==="patch"||((h=r.url)==null?void 0:h.includes("/exhibition/"))||((p=r.url)==null?void 0:p.includes("/stalls/"))||((m=r.url)==null?void 0:m.includes("/halls/"))||((g=r.url)==null?void 0:g.includes("/users/"))||((E=r.url)==null?void 0:E.includes("/roles/")),s=((j=r.url)==null?void 0:j.includes("/test-booking"))||((x=r.url)==null?void 0:x.includes("/exhibitor-bookings"))||((y=r.url)==null?void 0:y.startsWith("/exhibitors/"));return i?e?r.headers.Authorization=`Bearer ${e}`:console.warn("Admin token required but not found for:",r.url):s&&n?r.headers.Authorization=`Bearer ${n}`:e?r.headers.Authorization=`Bearer ${e}`:n&&(r.headers.Authorization=`Bearer ${n}`),r},r=>Promise.reject(r));Mi.interceptors.request.use(r=>{const e=localStorage.getItem("exhibitor_token");return e&&(r.headers.Authorization=`Bearer ${e}`),r},r=>Promise.reject(r));G.interceptors.response.use(r=>r,r=>{var n,i,s,o,h,p;((n=r.response)==null?void 0:n.status)===401?(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(window.location.href="/login")):((i=r.response)==null?void 0:i.status)===403&&((o=(s=r.response)==null?void 0:s.data)==null?void 0:o.code)==="ACCOUNT_INACTIVE"&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.pathname!=="/login"&&(localStorage.setItem("loginMessage",r.response.data.message),window.location.href="/login"));const e=((p=(h=r.response)==null?void 0:h.data)==null?void 0:p.message)||r.message;return Promise.reject(new Error(e))});Mi.interceptors.response.use(r=>r,r=>{var n,i,s;((n=r.response)==null?void 0:n.status)===401&&localStorage.removeItem("exhibitor_token");const e=((s=(i=r.response)==null?void 0:i.data)==null?void 0:s.message)||r.message;return Promise.reject(new Error(e))});const Hl=async(r,e=!1,n)=>{const i=e?localStorage.getItem("exhibitor_token"):localStorage.getItem("token");return qe.get(`${Kr}${r}`,{responseType:"blob",headers:{Authorization:`Bearer ${i}`},onDownloadProgress:n})},xg=Object.freeze(Object.defineProperty({__proto__:null,default:G,downloadFile:Hl,exhibitorApi:Mi,publicApi:We},Symbol.toStringTag,{value:"Module"})),xo={login:async r=>await G.post("/auth/login",r),getProfile:async()=>await G.get("/auth/me"),changePassword:async r=>await G.post("/auth/change-password",r)},cs=localStorage.getItem("token"),nn=localStorage.getItem("user");let bo=null;try{bo=nn&&nn!=="undefined"?JSON.parse(nn):null}catch(r){console.error("Failed to parse user data from localStorage",r),localStorage.removeItem("user")}const Wl={isAuthenticated:!!cs,user:bo,token:cs,loading:!1,error:null},Rr=ue("auth/refreshUser",async(r,{rejectWithValue:e})=>{var n,i;try{return(await xo.getProfile()).data}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to refresh user data")}}),yo=Le({name:"auth",initialState:Wl,reducers:{setCredentials:(r,e)=>{r.user=e.payload.user,r.token=e.payload.token,r.isAuthenticated=!0,localStorage.setItem("token",e.payload.token),localStorage.setItem("user",JSON.stringify(e.payload.user))},logout:r=>{r.user=null,r.token=null,r.isAuthenticated=!1,localStorage.removeItem("token"),localStorage.removeItem("user")}},extraReducers:r=>{r.addCase(Rr.pending,e=>{e.loading=!0,e.error=null}).addCase(Rr.fulfilled,(e,n)=>{e.loading=!1,e.user=n.payload,localStorage.setItem("user",JSON.stringify(n.payload))}).addCase(Rr.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{setCredentials:Ql,logout:sn}=yo.actions,Yl=yo.reducer,at=Object.create(null);at.open="0";at.close="1";at.ping="2";at.pong="3";at.message="4";at.upgrade="5";at.noop="6";const Tr=Object.create(null);Object.keys(at).forEach(r=>{Tr[at[r]]=r});const mi={type:"error",data:"parser error"},vo=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",wo=typeof ArrayBuffer=="function",jo=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,Fi=({type:r,data:e},n,i)=>vo&&e instanceof Blob?n?i(e):ds(e,i):wo&&(e instanceof ArrayBuffer||jo(e))?n?i(e):ds(new Blob([e]),i):i(at[r]+(e||"")),ds=(r,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(r)};function us(r){return r instanceof Uint8Array?r:r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}let on;function Gl(r,e){if(vo&&r.data instanceof Blob)return r.data.arrayBuffer().then(us).then(e);if(wo&&(r.data instanceof ArrayBuffer||jo(r.data)))return e(us(r.data));Fi(r,!1,n=>{on||(on=new TextEncoder),e(on.encode(n))})}const hs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ir=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<hs.length;r++)ir[hs.charCodeAt(r)]=r;const Kl=r=>{let e=r.length*.75,n=r.length,i,s=0,o,h,p,m;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);const g=new ArrayBuffer(e),E=new Uint8Array(g);for(i=0;i<n;i+=4)o=ir[r.charCodeAt(i)],h=ir[r.charCodeAt(i+1)],p=ir[r.charCodeAt(i+2)],m=ir[r.charCodeAt(i+3)],E[s++]=o<<2|h>>4,E[s++]=(h&15)<<4|p>>2,E[s++]=(p&3)<<6|m&63;return g},Xl=typeof ArrayBuffer=="function",Li=(r,e)=>{if(typeof r!="string")return{type:"message",data:So(r,e)};const n=r.charAt(0);return n==="b"?{type:"message",data:Jl(r.substring(1),e)}:Tr[n]?r.length>1?{type:Tr[n],data:r.substring(1)}:{type:Tr[n]}:mi},Jl=(r,e)=>{if(Xl){const n=Kl(r);return So(n,e)}else return{base64:!0,data:r}},So=(r,e)=>{switch(e){case"blob":return r instanceof Blob?r:new Blob([r]);case"arraybuffer":default:return r instanceof ArrayBuffer?r:r.buffer}},ko="",Zl=(r,e)=>{const n=r.length,i=new Array(n);let s=0;r.forEach((o,h)=>{Fi(o,!1,p=>{i[h]=p,++s===n&&e(i.join(ko))})})},ec=(r,e)=>{const n=r.split(ko),i=[];for(let s=0;s<n.length;s++){const o=Li(n[s],e);if(i.push(o),o.type==="error")break}return i};function tc(){return new TransformStream({transform(r,e){Gl(r,n=>{const i=n.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const o=new DataView(s.buffer);o.setUint8(0,126),o.setUint16(1,i)}else{s=new Uint8Array(9);const o=new DataView(s.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(i))}r.data&&typeof r.data!="string"&&(s[0]|=128),e.enqueue(s),e.enqueue(n)})}})}let an;function mr(r){return r.reduce((e,n)=>e+n.length,0)}function xr(r,e){if(r[0].length===e)return r.shift();const n=new Uint8Array(e);let i=0;for(let s=0;s<e;s++)n[s]=r[0][i++],i===r[0].length&&(r.shift(),i=0);return r.length&&i<r[0].length&&(r[0]=r[0].slice(i)),n}function rc(r,e){an||(an=new TextDecoder);const n=[];let i=0,s=-1,o=!1;return new TransformStream({transform(h,p){for(n.push(h);;){if(i===0){if(mr(n)<1)break;const m=xr(n,1);o=(m[0]&128)===128,s=m[0]&127,s<126?i=3:s===126?i=1:i=2}else if(i===1){if(mr(n)<2)break;const m=xr(n,2);s=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),i=3}else if(i===2){if(mr(n)<8)break;const m=xr(n,8),g=new DataView(m.buffer,m.byteOffset,m.length),E=g.getUint32(0);if(E>Math.pow(2,21)-1){p.enqueue(mi);break}s=E*Math.pow(2,32)+g.getUint32(4),i=3}else{if(mr(n)<s)break;const m=xr(n,s);p.enqueue(Li(o?m:an.decode(m),e)),i=0}if(s===0||s>r){p.enqueue(mi);break}}}})}const Eo=4;function Ie(r){if(r)return nc(r)}function nc(r){for(var e in Ie.prototype)r[e]=Ie.prototype[e];return r}Ie.prototype.on=Ie.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};Ie.prototype.once=function(r,e){function n(){this.off(r,n),e.apply(this,arguments)}return n.fn=e,this.on(r,n),this};Ie.prototype.off=Ie.prototype.removeListener=Ie.prototype.removeAllListeners=Ie.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+r];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var i,s=0;s<n.length;s++)if(i=n[s],i===e||i.fn===e){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+r],this};Ie.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+r],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,s=n.length;i<s;++i)n[i].apply(this,e)}return this};Ie.prototype.emitReserved=Ie.prototype.emit;Ie.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};Ie.prototype.hasListeners=function(r){return!!this.listeners(r).length};const Xr=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Ye=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),ic="arraybuffer";function Co(r,...e){return e.reduce((n,i)=>(r.hasOwnProperty(i)&&(n[i]=r[i]),n),{})}const sc=Ye.setTimeout,oc=Ye.clearTimeout;function Jr(r,e){e.useNativeTimers?(r.setTimeoutFn=sc.bind(Ye),r.clearTimeoutFn=oc.bind(Ye)):(r.setTimeoutFn=Ye.setTimeout.bind(Ye),r.clearTimeoutFn=Ye.clearTimeout.bind(Ye))}const ac=1.33;function lc(r){return typeof r=="string"?cc(r):Math.ceil((r.byteLength||r.size)*ac)}function cc(r){let e=0,n=0;for(let i=0,s=r.length;i<s;i++)e=r.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function Io(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function dc(r){let e="";for(let n in r)r.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(r[n]));return e}function uc(r){let e={},n=r.split("&");for(let i=0,s=n.length;i<s;i++){let o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}class hc extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class Bi extends Ie{constructor(e){super(),this.writable=!1,Jr(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,i){return super.emitReserved("error",new hc(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=Li(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=dc(e);return n.length?"?"+n:""}}class pc extends Bi{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};ec(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Zl(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=Io()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let _o=!1;try{_o=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const fc=_o;function gc(){}class mc extends pc{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(s,o)=>{this.onError("xhr post error",s,o)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}let Ut=class Ar extends Ie{constructor(e,n,i){super(),this.createRequest=e,Jr(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const n=Co(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&i.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var s;i.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Ar.requestsCount++,Ar.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=gc,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ar.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ut.requestsCount=0;Ut.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",ps);else if(typeof addEventListener=="function"){const r="onpagehide"in Ye?"pagehide":"unload";addEventListener(r,ps,!1)}}function ps(){for(let r in Ut.requests)Ut.requests.hasOwnProperty(r)&&Ut.requests[r].abort()}const xc=function(){const r=Ro({xdomain:!1});return r&&r.responseType!==null}();class bc extends mc{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=xc&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ut(Ro,this.uri(),e)}}function Ro(r){const e=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||fc))return new XMLHttpRequest}catch{}if(!e)try{return new Ye[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const To=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class yc extends Bi{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,i=To?{}:Co(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,i)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;Fi(i,this.supportsBinary,o=>{try{this.doWrite(i,o)}catch{}s&&Xr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=Io()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const ln=Ye.WebSocket||Ye.MozWebSocket;class vc extends yc{createSocket(e,n,i){return To?new ln(e,n,i):n?new ln(e,n):new ln(e)}doWrite(e,n){this.ws.send(n)}}class wc extends Bi{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=rc(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),s=tc();s.readable.pipeTo(e.writable),this._writer=s.writable.getWriter();const o=()=>{i.read().then(({done:p,value:m})=>{p||(this.onPacket(m),o())}).catch(p=>{})};o();const h={type:"open"};this.query.sid&&(h.data=`{"sid":"${this.query.sid}"}`),this._writer.write(h).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],s=n===e.length-1;this._writer.write(i).then(()=>{s&&Xr(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const jc={websocket:vc,webtransport:wc,polling:bc},Sc=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,kc=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function xi(r){if(r.length>8e3)throw"URI too long";const e=r,n=r.indexOf("["),i=r.indexOf("]");n!=-1&&i!=-1&&(r=r.substring(0,n)+r.substring(n,i).replace(/:/g,";")+r.substring(i,r.length));let s=Sc.exec(r||""),o={},h=14;for(;h--;)o[kc[h]]=s[h]||"";return n!=-1&&i!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Ec(o,o.path),o.queryKey=Cc(o,o.query),o}function Ec(r,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function Cc(r,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,o){s&&(n[s]=o)}),n}const bi=typeof addEventListener=="function"&&typeof removeEventListener=="function",Pr=[];bi&&addEventListener("offline",()=>{Pr.forEach(r=>r())},!1);class wt extends Ie{constructor(e,n){if(super(),this.binaryType=ic,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const i=xi(e);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=xi(n.host).host);Jr(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const s=i.prototype.name;this.transports.push(s),this._transportsByName[s]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=uc(this.opts.query)),bi&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Pr.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=Eo,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&wt.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",wt.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const s=this.writeBuffer[i].data;if(s&&(n+=lc(s)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Xr(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,i){return this._sendPacket("message",e,n,i),this}send(e,n,i){return this._sendPacket("message",e,n,i),this}_sendPacket(e,n,i,s){if(typeof n=="function"&&(s=n,n=void 0),typeof i=="function"&&(s=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const o={type:e,data:n,options:i};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(wt.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),bi&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=Pr.indexOf(this._offlineEventListener);i!==-1&&Pr.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}wt.protocol=Eo;class Ic extends wt{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),i=!1;wt.priorWebsocketSuccess=!1;const s=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",j=>{if(!i)if(j.type==="pong"&&j.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;wt.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(E(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=n.name,this.emitReserved("upgradeError",x)}}))};function o(){i||(i=!0,E(),n.close(),n=null)}const h=j=>{const x=new Error("probe error: "+j);x.transport=n.name,o(),this.emitReserved("upgradeError",x)};function p(){h("transport closed")}function m(){h("socket closed")}function g(j){n&&j.name!==n.name&&o()}const E=()=>{n.removeListener("open",s),n.removeListener("error",h),n.removeListener("close",p),this.off("close",m),this.off("upgrading",g)};n.once("open",s),n.once("error",h),n.once("close",p),this.once("close",m),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}}let _c=class extends Ic{constructor(e,n={}){const i=typeof e=="object"?e:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(s=>jc[s]).filter(s=>!!s)),super(e,i)}};function Rc(r,e="",n){let i=r;n=n||typeof location<"u"&&location,r==null&&(r=n.protocol+"//"+n.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=n.protocol+r:r=n.host+r),/^(https?|wss?):\/\//.test(r)||(typeof n<"u"?r=n.protocol+"//"+r:r="https://"+r),i=xi(r)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const o=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+o+":"+i.port+e,i.href=i.protocol+"://"+o+(n&&n.port===i.port?"":":"+i.port),i}const Tc=typeof ArrayBuffer=="function",Ac=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,Ao=Object.prototype.toString,Pc=typeof Blob=="function"||typeof Blob<"u"&&Ao.call(Blob)==="[object BlobConstructor]",Nc=typeof File=="function"||typeof File<"u"&&Ao.call(File)==="[object FileConstructor]";function Oi(r){return Tc&&(r instanceof ArrayBuffer||Ac(r))||Pc&&r instanceof Blob||Nc&&r instanceof File}function Nr(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let n=0,i=r.length;n<i;n++)if(Nr(r[n]))return!0;return!1}if(Oi(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Nr(r.toJSON(),!0);for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&Nr(r[n]))return!0;return!1}function zc(r){const e=[],n=r.data,i=r;return i.data=yi(n,e),i.attachments=e.length,{packet:i,buffers:e}}function yi(r,e){if(!r)return r;if(Oi(r)){const n={_placeholder:!0,num:e.length};return e.push(r),n}else if(Array.isArray(r)){const n=new Array(r.length);for(let i=0;i<r.length;i++)n[i]=yi(r[i],e);return n}else if(typeof r=="object"&&!(r instanceof Date)){const n={};for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=yi(r[i],e));return n}return r}function $c(r,e){return r.data=vi(r.data,e),delete r.attachments,r}function vi(r,e){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<e.length)return e[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let n=0;n<r.length;n++)r[n]=vi(r[n],e);else if(typeof r=="object")for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&(r[n]=vi(r[n],e));return r}const Dc=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Mc=5;var he;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(he||(he={}));class Fc{constructor(e){this.replacer=e}encode(e){return(e.type===he.EVENT||e.type===he.ACK)&&Nr(e)?this.encodeAsBinary({type:e.type===he.EVENT?he.BINARY_EVENT:he.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===he.BINARY_EVENT||e.type===he.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=zc(e),i=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(i),s}}function fs(r){return Object.prototype.toString.call(r)==="[object Object]"}class qi extends Ie{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===he.BINARY_EVENT;i||n.type===he.BINARY_ACK?(n.type=i?he.EVENT:he.ACK,this.reconstructor=new Lc(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Oi(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(he[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===he.BINARY_EVENT||i.type===he.BINARY_ACK){const o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const h=e.substring(o,n);if(h!=Number(h)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(h)}if(e.charAt(n+1)==="/"){const o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(o,n)}else i.nsp="/";const s=e.charAt(n+1);if(s!==""&&Number(s)==s){const o=n+1;for(;++n;){const h=e.charAt(n);if(h==null||Number(h)!=h){--n;break}if(n===e.length)break}i.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){const o=this.tryParse(e.substr(n));if(qi.isPayloadValid(i.type,o))i.data=o;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case he.CONNECT:return fs(n);case he.DISCONNECT:return n===void 0;case he.CONNECT_ERROR:return typeof n=="string"||fs(n);case he.EVENT:case he.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Dc.indexOf(n[0])===-1);case he.ACK:case he.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Lc{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=$c(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Bc=Object.freeze(Object.defineProperty({__proto__:null,Decoder:qi,Encoder:Fc,get PacketType(){return he},protocol:Mc},Symbol.toStringTag,{value:"Module"}));function Je(r,e,n){return r.on(e,n),function(){r.off(e,n)}}const Oc=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Po extends Ie{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Je(e,"open",this.onopen.bind(this)),Je(e,"packet",this.onpacket.bind(this)),Je(e,"error",this.onerror.bind(this)),Je(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var i,s,o;if(Oc.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const h={type:he.EVENT,data:n};if(h.options={},h.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const E=this.ids++,j=n.pop();this._registerAckCallback(E,j),h.id=E}const p=(s=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||s===void 0?void 0:s.writable,m=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!p||(m?(this.notifyOutgoingListeners(h),this.packet(h)):this.sendBuffer.push(h)),this.flags={},this}_registerAckCallback(e,n){var i;const s=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(s===void 0){this.acks[e]=n;return}const o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===e&&this.sendBuffer.splice(p,1);n.call(this,new Error("operation has timed out"))},s),h=(...p)=>{this.io.clearTimeoutFn(o),n.apply(this,p)};h.withError=!0,this.acks[e]=h}emitWithAck(e,...n){return new Promise((i,s)=>{const o=(h,p)=>h?s(h):i(p);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((s,...o)=>i!==this._queue[0]?void 0:(s!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...o)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:he.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case he.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case he.EVENT:case he.BINARY_EVENT:this.onevent(e);break;case he.ACK:case he.BINARY_ACK:this.onack(e);break;case he.DISCONNECT:this.ondisconnect();break;case he.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...s){i||(i=!0,n.packet({type:he.ACK,id:e,data:s}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:he.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function Gt(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}Gt.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*r);r=Math.floor(e*10)&1?r+n:r-n}return Math.min(r,this.max)|0};Gt.prototype.reset=function(){this.attempts=0};Gt.prototype.setMin=function(r){this.ms=r};Gt.prototype.setMax=function(r){this.max=r};Gt.prototype.setJitter=function(r){this.jitter=r};class wi extends Ie{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Jr(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Gt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const s=n.parser||Bc;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new _c(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=Je(n,"open",function(){i.onopen(),e&&e()}),o=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),e?e(p):this.maybeReconnectOnOpen()},h=Je(n,"error",o);if(this._timeout!==!1){const p=this._timeout,m=this.setTimeoutFn(()=>{s(),o(new Error("timeout")),n.close()},p);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(s),this.subs.push(h),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Je(e,"ping",this.onping.bind(this)),Je(e,"data",this.ondata.bind(this)),Je(e,"error",this.onerror.bind(this)),Je(e,"close",this.onclose.bind(this)),Je(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){Xr(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new Po(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(s=>{s?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",s)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Jt={};function zr(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const n=Rc(r,e.path||"/socket.io"),i=n.source,s=n.id,o=n.path,h=Jt[s]&&o in Jt[s].nsps,p=e.forceNew||e["force new connection"]||e.multiplex===!1||h;let m;return p?m=new wi(i,e):(Jt[s]||(Jt[s]=new wi(i,e)),m=Jt[s]),n.query&&!e.query&&(e.query=n.queryKey),m.socket(n.path,e)}Object.assign(zr,{Manager:wi,Socket:Po,io:zr,connect:zr});const qc=window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1",nt=qc?"https://aakarbooking.com/api":"http://localhost:5000/api",yg="ma7o6bmjpok2nhnhq6jgcwrlg446a2hnyxqih70ni695pvm5";class Uc{constructor(){this.socket=null,this.subscribedToNotifications=!1,this.reconnectTimer=null,this.listeners={},this.unreadCount=0,this.isExhibitor=!1,this.lastToken="",this.handleConnect=()=>{setTimeout(()=>{this.subscribedToNotifications&&this.socket&&this.socket.emit("subscribe_notifications"),this.fetchUnreadCount(),this.triggerEvent("connected",!0)},500)},this.handleDisconnect=e=>{this.triggerEvent("disconnected",e),e!=="io client disconnect"&&e!=="transport close"&&this.scheduleReconnect()},this.handleConnectError=e=>{console.error("Notification socket connection error:",e),this.scheduleReconnect()},this.handleError=e=>{console.error("Notification socket error:",e),this.scheduleReconnect()},this.scheduleReconnect=()=>{this.reconnectTimer||(this.reconnectTimer=setTimeout(()=>{this.refreshAndReconnect(),this.reconnectTimer=null},5e3))},this.refreshAndReconnect=async()=>{try{const e=this.isExhibitor?"exhibitor_token":"token",n=localStorage.getItem(e);n?this.init(n,this.isExhibitor):console.error(`No ${this.isExhibitor?"exhibitor":"admin"} token found for reconnection`)}catch(e){console.error("Error refreshing token for socket reconnection:",e)}},this.handleNewNotification=e=>{this.unreadCount=e.unreadCount,this.triggerEvent("notification",e.notification),this.triggerEvent("unreadCount",this.unreadCount)},this.handleNotificationUpdate=e=>{this.unreadCount=e.unreadCount,this.triggerEvent("unreadCount",this.unreadCount),e.newNotifications&&e.newNotifications.length>0&&e.newNotifications.forEach(n=>{this.triggerEvent("notification",n)})},this.handleUserDeactivated=e=>{console.warn("User deactivated event received:",e.message),localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("exhibitor_token"),localStorage.removeItem("exhibitor"),localStorage.setItem("loginMessage",e.message||"Your account has been deactivated. Please contact the administrator."),this.disconnect(),this.triggerEvent("user_deactivated",e),window.location.pathname!=="/login"&&(window.location.href="/login")}}init(e,n=!1){var i;if(!((i=this.socket)!=null&&i.connected&&this.lastToken===e&&this.isExhibitor===n)){this.isExhibitor=n,this.lastToken=e,this.socket&&(this.socket.disconnect(),this.socket=null),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null);try{if(!e||typeof e!="string")throw new Error("Invalid token provided for socket connection");const s=nt.replace("/api",""),o=e.startsWith("Bearer ")?e.substring(7):e;this.socket=zr(s,{auth:{token:o,type:n?"exhibitor":"admin"},forceNew:!0,reconnection:!0,reconnectionAttempts:5,reconnectionDelay:3e3,timeout:2e4,autoConnect:!0,transports:["polling","websocket"]}),this.socket.on("connect",this.handleConnect),this.socket.on("disconnect",this.handleDisconnect),this.socket.on("connect_error",this.handleConnectError),this.socket.on("error",this.handleError),this.socket.on("new_notification",this.handleNewNotification),this.socket.on("notification_update",this.handleNotificationUpdate),this.socket.on("user_deactivated",this.handleUserDeactivated)}catch(s){console.error("Error initializing notification socket:",s),this.scheduleReconnect()}}}subscribeToNotifications(){this.subscribedToNotifications=!0,this.socket&&this.socket.connected&&this.socket.emit("subscribe_notifications")}unsubscribeFromNotifications(){this.subscribedToNotifications=!1,this.socket&&this.socket.connected&&this.socket.emit("unsubscribe_notifications")}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.unreadCount=0,this.subscribedToNotifications=!1}addEventListener(e,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(n)}removeEventListener(e,n){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(i=>i!==n))}triggerEvent(e,n){this.listeners[e]&&this.listeners[e].forEach(i=>{try{i(n)}catch(s){console.error(`Error in notification ${e} listener:`,s)}})}getUnreadCount(){return this.unreadCount}async fetchUnreadCount(){try{const e=this.isExhibitor?"notifications/exhibitor":"notifications/admin",n={limit:1,page:1,unreadOnly:!0},i=this.isExhibitor?"exhibitor_token":"token",s=localStorage.getItem(i);if(!s)return console.error(`No ${this.isExhibitor?"exhibitor":"admin"} token available for notification requests`),0;const o=await qe.get(e,{baseURL:nt,params:n,headers:{Authorization:`Bearer ${s}`}});return o.data&&o.data.success?(this.unreadCount=o.data.data.unreadCount,this.triggerEvent("unreadCount",this.unreadCount),this.unreadCount):0}catch(e){return console.error("Error fetching unread count:",e),0}}async getNotifications(e=1,n=10,i=!1){try{const s=this.isExhibitor?"notifications/exhibitor":"notifications/admin",o={page:e,limit:n,unreadOnly:i},h=this.isExhibitor?"exhibitor_token":"token",p=localStorage.getItem(h);if(!p)throw new Error(`No ${this.isExhibitor?"exhibitor":"admin"} token available for notification requests`);return(await qe.get(s,{baseURL:nt,params:o,headers:{Authorization:`Bearer ${p}`}})).data}catch(s){return console.error("Error fetching notifications:",s),{success:!1,data:{notifications:[],pagination:{total:0,page:1,limit:10,pages:0},unreadCount:0}}}}async markAsRead(e){try{const n=this.isExhibitor?`notifications/exhibitor/mark-read/${e}`:`notifications/admin/mark-read/${e}`,i=this.isExhibitor?"exhibitor_token":"token",s=localStorage.getItem(i);if(!s)throw new Error(`No ${this.isExhibitor?"exhibitor":"admin"} token available for notification requests`);const o=await qe.put(n,{},{baseURL:nt,headers:{Authorization:`Bearer ${s}`}});return o.data&&o.data.success&&(this.unreadCount=o.data.data.unreadCount,this.triggerEvent("unreadCount",this.unreadCount)),o.data}catch(n){throw console.error("Error marking notification as read:",n),n}}async markAllAsRead(){try{const e=this.isExhibitor?"notifications/exhibitor/mark-all-read":"notifications/admin/mark-all-read",n=this.isExhibitor?"exhibitor_token":"token",i=localStorage.getItem(n);if(!i)throw new Error(`No ${this.isExhibitor?"exhibitor":"admin"} token available for notification requests`);const s=await qe.put(e,{},{baseURL:nt,headers:{Authorization:`Bearer ${i}`}});return s.data&&s.data.success&&(this.unreadCount=0,this.triggerEvent("unreadCount",this.unreadCount)),s.data}catch(e){throw console.error("Error marking all notifications as read:",e),e}}async deleteNotification(e){try{const n=this.isExhibitor?`notifications/exhibitor/${e}`:`notifications/admin/${e}`,i=await qe.delete(n,{baseURL:nt,headers:{Authorization:`Bearer ${localStorage.getItem(this.isExhibitor?"exhibitor_token":"token")}`}});if(i.data.success)return i.data.data.unreadCount!==void 0&&(this.unreadCount=i.data.data.unreadCount,this.triggerEvent("unreadCount",this.unreadCount)),i.data;throw new Error("Failed to delete notification")}catch(n){throw console.error("Error deleting notification:",n),n}}async deleteAllNotifications(){try{const e=this.isExhibitor?"notifications/exhibitor/delete-all":"notifications/admin/delete-all",n=await qe.delete(e,{baseURL:nt,headers:{Authorization:`Bearer ${localStorage.getItem(this.isExhibitor?"exhibitor_token":"token")}`}});if(n.data.success)return this.unreadCount=0,this.triggerEvent("unreadCount",this.unreadCount),n.data;throw new Error("Failed to delete all notifications")}catch(e){throw console.error("Error deleting all notifications:",e),e}}}const Pe=new Uc;var st=(r=>(r.NEW_LEAD="New Lead",r.FOLLOWUP_DUE="Follow-up Due",r.STATUS_CHANGE="Status Changed",r.ASSIGNMENT="Lead Assigned",r.NEW_BOOKING="NEW_BOOKING",r.BOOKING_CONFIRMED="BOOKING_CONFIRMED",r.BOOKING_CANCELLED="BOOKING_CANCELLED",r.PAYMENT_RECEIVED="PAYMENT_RECEIVED",r.INVOICE_GENERATED="INVOICE_GENERATED",r.EXHIBITION_UPDATE="EXHIBITION_UPDATE",r.SYSTEM_MESSAGE="SYSTEM_MESSAGE",r.EXHIBITOR_MESSAGE="EXHIBITOR_MESSAGE",r.EXHIBITOR_REGISTERED="EXHIBITOR_REGISTERED",r))(st||{}),yt=(r=>(r.HIGH="HIGH",r.MEDIUM="MEDIUM",r.LOW="LOW",r))(yt||{}),ji=(r=>(r.READ="Read",r.UNREAD="Unread",r))(ji||{}),No={exports:{}};(function(r,e){(function(n,i){r.exports=i()})(Ea,function(){return function(n,i,s){n=n||{};var o=i.prototype,h={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function p(g,E,j,x){return o.fromToBase(g,E,j,x)}s.en.relativeTime=h,o.fromToBase=function(g,E,j,x,y){for(var P,T,A,R=j.$locale().relativeTime||h,N=n.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],I=N.length,l=0;l<I;l+=1){var a=N[l];a.d&&(P=x?s(g).diff(j,a.d,!0):j.diff(g,a.d,!0));var c=(n.rounding||Math.round)(Math.abs(P));if(A=P>0,c<=a.r||!a.r){c<=1&&l>0&&(a=N[l-1]);var d=R[a.l];y&&(c=y(""+c)),T=typeof d=="string"?d.replace("%d",c):d(c,E,a.l,A);break}}if(E)return T;var f=A?R.future:R.past;return typeof f=="function"?f(T):f.replace("%s",T)},o.to=function(g,E){return p(g,E,this,!0)},o.from=function(g,E){return p(g,E,this)};var m=function(g){return g.$u?s.utc():s()};o.toNow=function(g){return this.to(m(this),g)},o.fromNow=function(g){return this.from(m(this),g)}}})})(No);var Vc=No.exports;const Hc=Ca(Vc);Pi.extend(Hc);const gs=r=>{switch(r){case yt.HIGH:return"#f5222d";case yt.MEDIUM:return"#faad14";case yt.LOW:return"#52c41a";default:return"#1677ff"}},Wc=r=>Pi(r).fromNow(),Qc=r=>Pi(r).format("YYYY-MM-DD HH:mm"),vg=r=>r.filter(e=>e.isRead===!1).length,wg=r=>{if(!r.entityId||!r.entityType)return"/notifications";switch(r.entityType){case"lead":return`/leads/${r.entityId}`;case"followup":return`/followups/${r.entityId}`;case"Booking":return"/bookings";case"Invoice":return`/invoice/${r.entityId}`;case"Exhibition":return`/exhibition/${r.entityId}`;case"Exhibitor":return`/exhibitors?id=${r.entityId}`;default:return"/notifications"}},{Text:ms,Paragraph:Yc}=_e,Gc=({notification:r,onView:e,onMarkAsRead:n,onDelete:i})=>{const s=()=>{switch(r.type){case st.NEW_LEAD:return t.jsx(hi,{style:{color:"#1677ff"}});case st.FOLLOWUP_DUE:return t.jsx(Br,{style:{color:"#faad14"}});case st.STATUS_CHANGE:return t.jsx(La,{style:{color:"#722ed1"}});case st.ASSIGNMENT:return t.jsx(Be,{style:{color:"#52c41a"}});default:return t.jsx(io,{style:{color:"#1677ff"}})}},o=()=>{r.isRead||n(r),e(r)},h=p=>{p.stopPropagation(),i(r)};return t.jsx(ui.Item,{onClick:o,className:r.isRead?"":"notification-unread",style:{cursor:"pointer",backgroundColor:r.isRead?"transparent":"#f0f5ff",padding:"16px",borderRadius:"4px",transition:"background-color 0.3s"},actions:[t.jsx(vt,{title:"Delete notification",children:t.jsx(K,{type:"text",danger:!0,icon:t.jsx(Ht,{}),onClick:h,"aria-label":"Delete notification"})})],children:t.jsx(ui.Item.Meta,{avatar:t.jsx(ht,{dot:!r.isRead,color:gs(r.priority),children:t.jsx(Wr,{icon:s(),size:"large",style:{backgroundColor:"white",border:`1px solid ${gs(r.priority)}`}})}),title:t.jsxs(de,{children:[t.jsx(ms,{strong:!0,children:r.title}),!r.isRead&&t.jsx(Ge,{color:"blue",children:"New"})]}),description:t.jsxs("div",{children:[t.jsx(Yc,{ellipsis:{rows:2},style:{marginBottom:4},children:r.message}),t.jsx(vt,{title:Qc(r.createdAt),children:t.jsx(ms,{type:"secondary",style:{fontSize:12},children:Wc(r.createdAt)})})]})})})},{Title:Kc,Text:jg}=_e,Xc=r=>{switch(r){case"NEW_BOOKING":return st.NEW_LEAD;case"BOOKING_CONFIRMED":case"INVOICE_GENERATED":case"PAYMENT_RECEIVED":return st.STATUS_CHANGE;case"EXHIBITOR_MESSAGE":return st.FOLLOWUP_DUE;case"EXHIBITOR_REGISTERED":return st.NEW_LEAD;default:return st.STATUS_CHANGE}},Jc=r=>{switch(r){case"HIGH":return yt.HIGH;case"MEDIUM":return yt.MEDIUM;case"LOW":return yt.LOW;default:return yt.MEDIUM}},Zc=({isExhibitor:r=!1})=>{const e=Ke(),[n,i]=u.useState([]),[s,o]=u.useState(!1),[h,p]=u.useState(!1),[m,g]=u.useState(0),[E,j]=u.useState(!1),[x,y]=u.useState("all"),P=u.useRef(null),{isAuthenticated:T,user:A}=De(S=>S.auth),{isAuthenticated:R}=De(S=>S.exhibitorAuth||{isAuthenticated:!1}),N=r?R:T,[I,l]=u.useState(!1);u.useEffect(()=>{if(N){const S=r?"exhibitor_token":"token",M=localStorage.getItem(S);if(M){Pe.init(M,r),Pe.subscribeToNotifications();const $=H=>{g(H),H>0&&!h&&(j(!0),setTimeout(()=>{j(!1)},2e3))},V=H=>{i(q=>[H,...q])},O=()=>{l(!0),a()},B=()=>{l(!1)};return Pe.addEventListener("unreadCount",$),Pe.addEventListener("notification",V),Pe.addEventListener("connected",O),Pe.addEventListener("disconnected",B),a(),()=>{Pe.removeEventListener("unreadCount",$),Pe.removeEventListener("notification",V),Pe.removeEventListener("connected",O),Pe.removeEventListener("disconnected",B),Pe.unsubscribeFromNotifications()}}else console.error(`No ${r?"exhibitor":"admin"} token found in localStorage`)}},[N,r]);const a=async()=>{if(N){o(!0);try{const S=await Pe.getNotifications(1,10);S.success&&(i(S.data.notifications),g(S.data.unreadCount))}catch(S){console.error("Error fetching notifications:",S)}finally{o(!1)}}},c=S=>{p(S),S&&(P.current&&P.current.classList.remove("bell-animate"),a())},d=async S=>{if(S.isRead||await f(S),p(!1),S.entityId&&S.entityType){let M="";switch(S.entityType){case"Booking":M=r?`/exhibitor/bookings/${S.entityId}`:"/bookings";break;case"Invoice":M=r?`/exhibitor/invoice/${S.entityId}`:`/invoice/${S.entityId}`;break;case"Exhibition":M=`/exhibition/${S.entityId}`;break;case"Exhibitor":M=`/exhibitors?id=${S.entityId}`;break;default:M=""}e(M||"/notifications")}else e("/notifications")},f=async S=>{try{await Pe.markAsRead(S._id),i(n.map(M=>M._id===S._id?{...M,isRead:!0}:M))}catch(M){console.error("Error marking notification as read:",M)}},k=async S=>{try{await Pe.deleteNotification(S._id),i(n.filter(M=>M._id!==S._id)),S.isRead||g(M=>Math.max(0,M-1))}catch(M){console.error("Error deleting notification:",M)}},v=()=>{p(!1),e("/notifications")},w=async()=>{try{await Pe.markAllAsRead(),i(n.map(S=>({...S,isRead:!0}))),g(0)}catch(S){console.error("Error marking all notifications as read:",S)}},b=async()=>{try{await Pe.deleteAllNotifications(),i([]),g(0)}catch(S){console.error("Error deleting all notifications:",S)}},_=()=>x==="unread"?n.filter(S=>!S.isRead):n.slice(0,10),C=S=>{y(S)},D=S=>{var M;return{_id:S._id,recipient:S.recipient,recipientType:S.recipientType||"admin",title:S.title,message:S.message,type:Xc(S.type),priority:Jc(S.priority),isRead:S.isRead,readAt:S.readAt,entityId:S.entityId,entityType:S.entityType,data:S.data,createdAt:S.createdAt,updatedAt:S.updatedAt||S.createdAt,id:S._id,userId:S.recipient,source:(M=S.data)==null?void 0:M.source,status:S.isRead?ji.READ:ji.UNREAD}},z=t.jsxs("div",{className:"notification-dropdown",children:[t.jsxs("div",{className:"notification-header",children:[t.jsx(Kc,{level:5,style:{margin:0},children:"Notifications"}),t.jsxs(de,{children:[t.jsx(K,{type:"text",size:"small",icon:t.jsx(so,{}),onClick:a,loading:s,className:"header-btn",title:"Refresh notifications"}),t.jsx(K,{type:"text",size:"small",icon:t.jsx(oo,{}),onClick:w,disabled:m===0,className:"header-btn",title:"Mark all as read"}),t.jsx(K,{type:"text",size:"small",danger:!0,icon:t.jsx(Ht,{}),onClick:b,disabled:n.length===0,className:"header-btn",title:"Clear all notifications"}),t.jsx(K,{type:"text",size:"small",icon:t.jsx(pi,{}),onClick:()=>e("/notifications"),className:"header-btn",title:"Notification Settings"}),t.jsx(K,{type:"text",size:"small",icon:t.jsx(Ba,{}),onClick:()=>p(!1),className:"header-btn",title:"Close"})]})]}),t.jsx(Ni,{activeKey:x,onChange:C,size:"small",className:"notification-tabs",items:[{key:"all",label:t.jsx("span",{children:"All"})},{key:"unread",label:t.jsxs("span",{className:"tab-label",children:["Unread",t.jsx(ht,{count:m,size:"small",offset:[5,-3],style:{backgroundColor:"#1677ff"}})]})}]}),t.jsx("div",{className:"notification-list",children:t.jsx(pt,{spinning:s,children:_().length===0?t.jsx(Qe,{image:Qe.PRESENTED_IMAGE_SIMPLE,description:x==="unread"?"No unread notifications":"No notifications",style:{padding:"20px 0"}}):t.jsx(ui,{dataSource:_(),renderItem:S=>t.jsx(Gc,{notification:D(S),onView:()=>d(S),onMarkAsRead:()=>f(S),onDelete:k})})})}),t.jsx($e,{style:{margin:"0"}}),t.jsx("div",{className:"notification-footer",children:t.jsx(K,{type:"link",onClick:v,children:"View All Notifications"})})]});return t.jsx("div",{ref:P,className:`bell-container ${E?"bell-animate":""}`,children:t.jsx(Qr,{overlay:z,trigger:["click"],open:h,onOpenChange:c,placement:"bottomRight",getPopupContainer:S=>S.parentNode,overlayClassName:"notification-dropdown-overlay",children:t.jsx("div",{className:"bell-trigger",children:t.jsx(ht,{count:m,className:"notification-badge",size:"default",overflowCount:99,children:t.jsx(io,{className:"notification-bell-icon"})})})})})};class ed{async getSettings(){return(await G.get("/settings")).data}async updateSettings(e){return(await G.put("/settings",e)).data}async uploadLogo(e){const n=new FormData;return n.append("file",e),(await G.post("/settings/upload/logo",n,{headers:{"Content-Type":"multipart/form-data"}})).data}}const Ui=new ed,td={settings:null,loading:!1,error:null},$r=ue("settings/fetchSettings",async(r,{rejectWithValue:e})=>{var n,i;try{return await Ui.getSettings()}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to fetch settings")}}),Dr=ue("settings/updateSettings",async(r,{rejectWithValue:e})=>{var n,i;try{return await Ui.updateSettings(r)}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to update settings")}}),cn=ue("settings/uploadLogo",async(r,{dispatch:e,rejectWithValue:n})=>{var i,s;try{const o=await Ui.uploadLogo(r);return o.path&&await e(Dr({logo:o.path})),o}catch(o){return n(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to upload logo")}}),rd=Le({name:"settings",initialState:td,reducers:{},extraReducers:r=>{r.addCase($r.pending,e=>{e.loading=!0,e.error=null}).addCase($r.fulfilled,(e,n)=>{e.settings=n.payload,e.loading=!1}).addCase($r.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Dr.pending,e=>{e.loading=!0,e.error=null}).addCase(Dr.fulfilled,(e,n)=>{e.settings=n.payload,e.loading=!1}).addCase(Dr.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(cn.pending,e=>{e.loading=!0,e.error=null}).addCase(cn.fulfilled,e=>{e.loading=!1}).addCase(cn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),nd=rd.reducer,id=()=>{const{user:r}=De(n=>n.auth),e=n=>{if(!r||!r.role||!r.role.permissions)return!1;const i=r.role.permissions;if(i.includes(n)||i.includes("*")||i.includes("all")||i.includes("admin")||i.includes("superadmin")||i.includes("full_access")||i.includes("manage_all"))return!0;const s=n.split("_");if(s.length===2){const o=s[0],h=s[1],p=[`${o}.*`,`*.${h}`,`view_${o}`,`${o}_view`,`${o}s_${h}`,`${h}_${o}`,`${o}`,`${h}`,o.endsWith("s")?`${o.slice(0,-1)}_${h}`:`${o}s_${h}`,`${o}_${h==="view"?"read":h}`,`${h==="view"?"read":h}_${o}`];for(const m of p)if(i.includes(m))return!0}return!1};return{hasPermission:e,hasAnyPermission:n=>n.some(i=>e(i)),hasAllPermissions:n=>n.every(i=>e(i))}},{Header:sd,Sider:od,Content:ad}=Se,ld=F.div`
  height: 65px;
  padding: 0 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-bottom: 1px solid #E5E7EB;
  transition: all 0.3s;
`,cd=F.div`
  border-radius: 8px;
  padding: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: all 0.2s ease;
`,dd=F.img`
  height: auto;
  width: 100%;
  max-width: 150px;
  max-height: auto;
  object-fit: contain;
`;F.span`
  margin-left: 12px;
  font-size: 18px;
  font-weight: 600;
  color: #111827;
  white-space: nowrap;
  transition: opacity 0.3s, margin-left 0.3s;
`;const xe=({children:r})=>{const[e,n]=u.useState(!1),i=Ke(),s=ft(),o=Ks(),h=De(a=>a.auth.user),{settings:p}=De(a=>a.settings),[m,g]=u.useState("/logo.png"),[E,j]=u.useState(!1),{hasPermission:x}=id(),y=u.useCallback(async()=>{try{j(!0),await s(Rr()).unwrap()}catch{}finally{j(!1)}},[s]);u.useEffect(()=>{const a=setInterval(()=>{y()},3e5);return()=>clearInterval(a)},[y]),u.useEffect(()=>{y()},[o.pathname,y]),u.useEffect(()=>{},[h,x]),u.useEffect(()=>{s($r())},[s]),u.useEffect(()=>{const a=()=>{s(sn())};return Pe.addEventListener("user_deactivated",a),()=>{Pe.removeEventListener("user_deactivated",a)}},[s]);const P=[{key:"dashboard",icon:t.jsx(lr,{}),label:"Dashboard",requiredPermission:"dashboard_view",onClick:()=>i("/dashboard")},{key:"exhibition",icon:t.jsx(co,{}),label:"Exhibitions",requiredPermission:"exhibitions_view",onClick:()=>i("/exhibition")},{key:"stalls",icon:t.jsx(Oe,{}),label:"Stalls",requiredPermission:"view_stalls",children:[{key:"stall/list",label:"Stall List",requiredPermission:"view_stalls",onClick:()=>i("/stall/list")},{key:"stall-types",label:"Stall Types",requiredPermission:"view_stall_types",onClick:()=>i("/stall-types")}]},{key:"bookings",icon:t.jsx(dt,{}),label:"Stall Bookings",requiredPermission:"view_bookings",onClick:()=>i("/bookings")},{key:"amenities",icon:t.jsx(Oa,{}),label:"Amenities",requiredPermission:"view_amenities",onClick:()=>i("/amenities")},{key:"letters",icon:t.jsx(_t,{}),label:"Letters",requiredPermission:"view_letters",onClick:()=>i("/letters")},{key:"invoices",icon:t.jsx(qa,{}),label:"Invoices",requiredPermission:"view_invoices",onClick:()=>i("/invoices")},{key:"service-charges",icon:t.jsx(fi,{}),label:"Service Charges",requiredPermission:"view_service_charges",children:[{key:"service-charges",label:"Manage Charges",requiredPermission:"view_service_charges",onClick:()=>i("/service-charges")},{key:"service-charge-stalls",label:"Stall Management",requiredPermission:"view_service_charges",onClick:()=>i("/service-charge-stalls")},{key:"service-charges/settings",label:"Settings",requiredPermission:"manage_service_charges",onClick:()=>i("/service-charges/settings")}]},{key:"exhibitors",icon:t.jsx(Yr,{}),label:"Exhibitors",requiredPermission:"view_exhibitors",onClick:()=>i("/exhibitors")},{key:"activity",icon:t.jsx(Ua,{}),label:"Activity",requiredPermission:"view_activities",onClick:()=>i("/activity")},{key:"analytics",icon:t.jsx(so,{}),label:"Analytics",requiredPermission:"analytics_view",onClick:()=>i("/analytics")},{key:"index",icon:t.jsx(Be,{}),label:"Users",requiredPermission:"users_view",onClick:()=>i("/index")},{key:"roles",icon:t.jsx(Va,{}),label:"Roles",requiredPermission:"roles_view",onClick:()=>i("/roles")},{key:"settings",icon:t.jsx(pi,{}),label:"Settings",requiredPermission:"settings_view",onClick:()=>i("/settings")}],T=a=>a.filter(c=>{if(c.requiredPermission&&!x(c.requiredPermission))return!1;if(c.children){const d=T(c.children);if(d.length===0)return!1;c.children=d}return!0}),A=T(P),R=a=>a.map(c=>{const{requiredPermission:d,...f}=c;return f.children&&(f.children=R(f.children)),f}),N=R(A);u.useEffect(()=>{const a={dashboard:"dashboard_view",exhibition:"exhibitions_view","stall/list":"view_stalls","stall-types":"view_stall_types",bookings:"view_bookings",amenities:"view_amenities",letters:"view_letters",invoices:"view_invoices","service-charges":"view_service_charges","service-charge-stalls":"view_service_charges","service-charges/settings":"manage_service_charges",exhibitors:"view_exhibitors",activity:"view_activities",analytics:"analytics_view",index:"users_view",roles:"roles_view",settings:"settings_view"},c=o.pathname.substring(1)||"dashboard",d=a[c];if(d&&!x(d)){const f=A.length>0?A[0]:null;f?i(`/${f.key}`):(s(sn()),i("/login"))}},[o.pathname,x,A,i,s]),u.useEffect(()=>{const a=localStorage.getItem("cachedLogoUrl"),c=localStorage.getItem("logoTimestamp"),d=new Date().getTime();if(a&&c&&d-parseInt(c)<36e5)g(a);else if(p!=null&&p.logo){const f=`${G.defaults.baseURL}/public/logo`;g(f),localStorage.setItem("cachedLogoUrl",f),localStorage.setItem("logoTimestamp",d.toString());const k=new Image;k.src=f}},[p]);const I=[{key:"profile",label:"Profile",icon:t.jsx(Be,{}),onClick:()=>i("/account")},{key:"settings",label:"Settings",icon:t.jsx(pi,{}),onClick:()=>i("/settings")},{key:"divider",type:"divider"},{key:"logout",label:"Logout",icon:t.jsx(Or,{}),onClick:()=>{s(sn()),i("/login")}}],l=()=>{const a=o.pathname.substring(1);return a.charAt(0).toUpperCase()+a.slice(1)};return t.jsxs(Se,{style:{minHeight:"100vh"},children:[t.jsxs(od,{trigger:null,collapsible:!0,collapsed:e,style:{background:"#fff",borderRight:"1px solid #E5E7EB",boxShadow:"0 1px 3px 0 rgb(0 0 0 / 0.1)",position:"fixed",left:0,top:0,bottom:0,zIndex:100,overflow:"hidden"},width:256,collapsedWidth:80,children:[t.jsx(ld,{children:t.jsx(cd,{children:t.jsx(dd,{src:m,alt:"Logo",onError:()=>g("/logo.png")})})}),t.jsx(hr,{mode:"inline",selectedKeys:[o.pathname.substring(1)||"dashboard"],items:N,style:{border:"none",padding:"16px 0",background:"transparent"},className:"main-nav-menu",inlineCollapsed:e})]}),t.jsxs(Se,{style:{marginLeft:e?80:256,transition:"all 0.2s"},children:[t.jsxs(sd,{style:{padding:"0 24px",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 1px 0 0 rgb(0 0 0 / 0.05)",position:"fixed",top:0,right:0,left:e?80:256,zIndex:99,transition:"left 0.2s"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx(K,{type:"text",icon:e?t.jsx(ao,{}):t.jsx(lo,{}),onClick:()=>n(!e),style:{fontSize:16}}),t.jsx("span",{style:{marginLeft:24,fontSize:20,fontWeight:600,color:"#111827"},children:l()})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx("div",{style:{marginRight:20},children:t.jsx(Zc,{isExhibitor:!1})}),t.jsx(Qr,{menu:{items:I},placement:"bottomRight",children:t.jsxs(de,{align:"center",style:{cursor:"pointer"},children:[t.jsx(Wr,{size:"small",icon:t.jsx(Be,{}),style:{backgroundColor:"#5046e5"}}),t.jsx("span",{style:{maxWidth:120,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(h==null?void 0:h.username)||"User"})]})})]})]}),t.jsx(ad,{style:{margin:"88px 16px 24px 16px",padding:24,minHeight:280,background:"#fff",borderRadius:8,boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)"},children:r})]})]})},xs=localStorage.getItem("exhibitor_token"),ud=localStorage.getItem("exhibitor")?JSON.parse(localStorage.getItem("exhibitor")):null,hd={isAuthenticated:!!xs,exhibitor:ud,token:xs,showLoginModal:!1,showForgotPasswordModal:!1,loginContext:null},zo=Le({name:"exhibitorAuth",initialState:hd,reducers:{setExhibitorCredentials:(r,e)=>{r.exhibitor=e.payload.exhibitor,r.token=e.payload.token,r.isAuthenticated=!0,localStorage.setItem("exhibitor_token",e.payload.token),localStorage.setItem("exhibitor",JSON.stringify(e.payload.exhibitor))},exhibitorLogout:r=>{r.exhibitor=null,r.token=null,r.isAuthenticated=!1,localStorage.removeItem("exhibitor_token"),localStorage.removeItem("exhibitor")},showLoginModal:(r,e)=>{r.showLoginModal=!0,r.showForgotPasswordModal=!1,r.loginContext=e.payload||null},hideLoginModal:r=>{r.showLoginModal=!1,r.loginContext=null},showForgotPasswordModal:r=>{r.showForgotPasswordModal=!0,r.showLoginModal=!1},hideForgotPasswordModal:r=>{r.showForgotPasswordModal=!1}}}),{setExhibitorCredentials:pd,exhibitorLogout:$o,showLoginModal:Nt,hideLoginModal:br,showForgotPasswordModal:fd,hideForgotPasswordModal:dn}=zo.actions,gd=zo.reducer,{Header:md,Sider:xd,Content:bd}=Se,Dt=({children:r})=>{var j;const[e,n]=u.useState(!1),i=Ke(),s=ft(),o=Ks(),h=De(x=>x.exhibitorAuth.exhibitor),p=()=>{const x=o.pathname;return x.includes("/exhibitor/dashboard")?"dashboard":x.includes("/exhibitor/bookings")?"bookings":x.includes("/exhibitor/profile")?"profile":x.includes("/exhibitions")?"exhibitions":x.includes("/exhibitor/support")?"help":"dashboard"},m=[{key:"dashboard",icon:t.jsx(lr,{}),label:"Dashboard",onClick:()=>i("/exhibitor/dashboard")},{key:"bookings",icon:t.jsx(Oe,{}),label:"My Bookings",onClick:()=>i("/exhibitor/bookings")},{key:"profile",icon:t.jsx(Be,{}),label:"My Profile",onClick:()=>i("/exhibitor/profile")},{key:"help",icon:t.jsx(Ha,{}),label:"Help & Support",onClick:()=>i("/exhibitor/support")}],g=[{key:"profile",label:"My Profile",icon:t.jsx(Be,{}),onClick:()=>i("/exhibitor/profile")},{key:"bookings",label:"My Bookings",icon:t.jsx(Oe,{}),onClick:()=>i("/exhibitor/bookings")},{key:"divider",type:"divider"},{key:"logout",label:"Logout",icon:t.jsx(Or,{}),onClick:()=>{s($o()),i("/")}}],E=()=>{const x=o.pathname.replace("/exhibitor/","");return x==="dashboard"?"Dashboard":x.startsWith("bookings")?x.includes("/")?"Booking Details":"My Bookings":x==="profile"?"My Profile":x==="support"?"Help & Support":x.charAt(0).toUpperCase()+x.slice(1)};return t.jsxs(Se,{style:{minHeight:"100vh"},children:[t.jsxs(xd,{trigger:null,collapsible:!0,collapsed:e,style:{background:"#fff",borderRight:"1px solid #E5E7EB",boxShadow:"0 1px 3px 0 rgb(0 0 0 / 0.1)",position:"fixed",left:0,top:0,bottom:0,zIndex:100,overflow:"hidden"},width:256,collapsedWidth:80,children:[t.jsx("div",{style:{height:65,padding:"0 50px",display:"flex",alignItems:"center",justifyContent:e?"center":"flex-start",borderBottom:"1px solid #E5E7EB"},children:!e&&t.jsx("span",{style:{fontSize:20,fontWeight:600,color:"#2a5378",whiteSpace:"nowrap"},children:"Exhibitor Portal"})}),t.jsx(hr,{mode:"inline",selectedKeys:[p()],items:m,style:{border:"none",padding:e?"16px 0":"16px 8px",background:"transparent"},className:"main-nav-menu",inlineCollapsed:e})]}),t.jsxs(Se,{style:{marginLeft:e?80:256,transition:"all 0.2s"},children:[t.jsxs(md,{style:{padding:"0 24px",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 1px 0 0 rgb(0 0 0 / 0.05)",zIndex:99},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx(K,{type:"text",icon:e?t.jsx(ao,{}):t.jsx(lo,{}),onClick:()=>n(!e),style:{fontSize:16}}),t.jsx("span",{style:{marginLeft:24,fontSize:20,fontWeight:600,color:"#111827"},children:E()})]}),t.jsx(Qr,{menu:{items:g},placement:"bottomRight",children:t.jsxs(de,{align:"center",style:{cursor:"pointer"},children:[t.jsx(Wr,{size:"small",style:{backgroundColor:"#5046e5"},children:((j=h==null?void 0:h.companyName)==null?void 0:j.charAt(0).toUpperCase())||"E"}),t.jsx("span",{style:{maxWidth:120,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(h==null?void 0:h.companyName)||"Exhibitor"})]})})]}),t.jsx(bd,{style:{margin:"24px 16px",padding:24,minHeight:280,background:"#fff",borderRadius:8,boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.05)"},children:r})]})]})},{Title:Do,Text:Zt,Paragraph:yd}=_e,fr=jt`
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
`,vd=jt`
  from { opacity: 0; transform: translateX(-30px); }
  to { opacity: 1; transform: translateX(0); }
`,wd=jt`
  from { opacity: 0; transform: translateX(30px); }
  to { opacity: 1; transform: translateX(0); }
`,Vi=jt`
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
`,Mo=jt`
  0% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0px); }
`,jd=jt`
  0% { transform: rotate(0deg) translateY(0) scaleY(1); opacity: 0; }
  20% { opacity: 0.5; }
  100% { transform: rotate(25deg) translateY(-260px) scaleY(1.2); opacity: 0; }
`,Sd=jt`
  0% { transform: rotate(-25deg) translateY(260px) scaleY(1.2); opacity: 0; }
  20% { opacity: 0.5; }
  100% { transform: rotate(0deg) translateY(0) scaleY(1); opacity: 0; }
`,kd=jt`
  0% { stroke-dashoffset: 1000; }
  100% { stroke-dashoffset: 0; }
`,Ed=F.div`
  min-height: 100vh;
  display: flex;
  overflow: hidden;
  
  @media (max-width: 768px) {
    flex-direction: column;
  }
`,Cd=F.div`
  flex: 1;
  background-image: linear-gradient(135deg, rgba(35, 92, 169, 0.85), rgba(13, 71, 161, 0.9)), url('/exhibition-background.jpg');
  background-size: cover;
  background-position: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  color: white;
  padding: 2rem;
  position: relative;
  overflow: hidden;
  animation: ${vd} 0.8s ease-out forwards;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
  
  @media (max-width: 768px) {
    min-height: 200px;
  }
`,Id=F.div`
  position: absolute;
  width: 2px;
  height: 600px;
  background: linear-gradient(to bottom, transparent, rgba(255, 255, 255, ${r=>.1+r.index%3*.05}), transparent);
  left: ${r=>20+r.index*10}%;
  top: 0;
  z-index: 1;
  opacity: 0;
  transform-origin: top;
  animation: ${r=>r.isHovered?jd:Sd} ${r=>1.5+r.index*.2}s ease-out;
  animation-delay: ${r=>r.index*.1}s;
  animation-fill-mode: forwards;
`,_d=F.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 2rem;
  background-color: #ffffff;
  animation: ${wd} 0.8s ease-out forwards;
`,Rd=F.div`
  position: relative;
  width: 100%;
  height: 50px;
  display: flex;
  justify-content: center;
  align-items: center;
`,Td=F.svg`
  width: 40px;
  height: 40px;
  
  .path {
    stroke: #1890ff;
    stroke-width: 2;
    fill: none;
    stroke-dasharray: 1000;
    stroke-dashoffset: 0;
    animation: ${kd} 2s linear infinite;
  }
  
  .dot {
    fill: #1890ff;
    animation: ${Vi} 2s ease-in-out infinite;
  }
`,Ad=F.span`
  margin-left: 10px;
  animation: ${fr} 0.5s ease-out;
`,Pd=F.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
`,Nd=F.div`
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 600px;
`,zd=F.div`
  position: absolute;
  top: 25px;
  left: 30px;
  z-index: 10;
  display: flex;
  align-items: center;
  animation: ${fr} 0.8s ease-out forwards;
`,$d=F.div`
  background-color: rgba(255, 255, 255, 0.9);
  border-radius: 8px;
  padding: 12px;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
  }
`,Dd=F.img`
  width: 140px;
  height: auto;
  animation: ${Mo} 6s ease-in-out infinite;
  filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.4));
`;F.div({fontSize:"1.25rem",fontWeight:600,marginLeft:"14px",color:"#1a3e72",letterSpacing:"0.5px"});const Md=F.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 2.5rem;
  animation: ${fr} 0.8s ease-out forwards;
`,Fd=F.div`
  font-size: 2.5rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  color: #ffffff;
  letter-spacing: 1px;
`,Ld=F(Do)`
  color: #ffffff !important;
  font-weight: 400 !important;
  text-align: center;
  margin-top: 0 !important;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
`,Bd=F(yd)`
  color: rgba(255, 255, 255, 0.9) !important;
  font-size: 16px;
  line-height: 1.6;
  text-align: center;
  max-width: 500px;
  margin: 1.5rem auto 0;
`,Od=F.div`
  width: 100%;
  max-width: 400px;
  animation: ${fr} 0.6s ease-out;
`,qd=F(je)`
  height: 50px;
  border-radius: 8px;
  border: 1px solid #d9d9d9;
  background-color: #f8f8f8;
  transition: all 0.3s;
  
  &:hover, &:focus {
    background-color: white;
    border-color: #40a9ff;
    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
    transform: translateY(-2px);
  }
`,Ud=F(je.Password)`
  height: 50px;
  border-radius: 8px;
  border: 1px solid #d9d9d9;
  background-color: #f8f8f8;
  transition: all 0.3s;
  
  &:hover, &:focus {
    background-color: white;
    border-color: #40a9ff;
    box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
    transform: translateY(-2px);
  }
`,Vd=F(K)`
  height: 50px;
  border-radius: 8px;
  font-weight: 600;
  box-shadow: 0 2px 0 rgba(0, 0, 0, 0.045);
  transition: all 0.3s;
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  &.success {
    animation: ${Vi} 0.5s ease-in-out;
  }
`,Hd=F.div`
  margin-bottom: 2rem;
  text-align: center;
`,yr=F(Q.Item)`
  margin-bottom: 24px;
`,Wd=F.div`
  margin-top: 8px;
`,Qd=F.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 24px;
`,Yd=F(Wa)`
  .ant-checkbox-checked .ant-checkbox-inner {
    background-color: #1890ff;
    border-color: #1890ff;
  }
  
  .ant-checkbox-inner:hover {
    border-color: #1890ff;
  }
  
  .ant-checkbox-wrapper:hover .ant-checkbox-inner {
    border-color: #1890ff;
  }
`,Gd=F.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(82, 196, 26, 0.1);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 100;
  animation: ${fr} 0.3s ease-out;
  
  svg {
    font-size: 80px;
    color: #52c41a;
    animation: ${Vi} 0.5s ease-in-out;
  }
`,bs=()=>t.jsxs(Rd,{children:[t.jsxs(Td,{viewBox:"0 0 50 50",children:[t.jsx("path",{className:"path",d:"M10,10 L40,10 L40,40 L10,40 L10,10 Z M10,25 L40,25 M20,10 L20,40 M30,10 L30,40"}),t.jsx("circle",{className:"dot",cx:"15",cy:"15",r:"2"}),t.jsx("circle",{className:"dot",cx:"25",cy:"15",r:"2"}),t.jsx("circle",{className:"dot",cx:"35",cy:"15",r:"2"}),t.jsx("circle",{className:"dot",cx:"15",cy:"35",r:"2"}),t.jsx("circle",{className:"dot",cx:"25",cy:"35",r:"2"}),t.jsx("circle",{className:"dot",cx:"35",cy:"35",r:"2"})]}),t.jsx(Ad,{children:"Signing in..."})]}),Kd=F.div`
  position: absolute;
  width: ${r=>r.size}px;
  height: ${r=>r.size}px;
  background-color: rgba(255, 255, 255, 0.07);
  border-radius: 50%;
  animation: ${Mo} ${r=>r.duration}s ease-in-out infinite;
  animation-delay: ${r=>r.delay}s;
  top: ${r=>r.top}%;
  left: ${r=>r.left}%;
  z-index: 1;
`,Xd=r=>{if(!r)return 0;const e=r.length>=8,n=/[A-Z]/.test(r),i=/[a-z]/.test(r),s=/\d/.test(r),o=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(r),h=[e,n,i,s,o];return h.filter(m=>m).length/h.length*100},Jd=r=>r<30?"#ff4d4f":r<60?"#faad14":r<80?"#1890ff":"#52c41a",Zd=r=>r<30?"Weak":r<60?"Fair":r<80?"Good":"Strong",eu=["At least 8 characters long","Contains uppercase letters","Contains lowercase letters","Contains numbers","Contains special characters"],tu=()=>{const r=Ke(),e=ft(),[n,i]=u.useState(null),[s,o]=u.useState(!1),[h,p]=u.useState(!1),[m,g]=u.useState(""),[E,j]=u.useState(!1),x=De(S=>S.auth.isAuthenticated),y=u.useRef(null),[P,T]=u.useState({x:0,y:0}),[A,R]=u.useState(!1),[N,I]=u.useState(!1),[l]=Q.useForm(),[a,c]=u.useState("/logo.png"),[d,f]=u.useState("EXHIBITION MANAGER");u.useEffect(()=>{const S=localStorage.getItem("cachedLogoUrl"),M=localStorage.getItem("logoTimestamp"),$=new Date().getTime();if(S&&M&&$-parseInt(M)<36e5)c(S);else{const V=`${G.defaults.baseURL}/public/logo`;c(V),localStorage.setItem("cachedLogoUrl",V),localStorage.setItem("logoTimestamp",$.toString());const O=new Image;O.src=V}fetch(`${G.defaults.baseURL}/public/site-info`).then(V=>V.json()).then(V=>{V.siteName&&f(V.siteName)}).catch(V=>{console.error("Error fetching site info:",V)})},[]),u.useEffect(()=>{const S=localStorage.getItem("rememberedUser");if(S)try{const $=JSON.parse(S);l.setFieldsValue({username:$.username,password:$.password,remember:!0})}catch{localStorage.removeItem("rememberedUser")}const M=localStorage.getItem("loginMessage");M&&(i({title:"Account Inactive",message:M}),localStorage.removeItem("loginMessage"))},[l]),u.useEffect(()=>{const S=setTimeout(()=>{R(!0)},100);return()=>clearTimeout(S)},[]),u.useEffect(()=>{x&&r("/dashboard")},[x,r]),u.useEffect(()=>{const S=M=>{if(y.current){const $=y.current.getBoundingClientRect(),V=M.clientX-$.left,O=M.clientY-$.top;V>=0&&V<=$.width&&O>=0&&O<=$.height&&T({x:V,y:O})}};return window.addEventListener("mousemove",S),()=>{window.removeEventListener("mousemove",S)}},[]);const k=async S=>{var M;try{i(null),o(!0);const $=await xo.login({username:S.username,password:S.password}),{user:V,token:O}=$.data;if(!V||!O)throw new Error("Invalid response from server");S.remember?(localStorage.setItem("rememberedUser",JSON.stringify({username:S.username,password:S.password})),localStorage.setItem("rememberUser","true")):(localStorage.removeItem("rememberedUser"),localStorage.removeItem("rememberUser")),p(!0),setTimeout(()=>{e(Ql({user:V,token:O})),fe.success("Login successful!"),r("/dashboard")},1200)}catch($){console.error("Login Error:",$),console.error("Response Data:",(M=$.response)==null?void 0:M.data);let V="Authentication Error",O="Invalid username or password.";if($.response&&typeof $.response=="object"){const{status:B,data:H}=$.response;B===401?(V="Invalid Credentials",O="The username or password you entered is incorrect."):B===403?(V="Access Denied",O="You do not have permission to access this resource."):B===400?(V="Invalid Request",O="Please check your input and try again."):B===500&&(V="Server Error",O="A server error occurred. Please try again later."),H&&typeof H=="object"&&H.message&&(O=H.message)}else $.request?(V="Connection Error",O="Unable to connect to the server. Please check your internet connection."):$.message&&(O=$.message);i({title:V,message:O})}finally{o(!1)}},v=Xd(m),w=Jd(v),b=Zd(v),_=localStorage.getItem("rememberUser")==="true";if(x)return t.jsxs("div",{style:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",background:"#f0f5ff"},children:[t.jsx(bs,{}),t.jsx(Zt,{style:{marginTop:16},children:"Redirecting to dashboard..."})]});const C=S=>{const M=[];for(let $=0;$<S;$++){const V=Math.random()*20+8,O=Math.random()*3,B=Math.random()*10+6,H=Math.random()*100,q=Math.random()*100;M.push(t.jsx(Kd,{size:V,delay:O,duration:B,top:H,left:q,style:{transform:`translate(${P.x/50*($%5-2)}px, ${P.y/50*($%5-2)}px)`,opacity:N?0:1,transition:"opacity 0.5s ease-out",backgroundColor:"rgba(255, 255, 255, 0.07)"}},$))}return M},D=S=>{const M=[];for(let $=0;$<S;$++)M.push(t.jsx(Id,{index:$,isHovered:N},$));return M},z=S=>{I(S)};return t.jsxs(Ed,{style:{opacity:A?1:0,transition:"opacity 0.3s ease-out"},children:[h&&t.jsx(Gd,{children:t.jsx(Qa,{})}),t.jsxs(Cd,{onMouseEnter:()=>z(!0),onMouseLeave:()=>z(!1),children:[t.jsx(zd,{children:t.jsx($d,{children:t.jsx(Dd,{src:a,alt:"Exhibition Manager Logo",onError:()=>c("/logo.png")})})}),t.jsxs(Pd,{ref:y,children:[C(12),D(8)]}),t.jsxs(Nd,{children:[t.jsx(Md,{children:t.jsx(Fd,{children:d})}),t.jsx(Ld,{level:4,children:"Your complete solution for managing exhibitions, stalls, and exhibitors"}),t.jsx(Bd,{children:"Create floor plans, manage exhibitors, handle bookings, and generate invoices - all in one platform."})]})]}),t.jsx(_d,{children:t.jsxs(Od,{children:[t.jsxs(Hd,{children:[t.jsx(Do,{level:2,style:{marginBottom:"0.5rem"},children:"Admin Login"}),t.jsx(Zt,{type:"secondary",children:"Enter your credentials to access the admin dashboard"})]}),n&&t.jsx(et,{message:n.title,description:n.message,type:"error",showIcon:!0,style:{marginBottom:24,borderRadius:8,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.05)"},action:t.jsx(K,{size:"small",type:"text",onClick:()=>i(null),children:"Dismiss"})}),t.jsxs(Q,{form:l,name:"login",initialValues:{remember:_},onFinish:k,layout:"vertical",children:[t.jsx(yr,{name:"username",rules:[{required:!0,message:"Please input your username!"}],label:"Username",children:t.jsx(qd,{prefix:t.jsx(Be,{style:{color:"#bfbfbf"}}),placeholder:"Enter your username",disabled:s,autoComplete:"username"})}),t.jsx(yr,{name:"password",rules:[{required:!0,message:"Please input your password!"}],label:"Password",help:E&&t.jsxs(Wd,{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[t.jsx(Zt,{type:"secondary",children:"Password Strength:"}),t.jsx(Zt,{strong:!0,style:{color:w},children:b})]}),t.jsx(uo,{percent:v,showInfo:!1,strokeColor:w,size:"small"}),t.jsx("div",{style:{marginTop:"8px"},children:t.jsx(vt,{title:t.jsx("ul",{style:{paddingLeft:"20px",margin:"0"},children:eu.map((S,M)=>t.jsx("li",{children:S},M))}),children:t.jsxs(Zt,{type:"secondary",style:{display:"flex",alignItems:"center",cursor:"pointer"},children:[t.jsx(Yt,{style:{marginRight:"4px"}}),"Password requirements"]})})})]}),children:t.jsx(Ud,{prefix:t.jsx(Ot,{style:{color:"#bfbfbf"}}),placeholder:"Enter your password",disabled:s,autoComplete:"current-password",onChange:S=>g(S.target.value),onFocus:()=>j(!0),onBlur:()=>j(!1)})}),t.jsx(Qd,{children:t.jsx(yr,{name:"remember",valuePropName:"checked",noStyle:!0,children:t.jsx(Yd,{children:"Remember me"})})}),t.jsx(yr,{children:s?t.jsx(bs,{}):t.jsx(Vd,{type:"primary",htmlType:"submit",block:!0,className:h?"success":"",children:"Sign in"})})]})]})})]})};class Si extends Ae.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Error caught by boundary:",e,n)}render(){var e;return this.state.hasError?t.jsx(cr,{status:"error",title:"Something went wrong",subTitle:((e=this.state.error)==null?void 0:e.message)||"An unexpected error occurred",extra:[t.jsx(K,{type:"primary",onClick:()=>window.location.href="/dashboard",children:"Go to Dashboard"},"home"),t.jsx(K,{onClick:()=>window.location.reload(),children:"Reload Page"},"reload")]}):this.props.children}}const ut={getExhibitions:()=>We.get("/public/exhibitions"),getExhibition:r=>We.get(`/public/exhibitions/${r}`),getLayout:r=>We.get(`/public/exhibitions/${r}/layout`),getStallDetails:(r,e)=>We.get(`/public/exhibitions/${r}/stalls/${e}`),bookStall:(r,e,n)=>We.post(`/public/exhibitions/${r}/stalls/${e}/book`,n),bookMultipleStalls:(r,e)=>We.post(`/public/exhibitions/${r}/stalls/book-multiple`,e),searchExhibitors:r=>We.get("/public/exhibitors/search",{params:{query:r}}),exhibitorBookStalls:r=>G.post(`/exhibitor-bookings/${r.exhibitionId}`,r),getExhibitorBookings:()=>G.get("/exhibitor-bookings/my-bookings"),getExhibitorBooking:r=>G.get(`/exhibitor-bookings/${r}`),cancelExhibitorBooking:r=>G.patch(`/exhibitor-bookings/${r}/cancel`),getExhibitorBookingInvoice:r=>G.get(`/exhibitor-bookings/${r}/invoice`)},ys=({width:r,height:e,scale:n=1,position:i={x:0,y:0},isSelected:s=!1,onSelect:o=()=>{},onChange:h=()=>{},children:p,isEditable:m=!0})=>{const g=j=>{m&&(o(),j.cancelBubble=!0)},E=Ae.useMemo(()=>{const j=[];for(let y=0;y<=r;y+=5)j.push(t.jsx(qr,{points:[y,0,y,e],stroke:"#e8e8e8",strokeWidth:1/n,dash:[5/n]},`v${y}`));for(let y=0;y<=e;y+=5)j.push(t.jsx(qr,{points:[0,y,r,y],stroke:"#e8e8e8",strokeWidth:1/n,dash:[5/n]},`h${y}`));return j},[r,e,n]);return t.jsxs(Pt,{x:i.x,y:i.y,width:r,height:e,onClick:g,children:[t.jsx(Rt,{width:r,height:e,fill:"#ffffff",stroke:s&&m?"#1890ff":"#d9d9d9",strokeWidth:s&&m?2/n:1/n,shadowColor:"rgba(0,0,0,0.1)",shadowBlur:10/n,shadowOffset:{x:0,y:0},shadowOpacity:.5,cornerRadius:4/n}),t.jsx(Pt,{children:E}),t.jsx(Tt,{text:`${r}m × ${e}m`,fontSize:14/n,fill:"#666666",x:5,y:5}),p]})},ru=({visible:r,width:e,height:n,onCancel:i,onSubmit:s})=>{const[o]=Q.useForm();Ae.useEffect(()=>{r&&o.setFieldsValue({width:e,height:n})},[r,e,n,o]);const h=()=>{o.validateFields().then(p=>{s(p),o.resetFields()})};return t.jsx(ot,{title:"Edit Exhibition Space",open:r,onCancel:()=>{o.resetFields(),i()},onOk:h,destroyOnClose:!0,children:t.jsxs(Q,{form:o,layout:"vertical",initialValues:{width:e,height:n},children:[t.jsx(Q.Item,{name:"width",label:"Width (meters)",rules:[{required:!0,message:"Please enter width"},{type:"number",min:10,message:"Width must be at least 10 meters"}],children:t.jsx(ze,{min:10,max:1e3,style:{width:"100%"},placeholder:"Enter width in meters"})}),t.jsx(Q.Item,{name:"height",label:"Height (meters)",rules:[{required:!0,message:"Please enter height"},{type:"number",min:10,message:"Height must be at least 10 meters"}],children:t.jsx(ze,{min:10,max:1e3,style:{width:"100%"},placeholder:"Enter height in meters"})})]})})},Fo=({hall:r,isSelected:e=!1,onSelect:n,onChange:i,scale:s=1,position:o={x:0,y:0},exhibitionWidth:h=100,exhibitionHeight:p=100,isStallMode:m=!1})=>{const g=Ae.useRef(null),E=Ae.useRef(null),j=Ae.useMemo(()=>{const R=[],{width:N,height:I}=r.dimensions,l=1;for(let a=0;a<=N;a+=l)R.push(t.jsx(qr,{points:[a,0,a,I],stroke:"#ddd",strokeWidth:1/s,dash:[2/s,2/s],listening:!1},`v${a}`));for(let a=0;a<=I;a+=l)R.push(t.jsx(qr,{points:[0,a,N,a],stroke:"#ddd",strokeWidth:1/s,dash:[2/s,2/s],listening:!1},`h${a}`));return R},[r.dimensions.width,r.dimensions.height,s]);Ae.useEffect(()=>{var R;e&&E.current&&g.current&&(E.current.nodes([g.current]),(R=E.current.getLayer())==null||R.batchDraw())},[e]);const x=R=>{R.cancelBubble=!0;const N=R.target,I=N.x(),l=N.y(),a=Math.max(0,Math.min(I,h-r.dimensions.width)),c=Math.max(0,Math.min(l,p-r.dimensions.height));N.x(Math.round(a)),N.y(Math.round(c))},y=R=>{R.cancelBubble=!0;const N=R.target,I=Math.max(0,Math.min(N.x(),h-r.dimensions.width)),l=Math.max(0,Math.min(N.y(),p-r.dimensions.height));i==null||i({...r,_id:r._id,id:r.id||r._id,exhibitionId:r.exhibitionId,dimensions:{...r.dimensions,x:Math.round(I),y:Math.round(l)}})},P=R=>{R.cancelBubble=!0},T=R=>{if(!g.current)return;const N=g.current,I=N.scaleX(),l=N.scaleY();N.scaleX(1),N.scaleY(1);const a=Math.round(N.width()*I),c=Math.round(N.height()*l),d=N.x(),f=N.y(),k=Math.max(0,Math.min(d,h-a)),v=Math.max(0,Math.min(f,p-c));i==null||i({...r,_id:r._id,id:r.id||r._id,exhibitionId:r.exhibitionId,dimensions:{x:k,y:v,width:Math.max(5,Math.min(a,h-k)),height:Math.max(5,Math.min(c,p-v))}})},A=R=>{R.cancelBubble=!0,n==null||n(r)};return t.jsxs(Pt,{ref:g,x:r.dimensions.x,y:r.dimensions.y,width:r.dimensions.width,height:r.dimensions.height,draggable:!m&&!!i,onClick:A,onTap:A,onDragStart:P,onDragMove:x,onDragEnd:y,onTransformEnd:T,children:[t.jsx(Rt,{width:r.dimensions.width,height:r.dimensions.height,fill:"#ffffff",stroke:e?"#1890ff":"#d9d9d9",strokeWidth:e?2/s:1/s,shadowColor:"rgba(0,0,0,0.1)",shadowBlur:5/s,shadowOffset:{x:2/s,y:2/s},shadowOpacity:.5}),t.jsx(Pt,{children:j}),t.jsx(Tt,{text:r.name,fontSize:14/s,fill:"#000000",width:r.dimensions.width,align:"center",y:r.dimensions.height/2-7/s})]})},nu=r=>{if(!r)return"";const e=window.location.origin,n=r.replace(/^\/?(api\/uploads\/)?/,"");if(n.includes("fixtures/"))return`${e}/api/uploads/${n}`;const i=localStorage.getItem("token");return i?`${e}/api/uploads/${n}?token=${i}`:""},Lo=({fixture:r,isSelected:e=!1,onSelect:n,onChange:i,scale:s=1,position:o={x:0,y:0},exhibitionWidth:h=100,exhibitionHeight:p=100,isEditable:m=!0})=>{const g=Ae.useRef(null),E=Ae.useRef(null),[j,x]=u.useState("");u.useEffect(()=>{if(r.icon){const c=nu(r.icon);x(c)}else x("")},[r.icon]);const[y]=_l(j);Ae.useEffect(()=>{var c;e&&E.current&&g.current&&(E.current.nodes([g.current]),(c=E.current.getLayer())==null||c.batchDraw())},[e]);const P=c=>{c.cancelBubble=!0},T=c=>{c.cancelBubble=!0;const d=c.target,f=d.x(),k=d.y(),v=Math.max(0,Math.min(f,h-r.dimensions.width)),w=Math.max(0,Math.min(k,p-r.dimensions.height));d.x(Math.round(v)),d.y(Math.round(w))},A=c=>{c.cancelBubble=!0;const d=c.target,f=d.x(),k=d.y(),v=Math.max(0,Math.min(f,h-r.dimensions.width)),w=Math.max(0,Math.min(k,p-r.dimensions.height)),b=r._id||r.id;i==null||i({...r,_id:b,id:b,exhibitionId:r.exhibitionId,position:{x:Math.round(v),y:Math.round(w)}})},R=c=>{if(!g.current)return;const d=g.current,f=d.scaleX(),k=d.scaleY(),v=d.rotation();d.scaleX(1),d.scaleY(1);const w=Math.round(r.dimensions.width*f),b=Math.round(r.dimensions.height*k),_=d.x(),C=d.y(),D=Math.max(0,Math.min(_,h-w)),z=Math.max(0,Math.min(C,p-b)),S=r._id||r.id;i==null||i({...r,_id:S,id:S,exhibitionId:r.exhibitionId,position:{x:D,y:z},dimensions:{width:Math.max(.5,Math.min(w,h-D)),height:Math.max(.5,Math.min(b,p-z))},rotation:v})},N=c=>{c.cancelBubble=!0,n==null||n(r)},I=()=>{const c=r.borderColor||(e?"#1890ff":"#d9d9d9"),d=r.borderRadius!==void 0?r.borderRadius/s:3/s;return y?t.jsx(Tl,{image:y,width:r.dimensions.width,height:r.dimensions.height,fill:r.color||"#ffffff",stroke:c,strokeWidth:e?2/s:1/s,cornerRadius:d,shadowColor:"rgba(0,0,0,0.1)",shadowBlur:5/s,shadowOffset:{x:2/s,y:2/s},shadowOpacity:.5}):t.jsx(Rt,{width:r.dimensions.width,height:r.dimensions.height,fill:r.color||"#f0f2f5",stroke:c,strokeWidth:e?2/s:1/s,cornerRadius:d,shadowColor:"rgba(0,0,0,0.1)",shadowBlur:5/s,shadowOffset:{x:2/s,y:2/s},shadowOpacity:.5})},l=(c,d)=>`${Math.round(c)} m x ${Math.round(d)} m`,a=(c,d)=>{const f=Math.min(c,d)*.12,k=8/s,v=16/s;return Math.max(k,Math.min(v,f))};return t.jsxs(t.Fragment,{children:[t.jsxs(Pt,{ref:g,x:r.position.x,y:r.position.y,width:r.dimensions.width,height:r.dimensions.height,rotation:r.rotation||0,draggable:m&&!!i,onClick:N,onTap:N,onDragStart:P,onDragMove:T,onDragEnd:A,onTransformEnd:R,children:[I(),y&&r.name&&r.showName!==!1&&t.jsx(Tt,{text:r.name,fontSize:12/s,fill:"#000000",width:r.dimensions.width,align:"center",y:-16/s}),!y&&t.jsxs(t.Fragment,{children:[r.name&&t.jsx(Tt,{text:r.name,fontSize:a(r.dimensions.width,r.dimensions.height),fill:"#333333",fontStyle:"bold",width:r.dimensions.width,height:r.dimensions.height*.6,align:"center",verticalAlign:"middle",wrap:"word",x:0,y:r.dimensions.height*.2}),t.jsx(Tt,{text:l(r.dimensions.width,r.dimensions.height),fontSize:a(r.dimensions.width,r.dimensions.height)*.8,fill:"#666666",width:r.dimensions.width,align:"center",x:0,y:r.dimensions.height*.75})]})]}),e&&m&&t.jsx(Rl,{ref:E,rotateEnabled:!0,enabledAnchors:["top-left","top-right","bottom-left","bottom-right"],boundBoxFunc:(c,d)=>d.width<.5||d.height<.5?c:d})]})},iu=({visible:r,x:e,y:n,onExhibitionClick:i,onHallClick:s,onStallClick:o,onFixtureClick:h,onClose:p})=>{if(!r)return null;const m=[{key:"exhibition",icon:t.jsx(zi,{}),label:"Exhibition Space",onClick:()=>{i(),p()}},{key:"hall",icon:t.jsx($i,{}),label:"Add Hall",onClick:()=>{s(),p()}}];return o&&m.push({key:"stall",icon:t.jsx(Oe,{}),label:"Add Stall",onClick:()=>{o(),p()}}),h&&m.push({key:"fixture",icon:t.jsx(co,{}),label:"Add Fixture",onClick:()=>{h(),p()}}),t.jsx("div",{style:{position:"fixed",top:n,left:e,zIndex:1e3,boxShadow:"0 2px 8px rgba(0,0,0,0.15)",borderRadius:"4px",backgroundColor:"#fff",width:"200px"},children:t.jsx(hr,{items:m})})},su=({dimensions:r,fill:e,stroke:n,strokeWidth:i,shadowColor:s="rgba(0,0,0,0.1)",shadowBlur:o=3,shadowOffset:h={x:1,y:1},shadowOpacity:p=.3,rotation:m=0,perfectDrawEnabled:g=!0,transformsEnabled:E="all",cornerRadius:j=.05})=>{const x=r.shapeType||"rectangle";if(x==="rectangle")return t.jsx(Rt,{width:r.width,height:r.height,fill:e,stroke:n,strokeWidth:i,shadowColor:s,shadowBlur:o,shadowOffset:h,shadowOpacity:p,rotation:m,perfectDrawEnabled:g,transformsEnabled:E,cornerRadius:j});if(x==="l-shape"&&r.lShape){const{rect1Width:y,rect1Height:P,rect2Width:T,rect2Height:A,orientation:R}=r.lShape;let N=0,I=0,l=0,a=0,c=R;switch(R==="horizontal"?c="bottom-left":R==="vertical"&&(c="top-left"),c){case"top-left":N=0,I=0,l=y,a=0;break;case"top-right":N=T,I=0,l=0,a=0;break;case"bottom-left":N=0,I=0,l=y,a=P-A;break;case"bottom-right":N=T-y,I=0,l=0,a=P;break;default:N=0,I=A,l=y,a=0;break}return t.jsxs(Pt,{children:[t.jsx(Rt,{x:N,y:I,width:y,height:P,fill:e,stroke:n,strokeWidth:i,shadowColor:s,shadowBlur:o,shadowOffset:h,shadowOpacity:p,rotation:m,perfectDrawEnabled:g,transformsEnabled:E,cornerRadius:j}),t.jsx(Rt,{x:l,y:a,width:T,height:A,fill:e,stroke:n,strokeWidth:i,shadowColor:s,shadowBlur:o,shadowOffset:h,shadowOpacity:p,rotation:m,perfectDrawEnabled:g,transformsEnabled:E,cornerRadius:j})]})}return t.jsx(Rt,{width:r.width,height:r.height,fill:e,stroke:n,strokeWidth:i,shadowColor:s,shadowBlur:o,shadowOffset:h,shadowOpacity:p,rotation:m,perfectDrawEnabled:g,transformsEnabled:E,cornerRadius:j})},Bo=r=>{if(!r)return 0;const e=r.shapeType||"rectangle";if(e==="rectangle")return r.width*r.height;if(e==="l-shape"&&r.lShape){const{rect1Width:n,rect1Height:i,rect2Width:s,rect2Height:o}=r.lShape;return n*i+s*o}return r.width*r.height},Sg=r=>{if(!r)return"-";if((r.shapeType||"rectangle")==="l-shape"&&r.lShape){const{rect1Width:n,rect1Height:i,rect2Width:s,rect2Height:o}=r.lShape;return`L-Shape (${n}×${i} + ${s}×${o})`}return`${r.width}×${r.height}m`},ou=({stall:r,isSelected:e=!1,onSelect:n,onChange:i,hallWidth:s=0,hallHeight:o=0,hallX:h=0,hallY:p=0,scale:m=1,isDragging:g=!1,isLargeDataset:E=!1})=>{var S,M;const j=u.useRef(null),[x,y]=u.useState(!1),[P,T]=u.useState(!1),[A,R]=u.useState(!1);u.useEffect(()=>{if(E)return;R(window.innerWidth<768);const $=()=>{R(window.innerWidth<768)};return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[E]),u.useEffect(()=>{if(!E)if(x&&!g)T(!0);else if(g)T(!1);else{const $=setTimeout(()=>{T(!1)},100);return()=>clearTimeout($)}},[x,g,E]),u.useEffect(()=>{if(!E&&x&&j.current&&!g){if(A&&!e)return;j.current.getStage()&&j.current.moveToTop()}},[x,e,A,g,E]);const N=e||r.isSelected,I=u.useCallback($=>{switch($){case"available":return"#52c41a";case"booked":return"#faad14";case"reserved":return"#1890ff";default:return"#d9d9d9"}},[]),l=u.useCallback($=>{switch($){case"available":return"rgba(82, 196, 26, 0.2)";case"booked":return"rgba(250, 173, 20, 0.2)";case"reserved":return"rgba(24, 144, 255, 0.2)";default:return"rgba(217, 217, 217, 0.2)"}},[]),a=u.useCallback($=>{$.cancelBubble=!0;const V=$.target,O=V.x()-h,B=V.y()-p,H=Math.max(0,Math.min(O,s-r.dimensions.width)),q=Math.max(0,Math.min(B,o-r.dimensions.height));V.x(Math.round(H+h)),V.y(Math.round(q+p))},[h,p,s,o,r.dimensions.width,r.dimensions.height]),c=u.useCallback($=>{if($.cancelBubble=!0,!i)return;const V=$.target,O=V.x()-h,B=V.y()-p,H=Math.max(0,Math.min(O,s-r.dimensions.width)),q=Math.max(0,Math.min(B,o-r.dimensions.height));i({...r,id:r.id||r._id,_id:r._id||r.id,dimensions:{...r.dimensions,x:Math.round(H),y:Math.round(q)}})},[i,h,p,s,o,r]),d=u.useCallback($=>{$.cancelBubble=!0},[]),f=u.useCallback($=>{$.cancelBubble=!0,n&&!g&&n()},[n,g]),k=u.useCallback(()=>{E||A&&!N||g||y(!0)},[A,N,g,E]),v=u.useCallback(()=>{E||y(!1)},[E]),w={x:0,y:0,width:10,height:10},b=r.dimensions||w,_=r.typeName||((S=r.stallType)==null?void 0:S.name)||(typeof r.stallTypeId=="object"?(M=r.stallTypeId)==null?void 0:M.name:null)||"Standard",C=Bo(b);r.ratePerSqm*C;const D=0,z=u.useMemo(()=>{const $=b.shapeType==="l-shape"?`L-Shape (${C.toFixed(1)} sqm)`:`${b.width}m x ${b.height}m`;return r.status!=="available"&&r.companyName?`${_} - ${$} - ${r.companyName}`:`${_} - ${$}`},[_,b,C,r.status,r.companyName]);return t.jsxs(Pt,{ref:j,x:b.x+h,y:b.y+p,width:b.width,height:b.height,draggable:!!i,onClick:f,onTap:f,onDragStart:d,onDragMove:a,onDragEnd:c,opacity:r.status==="available"?1:.7,cursor:r.status==="available"?"pointer":"default",onMouseEnter:k,onMouseLeave:v,listening:g?!1:!A||r.status==="available",transformsEnabled:g||A?"position":"all",children:[t.jsx(su,{dimensions:b,fill:N?"rgba(24, 144, 255, 0.1)":l(r.status),stroke:N?"#1890ff":I(r.status),strokeWidth:N?2/m:1/m,shadowColor:E?"transparent":"rgba(0,0,0,0.1)",shadowBlur:E||g?0:A?2:3,shadowOffset:{x:1,y:1},shadowOpacity:E||g?0:.3,rotation:D,perfectDrawEnabled:!g&&!E,transformsEnabled:g?"position":"all",cornerRadius:E?0:.05}),t.jsx(Tt,{text:r.number,fontSize:Math.min(b.width,b.height)*(E?.2:.25),fill:"#000000",width:b.width,height:b.height,align:"center",verticalAlign:"middle",transformsEnabled:"position",perfectDrawEnabled:!g&&!E,fontStyle:E?"normal":"bold",listening:!1,visible:!E||b.width>2}),N&&!g&&!E&&t.jsx(Al,{x:b.width-2,y:2,radius:Math.min(.8,b.width*.05),fill:"#1890ff",stroke:"#ffffff",strokeWidth:.2/m,transformsEnabled:"position",listening:!1}),P&&!g&&!E&&t.jsxs(Pl,{x:b.width/2,y:-5/m,opacity:.9,listening:!1,children:[t.jsx(Nl,{fill:"#333",cornerRadius:3/m,pointerDirection:"down",pointerWidth:6/m,pointerHeight:4/m,shadowColor:"rgba(0,0,0,0.3)",shadowBlur:2/m,shadowOffset:{x:1/m,y:1/m},shadowOpacity:.8}),t.jsx(Tt,{text:z,fontFamily:"Arial",fontSize:Math.max(16/m,Math.min(22/m,b.width*.25/m)),padding:12/m,fill:"white",align:"center",width:Math.max(100/m,z.length*10/m),listening:!1})]})]})},Oo=u.memo(ou),au=({width:r,height:e,exhibitionWidth:n=100,exhibitionHeight:i=100,halls:s=[],stalls:o=[],fixtures:h=[],selectedHall:p=null,selectedFixture:m=null,onSelectHall:g=()=>{},onSelectFixture:E=()=>{},onHallChange:j=()=>{},onFixtureChange:x=()=>{},onExhibitionChange:y=()=>{},onAddHall:P=()=>{},onAddStall:T=()=>{},onAddFixture:A=()=>{},children:R,isStallMode:N=!1,isFixtureMode:I=!1,isPublicView:l=!1})=>{const a=u.useRef(null),c=u.useRef(null),d=u.useRef(null),[f,k]=u.useState(1),[v,w]=u.useState({x:0,y:0}),[b,_]=u.useState(!1),[C,D]=u.useState(!1),[z,S]=u.useState({visible:!1,x:0,y:0}),[M,$]=u.useState(!1),[V,O]=u.useState(!1),[B,H]=u.useState(!1),[q,U]=u.useState(void 0);u.useEffect(()=>{const Y=()=>{H(window.innerWidth<768)};return Y(),window.addEventListener("resize",Y),()=>{window.removeEventListener("resize",Y)}},[]);const J=u.useCallback(()=>{if(!a.current)return null;const Y=a.current,te=Y.getAbsoluteTransform().copy().invert(),pe=te.point({x:0,y:0}),X=te.point({x:Y.width(),y:Y.height()}),me=Math.max(n,i)*.1;return{left:pe.x-me,top:pe.y-me,right:X.x+me,bottom:X.y+me}},[n,i]),W=u.useCallback((Y,te,pe,X)=>{const me=J();return me?!(Y+pe<me.left||Y>me.right||te+X<me.top||te>me.bottom):!0},[J]),le=u.useMemo(()=>!o||o.length===0?o:N&&o.length>50?o.filter(Y=>{const te=s.find(me=>me.id===Y.hallId||me._id===Y.hallId);if(!te)return!1;const pe=te.dimensions.x+Y.dimensions.x,X=te.dimensions.y+Y.dimensions.y;return W(pe,X,Y.dimensions.width,Y.dimensions.height)}):o,[o,s,N,W]),ee=(o==null?void 0:o.length)>100,[,re]=u.useState({}),ie=u.useCallback(()=>{ee&&re({})},[ee]),ce=u.useCallback((()=>{let Y;return()=>{clearTimeout(Y),Y=setTimeout(ie,100)}})(),[ie]),Re=u.useCallback(Y=>{if(Y.evt.preventDefault(),!a.current)return;const te=a.current,pe=f,X=te.getPointerPosition(),me={x:(X.x-te.x())/pe,y:(X.y-te.y())/pe},Me=1.15,He=Y.evt.deltaY<0?pe*Me:pe/Me,St=Math.min(Math.max(.1,He),20),Kt={x:X.x-me.x*St,y:X.y-me.y*St};k(St),w(Kt),ce()},[f,ce]),L=u.useCallback(()=>{if(!a.current)return;const Y=a.current,te=Math.min(f*1.15,20),pe=Y.width()/2,X=Y.height()/2,me={x:(pe-v.x)/f,y:(X-v.y)/f},Me={x:pe-me.x*te,y:X-me.y*te};k(te),w(Me),ce()},[f,v,ce]),Z=u.useCallback(()=>{if(!a.current)return;const Y=a.current,te=Math.max(f/1.15,.1),pe=Y.width()/2,X=Y.height()/2,me={x:(pe-v.x)/f,y:(X-v.y)/f},Me={x:pe-me.x*te,y:X-me.y*te};k(te),w(Me),ce()},[f,v,ce]),ae=u.useCallback(Y=>{Y?(U(rn.pixelRatio),rn.pixelRatio=B?.8:1):q&&(rn.pixelRatio=q)},[q,B]),ge=u.useCallback(Y=>{if(Y.target===a.current&&(S({...z,visible:!1}),D(!0),ae(!0),c.current)){if(l){const te=B?{x:-10,y:-10,width:r+20,height:e+20}:void 0;c.current.cache(te)}if(c.current.hitGraphEnabled(!1),l&&a.current){const te=a.current.container();te.style.cursor="grabbing",te.classList.add("dragging"),a.current.batchDraw(),c.current.getChildren().forEach(X=>{if(X.shadowForStrokeEnabled&&(X._savedShadowForStroke=X.shadowForStrokeEnabled(),X.shadowForStrokeEnabled(!1)),X.perfectDrawEnabled&&(X._savedPerfectDraw=X.perfectDrawEnabled(),X.perfectDrawEnabled(!1)),X.cache&&!X.isCached&&X.width&&X.height){X._dragCached=!0;try{B?X.cache({offset:10,pixelRatio:.8}):X.cache()}catch{X._dragCached=!1}}})}}},[z,l,ae,B,r,e]),ve=u.useCallback(Y=>{if(l&&Y.target===a.current){if(Y.evt&&Y.evt._dragSkipUpdate)return;if(Y.evt&&(Y.evt._dragSkipUpdate=!0),a.current&&c.current){const te=B?.85:.7;Math.random()>te&&a.current.batchDraw()}return}Y.target===a.current&&B&&c.current&&(Y.cancelBubble=!0)},[B,l]),Te=u.useCallback(Y=>{if(Y.target===a.current){if(w({x:Y.target.x(),y:Y.target.y()}),ae(!1),c.current&&(c.current.hitGraphEnabled(!0),l&&c.current.clearCache(),l&&a.current)){const te=a.current.container();te.style.cursor="",te.classList.remove("dragging"),c.current.getChildren().forEach(X=>{X._savedShadowForStroke!==void 0&&(X.shadowForStrokeEnabled(X._savedShadowForStroke),delete X._savedShadowForStroke),X._savedPerfectDraw!==void 0&&(X.perfectDrawEnabled(X._savedPerfectDraw),delete X._savedPerfectDraw),X._dragCached&&(X.clearCache(),delete X._dragCached)})}setTimeout(()=>{a.current&&a.current.batchDraw()},50),D(!1),ce()}},[l,ae,ce]),gt=u.useCallback(()=>{_(!0),document.body.style.cursor=C?"grabbing":"grab"},[C]),zt=u.useCallback(()=>{_(!1),document.body.style.cursor="default"},[]),mt=Y=>{var pe,X,me;const te=Y.target.getClassName();if(te==="Stage"||te==="Layer"){S({...z,visible:!1});return}if(te==="Group"||te==="Rect"){if(g(null),E(null),I){S({...z,visible:!1});return}const Me=(pe=a.current)==null?void 0:pe.getPointerPosition();if(Me&&ca(Me)){const{x:He,y:St}=Me,{x:Kt,y:xa}=((X=a.current)==null?void 0:X.position())||{x:0,y:0},{x:ba,y:ya}=((me=a.current)==null?void 0:me.scale())||{x:1,y:1},va=(He-Kt)/ba,wa=(St-xa)/ya;S({x:va,y:wa,visible:!0})}else S({...z,visible:!1})}else S({...z,visible:!1})},ca=Y=>{if(!n||!i||!a.current)return!1;const{x:te,y:pe}=Y,{x:X,y:me}=a.current.position(),{x:Me}=a.current.scale(),He={x:(te-X)/Me,y:(pe-me)/Me};return He.x>=0&&He.x<=n&&He.y>=0&&He.y<=i},da=u.useCallback(()=>{g(null),E(null),$(!0),O(!0),S({...z,visible:!1})},[g,E,z]),ua=u.useCallback(Y=>{y(Y),O(!1)},[y]),ha=()=>{$(!0),O(!0),S({...z,visible:!1})},pa=()=>{P(),S({...z,visible:!1})},fa=()=>{T(),S({...z,visible:!1})};u.useEffect(()=>{if(r>0&&e>0&&n>0&&i>0){const Y=N?20:40,te=r-Y*2,pe=e-Y*2,X=te/n,me=pe/i,He=Math.min(X,me),St=(r-n*He)/2,Kt=(e-i*He)/2;k(He),w({x:St,y:Kt}),a.current&&a.current.batchDraw()}},[r,e,n,i,N]);const ga=Ae.Children.map(R,Y=>Ae.isValidElement(Y)?Ae.cloneElement(Y,{scale:f,position:v}):Y),ma=t.jsx(ys,{width:n,height:i,scale:f,position:{x:0,y:0},isSelected:!1,onSelect:void 0,onChange:void 0,isEditable:!1});return r<=0||e<=0||n<=0||i<=0?t.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#fafafa"},children:"Loading..."}):t.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",background:"#fafafa",cursor:b?C?"grabbing":"grab":"default"},children:[t.jsx("div",{style:{position:"absolute",top:16,right:16,zIndex:1,display:"flex",gap:"8px"},children:t.jsxs(de,{style:{background:"rgba(255, 255, 255, 0.9)",padding:"8px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",backdropFilter:"blur(8px)"},children:[t.jsx(K,{icon:t.jsx(Ya,{}),onClick:Z,disabled:f<=.1,style:{borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"}}),t.jsxs("div",{style:{padding:"0 8px",fontSize:"14px",color:"#666",userSelect:"none"},children:[Math.round(f*100),"%"]}),t.jsx(K,{icon:t.jsx(Ga,{}),onClick:L,disabled:f>=20,style:{borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"}})]})}),t.jsxs(zl,{ref:a,width:r,height:e,onClick:mt,draggable:!0,onDragStart:ge,onDragMove:ve,onDragEnd:Te,onMouseEnter:gt,onMouseLeave:zt,onWheel:Re,x:v.x,y:v.y,scaleX:f,scaleY:f,perfectDrawEnabled:!C&&!l&&!ee,hitGraphEnabled:!C,pixelRatio:ee?C?.5:.8:C?B?.8:1:Math.min(1.5,window.devicePixelRatio||1),dragDistance:l?B?5:3:0,listening:!ee||!C,children:[l&&t.jsx($l,{ref:d,listening:!1,children:ma}),t.jsxs(Dl,{ref:c,imageSmoothingEnabled:!C&&!ee,perfectDrawEnabled:!C&&!ee,hitGraphEnabled:!C,children:[!l&&t.jsx(ys,{width:n,height:i,scale:f,position:{x:0,y:0},isSelected:M,onSelect:I?void 0:da,onChange:N||I?void 0:y,isEditable:!N&&!I}),s.map(Y=>t.jsx(Fo,{hall:Y,isSelected:(p==null?void 0:p.id)===Y.id,onSelect:()=>g(Y),onChange:N||I?void 0:j,scale:f,position:{x:0,y:0},exhibitionWidth:n,exhibitionHeight:i,isStallMode:N||I},Y._id||Y.id)),le.map(Y=>{const te=Y._id||Y.id,pe=s.find(X=>X.id===Y.hallId||X._id===Y.hallId);return pe?t.jsx(Oo,{stall:{...Y,_id:te,id:te},hallX:pe.dimensions.x,hallY:pe.dimensions.y,hallWidth:pe.dimensions.width,hallHeight:pe.dimensions.height,scale:f,isDragging:C&&l},te):null}),[...h].sort((Y,te)=>(Y.zIndex||1)-(te.zIndex||1)).map(Y=>{const te=Y._id||Y.id,X=((m==null?void 0:m._id)||(m==null?void 0:m.id))===te;return t.jsx(Lo,{fixture:{...Y,_id:te,id:te},isSelected:X,onSelect:()=>E(Y),onChange:I?x:void 0,scale:f,position:{x:0,y:0},exhibitionWidth:n,exhibitionHeight:i,isEditable:I},te)}),ga]})]}),t.jsx(iu,{visible:z.visible,x:z.x,y:z.y,onExhibitionClick:ha,onHallClick:pa,onStallClick:fa,onClose:()=>S({...z,visible:!1})}),t.jsx(ru,{visible:V,width:n,height:i,onCancel:()=>O(!1),onSubmit:ua})]})},qo={getStallTypes:async()=>G.get("/stall-types"),createStallType:async r=>G.post("/stall-types",r),updateStallType:async(r,e)=>G.put(`/stall-types/${r}`,e),deleteStallType:async r=>G.delete(`/stall-types/${r}`)},kg=Object.freeze(Object.defineProperty({__proto__:null,default:qo},Symbol.toStringTag,{value:"Module"})),{Title:lu}=_e,Eg=({visible:r,stall:e,hall:n,exhibition:i,onCancel:s,onSubmit:o,onDelete:h})=>{const[p]=Q.useForm(),[m,g]=u.useState([]),[E,j]=u.useState(!1),[x,y]=u.useState("rectangle"),[P,T]=u.useState(0),A=(d,f,k,v,w)=>{const _=[...k].sort((D,z)=>{const S=Math.floor(D.dimensions.y/5),M=Math.floor(z.dimensions.y/5);return S===M?D.dimensions.x-z.dimensions.x:D.dimensions.y-z.dimensions.y}),C=(D,z)=>D+d>v||z+f>w?!1:!_.some(S=>{const M=S.dimensions.x,$=S.dimensions.y,V=S.dimensions.width,O=S.dimensions.height,B=1;return!(D+d+B<=M||D>=M+V+B||z+f+B<=$||z>=$+O+B)});for(const D of _){const z=D.dimensions.x+D.dimensions.width+1,S=D.dimensions.y;if(C(z,S))return{x:z,y:S};const M=D.dimensions.x,$=D.dimensions.y+D.dimensions.height+1;if(C(M,$))return{x:M,y:$}}for(let D=0;D<w;D+=5)for(let z=0;z<v;z+=5)if(C(z,D))return{x:z,y:D};return{x:0,y:0}};u.useEffect(()=>{var d,f,k,v,w;if(e&&r){console.log("Setting form values for stall:",e);const b=e.dimensions.shapeType||"rectangle";y(b);let _;typeof e.stallTypeId=="string"?_=e.stallTypeId:e.stallTypeId&&typeof e.stallTypeId=="object"?_=e.stallTypeId._id||e.stallTypeId.id:_="";const C={number:e.number,stallTypeId:_,shapeType:b,width:e.dimensions.width,height:e.dimensions.height,rect1Width:((d=e.dimensions.lShape)==null?void 0:d.rect1Width)||0,rect1Height:((f=e.dimensions.lShape)==null?void 0:f.rect1Height)||0,rect2Width:((k=e.dimensions.lShape)==null?void 0:k.rect2Width)||0,rect2Height:((v=e.dimensions.lShape)==null?void 0:v.rect2Height)||0,orientation:((w=e.dimensions.lShape)==null?void 0:w.orientation)||"bottom-left",ratePerSqm:e.ratePerSqm,status:e.status};console.log("Form values to set:",C),setTimeout(()=>{p.setFieldsValue(C),y(b)},0),T(Bo(e.dimensions))}else if(n&&r&&!e){const b=Math.min(20,n.dimensions.width/4),_=Math.min(20,n.dimensions.height/4);p.setFieldsValue({shapeType:"rectangle",status:"available",width:b,height:_,rect1Width:Math.floor(b*.6),rect1Height:_,rect2Width:Math.floor(b*.4),rect2Height:Math.floor(_*.6),orientation:"bottom-left",ratePerSqm:0}),y("rectangle"),T(b*_)}},[e,n,p,r]),u.useEffect(()=>{r||(p.resetFields(),y("rectangle"),T(0))},[r,p]),u.useEffect(()=>{r&&(async()=>{var f;try{j(!0);const k=await qo.getStallTypes();console.log("Fetched stall types:",k.data);const v=((f=i.stallRates)==null?void 0:f.map(b=>b.stallTypeId))||[];console.log("Configured stall type IDs:",v);const w=k.data.filter(b=>b.status==="active"&&b._id&&v.includes(b._id));console.log("Filtered stall types:",w),g(w)}catch(k){console.error("Failed to fetch stall types:",k)}finally{j(!1)}})()},[r,i.stallRates]);const R=d=>{var k;console.log("Stall type changed to:",d);const f=(k=i.stallRates)==null?void 0:k.find(v=>v.stallTypeId===d);console.log("Found stall rate:",f),f&&p.setFieldsValue({ratePerSqm:f.rate})},N=d=>{y(d),I()},I=()=>{const d=p.getFieldsValue(),f=d.shapeType||"rectangle";if(f==="rectangle"){const k=(d.width||0)*(d.height||0);T(k)}else if(f==="l-shape"){const k=(d.rect1Width||0)*(d.rect1Height||0),v=(d.rect2Width||0)*(d.rect2Height||0);T(k+v)}},l=()=>{p.resetFields(),y("rectangle"),T(0),s()},a=()=>{if(console.log("Hall data:",n),!n||!n._id&&!n.id){fe.error("Invalid hall selected. Please try again.");return}p.validateFields().then(d=>{var b;const f=n._id||n.id;if(!f){fe.error("Hall ID is missing. Please select a hall again.");return}const k=e?{x:e.dimensions.x,y:e.dimensions.y}:A(d.width,d.height,((b=i.stalls)==null?void 0:b.filter(_=>_.hallId===f))||[],n.dimensions.width,n.dimensions.height),v=d.shapeType||"rectangle",w={id:e==null?void 0:e.id,_id:e==null?void 0:e._id,number:d.number,stallTypeId:d.stallTypeId,dimensions:{x:k.x,y:k.y,width:v==="rectangle"?d.width:Math.max(d.rect1Width,d.rect2Width),height:v==="rectangle"?d.height:Math.max(d.rect1Height,d.rect2Height),shapeType:v,...v==="l-shape"&&{lShape:{rect1Width:d.rect1Width,rect1Height:d.rect1Height,rect2Width:d.rect2Width,rect2Height:d.rect2Height,orientation:d.orientation}}},ratePerSqm:d.ratePerSqm,status:d.status,hallId:f};console.log("Submitting stall data:",w),o(w)})},c=d=>{switch(d){case"available":return"#52c41a";case"booked":return"#faad14";case"reserved":return"#1890ff";default:return"#d9d9d9"}};return t.jsx(t.Fragment,{children:t.jsx(ot,{title:t.jsxs(de,{children:[t.jsx(Oe,{style:{fontSize:"20px"}}),t.jsx(lu,{level:4,style:{margin:0},children:e?"Edit Stall":"Add Stall"})]}),open:r,onCancel:l,destroyOnClose:!0,forceRender:!0,width:480,centered:!0,footer:[t.jsxs(de,{size:"middle",children:[e&&h&&t.jsx(K,{danger:!0,icon:t.jsx(Ht,{}),onClick:()=>h(e),children:"Delete"}),t.jsx(K,{onClick:l,children:"Cancel"}),t.jsx(K,{type:"primary",onClick:a,children:e?"Save Changes":"Create"})]},"footer-buttons")],children:t.jsxs(Q,{form:p,layout:"vertical",preserve:!1,requiredMark:"optional",style:{padding:"12px 0"},children:[t.jsx(Q.Item,{name:"number",label:"Stall Number",rules:[{required:!0,message:"Please enter stall number"}],children:t.jsx(je,{placeholder:"Enter stall number",size:"large",style:{borderRadius:"6px"}})}),t.jsx(Q.Item,{name:"stallTypeId",label:"Stall Type",rules:[{required:!0,message:"Please select stall type"}],children:t.jsx(Ne,{loading:E,placeholder:"Select stall type",size:"large",onChange:R,children:m.map(d=>t.jsx(Ne.Option,{value:d._id,children:d.name},d._id))})}),t.jsx($e,{orientation:"left",plain:!0,style:{margin:"24px 0"},children:"Shape & Dimensions"}),t.jsx(Q.Item,{name:"shapeType",label:"Stall Shape",rules:[{required:!0,message:"Please select shape type"}],children:t.jsxs(Ne,{placeholder:"Select stall shape",size:"large",onChange:N,children:[t.jsx(Ne.Option,{value:"rectangle",children:t.jsxs(de,{children:[t.jsx("span",{children:"📐"}),"Rectangle"]})}),t.jsx(Ne.Option,{value:"l-shape",children:t.jsxs(de,{children:[t.jsx("span",{children:"📐"}),"L-Shape"]})})]})}),x==="rectangle"&&t.jsxs(Ce,{gutter:16,children:[t.jsx(oe,{span:12,children:t.jsx(Q.Item,{name:"width",label:"Width (meters)",rules:[{required:!0,message:"Please enter width"},{type:"number",min:1,message:"Width must be at least 1 meter"},{type:"number",max:(n==null?void 0:n.dimensions.width)||100,message:"Width cannot exceed hall width"}],children:t.jsx(ze,{min:1,max:(n==null?void 0:n.dimensions.width)||100,style:{width:"100%"},size:"large",placeholder:"Width",addonAfter:"m",onChange:I})})}),t.jsx(oe,{span:12,children:t.jsx(Q.Item,{name:"height",label:"Height (meters)",rules:[{required:!0,message:"Please enter height"},{type:"number",min:1,message:"Height must be at least 1 meter"},{type:"number",max:(n==null?void 0:n.dimensions.height)||100,message:"Height cannot exceed hall height"}],children:t.jsx(ze,{min:1,max:(n==null?void 0:n.dimensions.height)||100,style:{width:"100%"},size:"large",placeholder:"Height",addonAfter:"m",onChange:I})})})]}),x==="l-shape"&&t.jsxs(t.Fragment,{children:[t.jsx(ye,{size:"small",title:"Rectangle 1 Dimensions",style:{marginBottom:"16px"},children:t.jsxs(Ce,{gutter:16,children:[t.jsx(oe,{span:12,children:t.jsx(Q.Item,{name:"rect1Width",label:"Width (meters)",rules:[{required:!0,message:"Please enter width"},{type:"number",min:1,message:"Width must be at least 1 meter"}],children:t.jsx(ze,{min:1,style:{width:"100%"},size:"large",placeholder:"Width",addonAfter:"m",onChange:I})})}),t.jsx(oe,{span:12,children:t.jsx(Q.Item,{name:"rect1Height",label:"Height (meters)",rules:[{required:!0,message:"Please enter height"},{type:"number",min:1,message:"Height must be at least 1 meter"}],children:t.jsx(ze,{min:1,style:{width:"100%"},size:"large",placeholder:"Height",addonAfter:"m",onChange:I})})})]})}),t.jsxs(ye,{size:"small",title:"Rectangle 2 Dimensions",style:{marginBottom:"16px"},children:[t.jsxs(Ce,{gutter:16,children:[t.jsx(oe,{span:12,children:t.jsx(Q.Item,{name:"rect2Width",label:"Width (meters)",rules:[{required:!0,message:"Please enter width"},{type:"number",min:1,message:"Width must be at least 1 meter"}],children:t.jsx(ze,{min:1,style:{width:"100%"},size:"large",placeholder:"Width",addonAfter:"m",onChange:I})})}),t.jsx(oe,{span:12,children:t.jsx(Q.Item,{name:"rect2Height",label:"Height (meters)",rules:[{required:!0,message:"Please enter height"},{type:"number",min:1,message:"Height must be at least 1 meter"}],children:t.jsx(ze,{min:1,style:{width:"100%"},size:"large",placeholder:"Height",addonAfter:"m",onChange:I})})})]}),t.jsx(Q.Item,{name:"orientation",label:"L-Shape Corner Placement",rules:[{required:!0,message:"Please select corner placement"}],children:t.jsxs(Ne,{placeholder:"Select corner placement",size:"large",children:[t.jsx(Ne.Option,{value:"top-left",children:t.jsxs(de,{children:[t.jsx("span",{children:"┌"}),"Top-Left Corner"]})}),t.jsx(Ne.Option,{value:"top-right",children:t.jsxs(de,{children:[t.jsx("span",{children:"┐"}),"Top-Right Corner"]})}),t.jsx(Ne.Option,{value:"bottom-left",children:t.jsxs(de,{children:[t.jsx("span",{children:"└"}),"Bottom-Left Corner"]})}),t.jsx(Ne.Option,{value:"bottom-right",children:t.jsxs(de,{children:[t.jsx("span",{children:"┘"}),"Bottom-Right Corner"]})})]})})]})]}),t.jsx(ye,{size:"small",style:{background:"#f6ffed",border:"1px solid #b7eb8f",marginBottom:"16px"},children:t.jsxs(Ce,{justify:"space-between",align:"middle",children:[t.jsx(oe,{children:t.jsxs(de,{children:[t.jsx("span",{style:{fontWeight:"bold",color:"#52c41a"},children:"📐 Total Area:"}),t.jsxs("span",{style:{fontSize:"16px",fontWeight:"bold",color:"#389e0d"},children:[P.toFixed(2)," sqm"]})]})}),t.jsx(oe,{children:t.jsx("span",{style:{color:"#73d13d"},children:"Real-time calculation"})})]})}),t.jsx($e,{orientation:"left",plain:!0,style:{margin:"24px 0"},children:"Details"}),t.jsx(Q.Item,{name:"ratePerSqm",label:"Rate per sq.m (₹)",rules:[{required:!0,message:"Please select a stall type to set the rate"}],children:t.jsx(ze,{min:0,style:{width:"100%"},size:"large",placeholder:"Rate will be set based on stall type",prefix:"₹",disabled:!0,formatter:d=>`${d}`.replace(/\B(?=(\d{3})+(?!\d))/g,","),parser:d=>{const f=d?Number(d.replace(/\₹\s?|(,*)/g,"")):0;return isNaN(f)?0:f}})}),t.jsx(Q.Item,{name:"status",label:"Status",rules:[{required:!0,message:"Please select status"}],children:t.jsxs(Ne,{placeholder:"Select status",size:"large",style:{borderRadius:"6px"},children:[t.jsx(Ne.Option,{value:"available",children:t.jsxs(de,{children:[t.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:c("available")}}),"Available"]})}),t.jsx(Ne.Option,{value:"booked",children:t.jsxs(de,{children:[t.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:c("booked")}}),"Booked"]})}),t.jsx(Ne.Option,{value:"reserved",children:t.jsxs(de,{children:[t.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:c("reserved")}}),"Reserved"]})})]})})]})})})},vs=r=>{if(!r)return"";const e=window.location.origin,n=r.replace(/^\/?(api\/uploads\/)?/,"");if(n.includes("fixtures/"))return`${e}/api/uploads/${n}`;const i=localStorage.getItem("token");return i?`${e}/api/uploads/${n}?token=${i}`:""},cu=({name:r,type:e,color:n,rotation:i,showName:s,iconUrl:o,defaultIcons:h,borderColor:p=null,borderRadius:m=0})=>{u.useEffect(()=>{console.log("FixturePreview rendering with props:",{name:r,type:e,color:n,rotation:i,showName:s,iconUrl:o,defaultIconAvailable:!!h[e],borderColor:p,borderRadius:m})},[r,e,n,i,s,o,h,p,m]);const g=h[e]||"📦";return t.jsxs("div",{style:{padding:"24px",textAlign:"center",backgroundColor:"#fafafa",borderBottom:"1px solid #f0f0f0",borderRadius:"8px 8px 0 0"},children:[t.jsx("div",{style:{display:"inline-flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"120px",height:"120px",borderRadius:`${m||4}px`,backgroundColor:n||"#f0f0f0",transform:`rotate(${i}deg)`,transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",overflow:"hidden",position:"relative",border:p?`1px solid ${p}`:"1px solid rgba(0,0,0,0.05)"},children:o?t.jsx("img",{src:o,alt:r,style:{width:"100%",height:"100%",objectFit:"contain",padding:"8px"}}):t.jsx("div",{style:{fontSize:"48px",lineHeight:"1",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:g})}),s&&t.jsx("div",{style:{marginTop:"12px",fontSize:"16px",fontWeight:500,color:"#333"},children:r}),t.jsxs("div",{style:{marginTop:"4px",fontSize:"14px",color:"#888",display:"flex",gap:"8px",justifyContent:"center",alignItems:"center"},children:[t.jsx("span",{children:e.charAt(0).toUpperCase()+e.slice(1)}),t.jsx("span",{children:"•"}),t.jsx("span",{children:n}),i>0&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsxs("span",{children:[i,"°"]})]}),p&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsxs("span",{children:["Border: ",p]})]}),m>0&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsxs("span",{children:["Radius: ",m,"px"]})]})]})]})},{Text:du}=_e,un=({activeKey:r,form:e,fixture:n,exhibitionWidth:i,exhibitionHeight:s,selectedType:o,showName:h,iconFileList:p,fixtureTypes:m,fixtureIcons:g,defaultColors:E,defaultDimensions:j,colorPresets:x,uploadProps:y,iconPreviewVisible:P=!1,previewImage:T="",onTypeChange:A,onColorChange:R,onShowNameChange:N,onIconPreviewCancel:I=()=>{}})=>{switch(r){case"basic":return l();case"position":return a();case"appearance":return c();default:return l()}function l(){return t.jsxs("div",{className:"tab-content",children:[t.jsx(Q.Item,{name:"name",label:"Fixture Name",rules:[{required:!0,message:"Please enter fixture name"}],children:t.jsx(je,{placeholder:"Enter fixture name",prefix:t.jsx(Yt,{style:{color:"#aaa"}}),style:{borderRadius:"8px"}})}),t.jsx(Q.Item,{name:"showName",label:"Show Name on Layout",tooltip:"Toggle whether the fixture name appears on the layout",valuePropName:"checked",children:t.jsx(Xa,{defaultChecked:!0,checkedChildren:"Visible",unCheckedChildren:"Hidden",onChange:d=>{N(d),console.log("Form values after showName toggle:",e.getFieldsValue(!0))}})}),t.jsx(Q.Item,{name:"type",label:"Fixture Type",rules:[{required:!0,message:"Please select fixture type"}],children:t.jsx(Ne,{placeholder:"Select fixture type",onChange:A,options:m.map(d=>({...d,label:t.jsxs(de,{children:[t.jsx("span",{style:{fontSize:16},children:g[d.value]}),t.jsx("span",{children:d.label})]})})),style:{width:"100%",borderRadius:"8px"},listHeight:300,dropdownStyle:{borderRadius:"8px"}})})]})}function a(){return t.jsxs("div",{className:"tab-content",children:[t.jsx(ye,{size:"small",title:"Position (meters)",style:{marginBottom:16,borderRadius:8},styles:{body:{padding:"12px 16px"}},children:t.jsxs(Ce,{gutter:16,children:[t.jsx(oe,{span:12,children:t.jsx(Q.Item,{name:["position","x"],label:"X Position",rules:[{required:!0,message:"X position is required"}],children:t.jsx(ze,{style:{width:"100%",borderRadius:"8px"},min:0,max:i,step:.1,precision:1,placeholder:"X position"})})}),t.jsx(oe,{span:12,children:t.jsx(Q.Item,{name:["position","y"],label:"Y Position",rules:[{required:!0,message:"Y position is required"}],children:t.jsx(ze,{style:{width:"100%",borderRadius:"8px"},min:0,max:s,step:.1,precision:1,placeholder:"Y position"})})})]})}),t.jsx(ye,{size:"small",title:"Dimensions (meters)",style:{marginBottom:16,borderRadius:8},styles:{body:{padding:"12px 16px"}},children:t.jsxs(Ce,{gutter:16,children:[t.jsx(oe,{span:12,children:t.jsx(Q.Item,{name:["dimensions","width"],label:"Width",rules:[{required:!0,message:"Width is required"}],children:t.jsx(ze,{style:{width:"100%",borderRadius:"8px"},min:.5,max:20,step:.1,precision:1,placeholder:"Width"})})}),t.jsx(oe,{span:12,children:t.jsx(Q.Item,{name:["dimensions","height"],label:"Height",rules:[{required:!0,message:"Height is required"}],children:t.jsx(ze,{style:{width:"100%",borderRadius:"8px"},min:.5,max:20,step:.1,precision:1,placeholder:"Height"})})})]})}),t.jsx(ye,{size:"small",title:t.jsxs("span",{children:[t.jsx(Za,{})," Rotation (degrees)"]}),style:{borderRadius:8},styles:{body:{padding:"12px 16px"}},children:t.jsx(Q.Item,{name:"rotation",noStyle:!0,children:t.jsx(Ja,{min:0,max:360,marks:{0:"0°",90:"90°",180:"180°",270:"270°",360:"360°"},tooltip:{formatter:d=>`${d}°`},style:{marginTop:10},keyboard:!1})})})]})}function c(){return t.jsxs("div",{className:"tab-content",children:[t.jsx(Q.Item,{name:"color",label:"Color",tooltip:"Choose a color for the fixture. This affects the background color and tint applied to SVG icons.",rules:[{validator:(d,f)=>{try{return f?Promise.resolve():Promise.reject("Please select a color")}catch{return Promise.reject("Please enter a valid color value")}}}],children:t.jsx(rs,{format:"hex",allowClear:!0,showText:!0,disabledAlpha:!0,presets:x,onChange:R,style:{width:"100%"}})}),t.jsx(Q.Item,{name:"borderColor",label:"Border Color",tooltip:"Choose a border color for the fixture. Leave empty for default borders.",children:t.jsx(rs,{format:"hex",allowClear:!0,showText:!0,disabledAlpha:!0,presets:x,style:{width:"100%"}})}),t.jsx(Q.Item,{name:"borderRadius",label:"Border Radius",tooltip:"Set the corner radius in pixels. Higher values make more rounded corners.",children:t.jsx(ze,{min:0,max:20,step:1,style:{width:"100%",borderRadius:"8px"},addonAfter:"px"})}),t.jsxs(ye,{size:"small",title:"Icon Upload",style:{borderRadius:8,marginBottom:16,marginTop:16},styles:{body:{padding:"16px"}},children:[t.jsx("div",{style:{marginBottom:0},children:t.jsx(el,{...y,children:p.length<1&&t.jsxs("div",{children:[t.jsx(tl,{style:{fontSize:20}}),t.jsx("div",{style:{marginTop:8},children:"Upload Icon"})]})})}),t.jsx(du,{type:"secondary",style:{display:"block",marginTop:12},children:"Upload a custom icon or use the default icon for the selected fixture type. Supported formats: PNG, JPG, SVG. SVG icons are preferred for better quality at all sizes."})]}),t.jsx(Q.Item,{name:"icon",label:"Icon URL",tooltip:"URL to an icon image for this fixture. Will be used if no icon is uploaded.",children:t.jsx(je,{placeholder:"https://example.com/icon.png",prefix:t.jsx(rl,{style:{color:"#aaa"}}),style:{borderRadius:"8px"}})}),t.jsx(ot,{open:P,title:"Icon Preview",footer:null,onCancel:I,children:t.jsx("img",{alt:"Icon Preview",style:{width:"100%"},src:T})})]})}},uu=r=>[{key:"basic",label:t.jsxs("span",{children:[t.jsx($i,{}),"Basic Info"]}),children:t.jsx(un,{...r,activeKey:"basic"})},{key:"position",label:t.jsxs("span",{children:[t.jsx(Wt,{}),"Position"]}),children:t.jsx(un,{...r,activeKey:"position"})},{key:"appearance",label:t.jsxs("span",{children:[t.jsx(Ka,{}),"Appearance"]}),children:t.jsx(un,{...r,activeKey:"appearance"})}],{Text:Cg,Title:Ig}=_e,{TabPane:_g}=Ni,hu=[{value:"sofa",label:"Sofa"},{value:"chair",label:"Chair"},{value:"table",label:"Table"},{value:"desk",label:"Desk"},{value:"plant",label:"Plant"},{value:"entrance",label:"Entrance"},{value:"exit",label:"Exit"},{value:"info",label:"Information"},{value:"restroom",label:"Restroom"},{value:"food",label:"Food Area"},{value:"custom",label:"Custom"}],vr={sofa:{width:2,height:1},chair:{width:5,height:5},table:{width:1,height:1},desk:{width:2,height:.8},plant:{width:.5,height:.5},entrance:{width:1.5,height:.2},exit:{width:1.5,height:.2},info:{width:1,height:1},restroom:{width:1,height:1},food:{width:2,height:2},custom:{width:1,height:1}},xt={sofa:"#a0d0ff",chair:"#a0d0ff",table:"#e0e0e0",desk:"#e0e0e0",plant:"#90ee90",entrance:"#98fb98",exit:"#ffcccb",info:"#add8e6",restroom:"#d8bfd8",food:"#ffe4b5",custom:"#f0f0f0"},hn={sofa:"🛋️",chair:"🪑",table:"🪟",desk:"🖥️",plant:"🪴",entrance:"🚪",exit:"🚪",info:"ℹ️",restroom:"🚻",food:"🍽️",custom:"📦"},Rg=({visible:r,fixture:e,onCancel:n,onSubmit:i,onDelete:s,exhibitionWidth:o,exhibitionHeight:h})=>{const[p]=Q.useForm(),[m,g]=u.useState(!1),[E,j]=u.useState(""),[x,y]=u.useState("basic"),[P,T]=u.useState(""),[A,R]=u.useState([]),[N,I]=u.useState(!1),[l,a]=u.useState(""),{message:c}=Di.useApp(),[d,f]=u.useState("#f0f0f0"),[k,v]=u.useState("New Fixture"),[w,b]=u.useState("chair"),[_,C]=u.useState(0),[D,z]=u.useState(!0),[S,M]=u.useState(null),[$,V]=u.useState(0);u.useEffect(()=>{if(r)if(e){const L=W(e.color),Z=xt[e.type]||"#f0f0f0",ae=L||Z;console.log("Setting up fixture colors:",{original:e.color,normalized:L,fallback:Z,final:ae}),f(ae),v(e.name),b(e.type),C(e.rotation||0),j(e.type),z(e.showName!==!1),M(e.borderColor||null),V(e.borderRadius||0)}else{const L="chair",Z=xt[L];f(Z),v("New Fixture"),b(L),C(0),j(L),z(!0),M(null),V(0)}},[r,e]),u.useEffect(()=>{if(r&&p){if(e){const L=W(e.color),Z=xt[e.type]||"#f0f0f0",ae=L||Z;p.setFieldsValue({name:e.name,type:e.type,position:{x:e.position.x,y:e.position.y},dimensions:{width:e.dimensions.width,height:e.dimensions.height},rotation:e.rotation||0,color:ae,icon:e.icon||"",showName:e.showName!==!1,borderColor:e.borderColor||null,borderRadius:e.borderRadius||0});const ge=e.icon?vs(e.icon):"";T(ge),e.icon?R([{uid:"-1",name:e.icon.split("/").pop()||"icon",status:"done",url:ge,thumbUrl:ge}]):R([])}else{const L="chair",Z=xt[L];p.setFieldsValue({name:"New Fixture",type:L,position:{x:Math.floor(o/2),y:Math.floor(h/2)},dimensions:vr[L],rotation:0,color:Z,icon:"",showName:!0,borderColor:null,borderRadius:0}),T(""),R([])}y("basic")}},[r,e,p,o,h]);const O=()=>{if(p&&r)try{const L=p.getFieldsValue(!0);if(L.name&&v(L.name),L.type&&b(L.type),L.rotation!==void 0&&C(L.rotation),L.color){const Z=W(L.color);Z&&f(Z)}if(L.showName!==void 0&&z(L.showName),L.borderColor!==void 0){const Z=L.borderColor?W(L.borderColor):null;M(Z)}L.borderRadius!==void 0&&V(L.borderRadius)}catch(L){console.log("Error updating preview",L)}};u.useEffect(()=>{if(p&&r)return p.getFieldsValue,O(),()=>{}},[p,r]);const B=L=>{if(j(L),b(L),!e){const Z=xt[L]||xt.custom;p.setFieldsValue({dimensions:vr[L]||vr.custom,color:Z}),f(Z)}},H=L=>{const Z=W(L);p.setFieldValue("color",Z),f(Z);const ae=Object.entries(xt).find(([ge,ve])=>ve.toLowerCase()===Z.toLowerCase());ae&&!e&&(p.setFieldValue("type",ae[0]),j(ae[0]),b(ae[0]))},q=()=>(console.log("Rendering fixture preview with:",{name:k,type:w,color:d,rotation:_,showName:D,iconUrl:P,borderColor:S,borderRadius:$}),t.jsx(cu,{name:k,type:w,color:d,rotation:_,showName:D,iconUrl:P,defaultIcons:hn,borderColor:S,borderRadius:$})),U=({file:L,fileList:Z})=>{var ae;if(L.status==="uploading"&&R(Z),L.status==="done"){c.success(`${L.name} uploaded successfully`);let ve=(((ae=L.response)==null?void 0:ae.url)||"").replace(/^\/api\/uploads\//,"");ve&&!ve.startsWith("fixtures/")&&(ve=`fixtures/${ve.replace(/^\//,"")}`),console.log("Icon path stored in form:",ve),p.setFieldValue("icon",ve);const Te=vs(ve);console.log("Using direct backend URL:",Te),T(Te);const gt=L.name.toLowerCase().endsWith(".svg"),zt=Z.map(mt=>mt.uid===L.uid?{...mt,url:Te,thumbUrl:Te,type:gt?"image/svg+xml":mt.type}:mt);R(zt),console.log("Form values after icon upload:",p.getFieldsValue(!0))}L.status==="error"&&(c.error(`${L.name} upload failed.`),R(Z.filter(ge=>ge.uid!==L.uid)))},J={name:"file",action:`${G.defaults.baseURL}/fixtures/upload/icons`,headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},accept:"image/png,image/jpeg,image/jpg,image/svg+xml",listType:"picture-card",fileList:A,onChange:U,onPreview:L=>{a(L.url||L.thumbUrl||""),I(!0)},onRemove:()=>(T(""),R([]),p.setFieldValue("icon",""),console.log("Form values after icon removal:",p.getFieldsValue(!0)),!0),maxCount:1,showUploadList:{showPreviewIcon:!0,showRemoveIcon:!0,showDownloadIcon:!1,removeIcon:t.jsx(Ht,{style:{color:"#ff4d4f"}})}},W=L=>{try{if(!L)return"#f0f0f0";if(typeof L=="object"&&L!==null){if(typeof L.toHexString=="function")return L.toHexString();if(L.rgb||L.hex)return L.hex||`rgb(${L.rgb.r},${L.rgb.g},${L.rgb.b})`}if(typeof L=="string"){if(/^#([0-9A-F]{3}){1,2}$/i.test(L))return L;if(/^([0-9A-F]{3}){1,2}$/i.test(L))return`#${L}`;if(/^rgb\(\s*\d+\s*,\s*\d+\s*,\s*\d+\s*\)$/.test(L))return L}return"#f0f0f0"}catch(Z){return console.error("Error normalizing color:",Z),"#f0f0f0"}},le=[{label:"Primary Colors",colors:["#1890ff","#52c41a","#faad14","#f5222d","#722ed1"]},{label:"Neutrals",colors:["#000000","#262626","#595959","#8c8c8c","#bfbfbf","#d9d9d9","#f0f0f0","#ffffff"]}],ee=Ae.useCallback(()=>{e&&s&&s(e)},[e,s]),re=L=>{y(L),document.activeElement instanceof HTMLElement&&document.activeElement.blur()},ie=uu({form:p,fixture:e,exhibitionWidth:o,exhibitionHeight:h,selectedType:E,showName:D,iconFileList:A,fixtureTypes:hu,fixtureIcons:hn,defaultColors:xt,defaultDimensions:vr,colorPresets:le,uploadProps:J,iconPreviewVisible:N,previewImage:l,onTypeChange:B,onColorChange:H,onShowNameChange:L=>z(L),onIconPreviewCancel:()=>I(!1),activeKey:x}),ce=async()=>{try{g(!0);const L=await p.validateFields();v(L.name),b(L.type),C(L.rotation||0),f(W(L.color)),z(L.showName),M(L.borderColor?W(L.borderColor):null),V(L.borderRadius||0);let Z="";L.icon!==void 0?Z=L.icon?Re(L.icon):"":e!=null&&e.icon&&(Z=e.icon),console.log("Form values being submitted:",{name:L.name,type:L.type,color:L.color,icon:L.icon,originalIcon:e==null?void 0:e.icon,cleanedIcon:Z,showName:L.showName,borderColor:L.borderColor,borderRadius:L.borderRadius});const ae=(e==null?void 0:e._id)||(e==null?void 0:e.id)||"",ge=L.color?W(L.color):(e==null?void 0:e.color)||"#f0f0f0",ve=L.borderColor?W(L.borderColor):null,Te={...e,id:ae,_id:ae,name:L.name,type:L.type,position:L.position,dimensions:L.dimensions,rotation:L.rotation,color:ge,icon:Z,zIndex:(e==null?void 0:e.zIndex)||1,isActive:(e==null?void 0:e.isActive)!==void 0?e.isActive:!0,borderColor:ve,borderRadius:L.borderRadius||0};ae&&(Te.showName=L.showName),console.log("Submitting fixture with icon path:",Z),console.log("Color being submitted:",ge),await i(Te),n()}catch(L){console.error("Fixture submission failed:",L),c.error("Failed to save fixture. Please check the form and try again.")}finally{g(!1)}},Re=L=>{if(!L||typeof L!="string")return"";if(L.startsWith("fixtures/")&&!L.includes("?")&&!L.includes("http"))return L;let Z=L.replace(/^\/api\/uploads\//,"");if(Z=Z.replace(/^\//,""),Z.includes("?")||Z.includes("http")){const ae=Z.split("?")[0].split("/").pop()||"";if(ae)return`fixtures/${ae}`}return Z&&!Z.startsWith("fixtures/")?`fixtures/${Z}`:Z};return t.jsxs(ot,{title:t.jsxs("div",{style:{padding:"8px 0",display:"flex",alignItems:"center"},children:[t.jsx("span",{style:{fontSize:24,marginRight:8},children:e?hn[e.type]:"🪑"}),t.jsx("span",{children:e?`Edit ${e.name}`:"Add New Fixture"})]}),open:r,onCancel:n,confirmLoading:m,footer:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx("div",{children:e&&s&&t.jsx(K,{danger:!0,icon:t.jsx(Ht,{}),onClick:ee,style:{borderRadius:"6px"},children:"Delete"})}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx(K,{onClick:n,icon:t.jsx(nl,{}),style:{borderRadius:"6px"},children:"Cancel"}),t.jsx(K,{type:"primary",onClick:ce,icon:t.jsx(il,{}),style:{borderRadius:"6px"},children:e?"Update":"Create"})]})]}),width:560,centered:!0,styles:{header:{borderBottom:"1px solid #f0f0f0",padding:"16px 24px"},body:{backgroundColor:"#fff",borderRadius:"0 0 8px 8px",padding:"0"},footer:{borderTop:"1px solid #f0f0f0",padding:"12px 24px",margin:0}},children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:`
        .svg-icon {
          filter: drop-shadow(0px 1px 2px rgba(0,0,0,0.2));
        }
        
        /* Fix for passive event listener warnings */
        .ant-slider, .ant-slider-handle, .ant-color-picker-trigger, .ant-color-picker-dropdown {
          touch-action: none !important;
        }
        
        .ant-slider-rail, .ant-slider-track {
          touch-action: pan-y !important;
        }
        
        .ant-tabs-tab, .ant-select-selector, .ant-input-number-input, .ant-color-picker-slider, .ant-color-picker-palette {
          touch-action: manipulation !important;
        }
        
        /* Fix circular references warning */
        .ant-color-picker-trigger-disabled .ant-color-picker-clear {
          display: none;
        }
      `}}),q(),t.jsx(Q,{form:p,layout:"vertical",initialValues:{name:"New Fixture",type:"chair",position:{x:0,y:0},dimensions:{width:1,height:1},rotation:0,color:"#f0f0f0",icon:"",showName:!0,borderColor:null,borderRadius:0},style:{padding:"0 24px 20px"},onValuesChange:O,children:t.jsx(Ni,{activeKey:x,onChange:re,items:ie,tabBarStyle:{marginBottom:16},centered:!0})})]})},pu=F(ot)`
  .ant-modal-content {
    padding: 0;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
  }
  .ant-modal-header {
    padding: 24px 32px;
    margin: 0;
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
    background: linear-gradient(to right, #4b47b9, #3f51b5);
    
    .ant-modal-title {
      color: white;
      font-weight: 600;
      font-size: 18px;
    }
  }
  .ant-modal-body {
    padding: 0;
  }
  .ant-modal-close {
    color: white;
  }
`,fu=F.div`
  display: flex;
  border-bottom: 1px solid #eee;
  background-color: #f9f9fa;
  margin-bottom: 24px;
  
  .step-item {
    padding: 16px 24px;
    position: relative;
    display: flex;
    align-items: center;
    font-size: 15px;
    color: #666;
    gap: 10px;
    
    &.active {
      color: #4b47b9;
      font-weight: 500;
      
      &:after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 2px;
        background-color: #4b47b9;
      }
      
      .step-icon {
        background-color: #4b47b9;
        color: white;
      }
    }
    
    &.completed {
      .step-icon {
        background-color: #52c41a;
        color: white;
      }
    }
    
    .step-icon {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background-color: #eee;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  }
`,or=F.div`
  padding: 24px 32px 32px;
`,gu=F.h2`
  font-size: 24px;
  font-weight: 600;
  color: #1f1f1f;
  margin-bottom: 8px;
`,mu=F.p`
  font-size: 14px;
  color: #666;
  margin-bottom: 24px;
`;F.div`
  display: flex;
  gap: 12px;
  margin-bottom: 24px;
  
  .search-input {
    width: 240px;
    border-radius: 8px;
  }
  
  .filter-select {
    width: 160px;
    border-radius: 8px;
  }
`;F.div`
  margin-bottom: 24px;
  
  .tab-header {
    display: flex;
    margin-bottom: 24px;
    border-bottom: 1px solid #f0f0f0;
    
    .tab-item {
      padding: 12px 24px;
      font-size: 15px;
      font-weight: 500;
      color: #666;
      cursor: pointer;
      position: relative;
      display: flex;
      align-items: center;
      gap: 8px;
      
      &.active {
        color: #4b47b9;
        
        &:after {
          content: '';
          position: absolute;
          bottom: -1px;
          left: 0;
          right: 0;
          height: 2px;
          background: #4b47b9;
          border-radius: 2px 2px 0 0;
        }
      }
      
      .badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: #f0f0f0;
        color: #666;
        font-size: 12px;
        height: 20px;
        min-width: 20px;
        padding: 0 8px;
        border-radius: 10px;
        margin-left: 8px;
        
        &.active {
          background: #4b47b9;
          color: white;
        }
      }
    }
  }
`;F.div`
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 16px;
  margin-bottom: 24px;
`;F.div`
  border: 1px solid ${r=>r.selected?"#4b47b9":"#e6e6f0"};
  background: ${r=>r.selected?"rgba(75, 71, 185, 0.05)":"white"};
  border-radius: 12px;
  padding: 20px;
  padding-left: 48px;
  position: relative;
  transition: all 0.2s ease;
  box-shadow: ${r=>r.selected?"0 4px 12px rgba(75, 71, 185, 0.15)":"0 2px 8px rgba(0, 0, 0, 0.04)"};
  cursor: pointer;
  
  &:hover {
    border-color: #4b47b9;
    box-shadow: 0 4px 12px rgba(75, 71, 185, 0.15);
    transform: translateY(-2px);
  }
  
  .stall-price {
    position: absolute;
    top: 16px;
    right: 16px;
    background: ${r=>r.selected?"#4b47b9":"#52c41a"};
    color: white;
    font-weight: 600;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 14px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
  }
  
  .stall-number {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 8px;
    color: #1f1f1f;
    display: flex;
    align-items: center;
    
    .hall-label {
      font-size: 13px;
      color: #666;
      margin-left: 8px;
      font-weight: normal;
    }
  }
  
  .stall-details {
    display: flex;
    gap: 16px;
    margin-top: 16px;
    
    .detail-item {
      flex: 1;
      
      .label {
        font-size: 12px;
        color: #666;
        margin-bottom: 4px;
      }
      
      .value {
        font-size: 15px;
        font-weight: 500;
      }
    }
  }
  
  .selection-indicator {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 12px;
    transform: translateY(-50%);
    background: ${r=>r.selected?"#4b47b9":"white"};
    border: 2px solid ${r=>r.selected?"#4b47b9":"#d9d9d9"};
    color: white;
    transition: all 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }
`;const xu=F(ye)`
  background: #f9fafc;
  border-radius: 12px;
  margin-top: 24px;
  border: 1px solid #eaecf0;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(16, 24, 40, 0.1), 0 1px 2px rgba(16, 24, 40, 0.06);
  
  .ant-card-head {
    background: #f2f4f7;
    border-bottom-color: #eaecf0;
    padding: 16px 24px;
    min-height: 48px;
    
    .ant-card-head-title {
      padding: 0;
      font-size: 16px;
      font-weight: 600;
      color: #101828;
    }
  }
  
  .ant-card-body {
    padding: 16px 24px 24px;
  }
  
  .summary-row {
    display: flex;
    justify-content: space-between;
    padding: 12px 0;
    
    &:not(:last-child) {
      border-bottom: 1px solid #eaecf0;
    }
    
    .label {
      color: #475467;
      font-weight: 500;
    }
    
    .value {
      font-weight: 600;
      text-align: right;
      color: #1f2937;
    }
    
    &.discount {
      color: #ef4444;
      
      .value {
        color: #ef4444;
      }
    }
    
    &.total {
      font-weight: 600;
      font-size: 16px;
      color: #101828;
      border-top: 1px solid #eaecf0;
      margin-top: 8px;
      padding-top: 16px;
      
      .label, .value {
        font-size: 16px;
        font-weight: 700;
        color: #101828;
      }
    }
  }
`;F(K)`
  &.ant-btn-primary {
    background: #4b47b9;
    border-color: #4b47b9;
    
    &:hover, &:focus {
      background: #3b37a9;
      border-color: #3b37a9;
    }
  }
  
  &.ant-btn-lg {
    height: 48px;
    padding: 0 24px;
    font-size: 16px;
    border-radius: 8px;
  }
`;F.div`
  display: flex;
  justify-content: flex-end;
  margin-top: 24px;
  padding-top: 16px;
  border-top: 1px solid #f0f0f0;
`;F(ye)`
  background: #f8f8fc;
  border-radius: 12px;
  border: 1px solid #e6e6f0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
  
  .ant-card-body {
    padding: 24px;
  }
  
  .ant-form-item:last-child {
    margin-bottom: 0;
  }
`;F(je)`
  &.ant-input-lg {
    border-radius: 8px;
    border: 1px solid #e6e6f0;
    background: white;
    padding: 12px 16px;
    height: auto;
    
    &:hover, &:focus {
      border-color: #4b47b9;
      box-shadow: 0 0 0 2px rgba(75, 71, 185, 0.1);
    }
  }
  
  .anticon {
    color: #4b47b9;
  }
`;const pn=F(K)`
  &.ant-btn-lg {
    height: 40px;
    padding: 0 24px;
    font-size: 14px;
    border-radius: 6px;
    font-weight: 500;
    
    &.ant-btn-primary {
      background: #4b47b9;
      border-color: #4b47b9;
      
      &:hover {
        background: #3f3fa0;
        border-color: #3f3fa0;
      }
    }

    &:not(.ant-btn-primary) {
      border-color: #d9d9d9;
      
      &:hover {
        color: #4b47b9;
        border-color: #4b47b9;
      }
    }
  }
`;F(Bt)`
  .ant-descriptions-item-label {
    background: #f8f8fc !important;
    font-weight: 600;
    color: #1f1f1f;
  }
  
  .ant-descriptions-item-content {
    background: white !important;
  }
`;F.div`
  background: #f8f8fc;
  padding: 32px 0;
  border-bottom: 1px solid #e6e6f0;
  margin: -32px -32px 32px;
`;F(pr)`
  max-width: 900px;
  margin: 0 auto;

  .ant-steps-item {
    padding: 0 12px;
    margin: 0;
    
    &:first-of-type {
      padding-left: 0;
    }
    
    &:last-of-type {
      padding-right: 0;
    }
  }

  .ant-steps-item-container {
    position: relative;
  }

  .ant-steps-item-tail {
    padding: 0;
    top: 13px;
    margin: 0;
    
    &::after {
      height: 1px;
      margin: 0;
      background: #e6e6f0;
    }
  }

  .ant-steps-item-icon {
    width: 28px;
    height: 28px;
    line-height: 28px;
    margin-right: 8px;
    font-size: 14px;
    border: none;
    background: #e6e6f0;
    
    .anticon {
      font-size: 14px;
      top: 0;
    }
  }

  .ant-steps-item-content {
    display: inline-block;
  }

  .ant-steps-item-title {
    font-size: 14px;
    line-height: 28px;
    padding-right: 8px;
    color: rgba(0, 0, 0, 0.45);
    font-weight: normal;
    
    &::after {
      height: 1px;
      top: 14px;
      background: #e6e6f0 !important;
    }
  }

  .ant-steps-item-description {
    max-width: 140px;
    font-size: 12px;
    color: rgba(0, 0, 0, 0.45);
  }

  .ant-steps-item-active {
    .ant-steps-item-icon {
      background: #4b47b9;
      border: none;
      
      .ant-steps-icon {
        color: white;
      }
    }
    
    .ant-steps-item-title {
      color: rgba(0, 0, 0, 0.85);
      font-weight: 500;
      
      &::after {
        background: #e6e6f0;
      }
    }
    
    .ant-steps-item-description {
      color: rgba(0, 0, 0, 0.65);
    }
  }

  .ant-steps-item-finish {
    .ant-steps-item-icon {
      background: #4b47b9;
      border: none;
      
      .ant-steps-icon {
        color: white;
      }
    }
    
    .ant-steps-item-title {
      color: rgba(0, 0, 0, 0.85);
      
      &::after {
        background: #4b47b9 !important;
      }
    }
    
    .ant-steps-item-tail::after {
      background: #4b47b9;
    }
  }

  .ant-steps-item-wait {
    .ant-steps-item-icon {
      background: #e6e6f0;
      border: none;
      
      .ant-steps-icon {
        color: rgba(0, 0, 0, 0.45);
      }
    }
  }
`;F.div`
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 4px 0;

  .company-name {
    font-weight: 500;
    color: rgba(0, 0, 0, 0.85);
  }

  .contact-details {
    font-size: 12px;
    color: rgba(0, 0, 0, 0.45);
  }
`;F.div`
  margin-bottom: 32px;

  &:last-child {
    margin-bottom: 0;
  }

  .section-title {
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 1px solid #e6e6f0;
  }
`;F.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px;
`;F.div`
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 24px;
  margin-top: 24px;
`;F.div`
  display: flex;
  flex-direction: column;
  gap: 16px;
  max-height: 338px; /* Height for 3 cards: (102px × 3) + (16px × 2 gaps) */
  overflow-y: auto;
  padding-right: 8px;
  
  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: #f0f0f0;
    border-radius: 3px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: #ccc;
    border-radius: 3px;
    
    &:hover {
      background: #bbb;
    }
  }
`;F(ye)`
  &.ant-card {
    background: #f8f8fc;
    border: 1px solid #e6e6f0;
    border-radius: 8px;
    position: sticky;
    top: 24px;
  }

  .calculation-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 12px;
    
    &:last-child {
      margin-bottom: 0;
    }
  }

  .total-row {
    border-top: 1px solid #e6e6f0;
    margin-top: 16px;
    padding-top: 16px;
    font-weight: 600;
  }
`;const ws=r=>{if(!r)return 0;const e=r.shapeType||"rectangle";if(e==="rectangle")return r.width*r.height;if(e==="l-shape"&&r.lShape){const{rect1Width:n,rect1Height:i,rect2Width:s,rect2Height:o}=r.lShape;return n*i+s*o}return r.width*r.height},js=({form:r,stallDetails:e=[],selectedStallId:n,selectedStallIds:i=[],exhibition:s})=>{const[o,h]=u.useState([]);u.useEffect(()=>{let y=[...(r.getFieldValue("selectedStalls")||[]).map(P=>String(P))];if(n){const P=String(n);y.some(T=>T===P)||y.push(P)}i.length>0&&i.forEach(P=>{const T=String(P);y.some(A=>A===T)||y.push(T)}),console.log("StallDetailsStep - Initial stalls after normalization:",y),r.setFieldsValue({selectedStalls:y}),h(y)},[r,n,i]),u.useEffect(()=>{if(o.length>0){const j=r.getFieldValue("selectedStalls")||[],x=new Set(j.map(T=>String(T))),y=new Set(o.map(T=>String(T)));let P=x.size!==y.size;if(!P){for(const T of y)if(!x.has(T)){P=!0;break}}if(P){console.log("Syncing form with selected stalls:",o);const T=o.map(A=>String(A));r.setFieldsValue({selectedStalls:T}),r.validateFields(["selectedStalls"]).catch(A=>{})}}},[o,r]);const p=u.useMemo(()=>!e||e.length===0?[]:e.filter(j=>o.includes(j.id)),[e,o]),m=u.useMemo(()=>{var l,a,c;if(!e||e.length===0)return{baseAmount:0,discounts:[],totalDiscountAmount:0,amountAfterDiscount:0,taxes:[],totalTaxAmount:0,total:0,selectedStallNumbers:""};const j=e.filter(d=>o.includes(d.id)),x=j.reduce((d,f)=>d+(f.price||f.ratePerSqm*ws(f.dimensions)),0),P=(((l=s==null?void 0:s.publicDiscountConfig)==null?void 0:l.filter(d=>d.isActive))||[]).map(d=>{const f=d.type==="percentage"?x*(Math.min(Math.max(0,d.value),100)/100):Math.min(d.value,x);return{name:d.name,type:d.type,value:d.value,amount:f}}),T=P.reduce((d,f)=>d+f.amount,0),A=x-T,R=((c=(a=s==null?void 0:s.taxConfig)==null?void 0:a.filter(d=>d.isActive))==null?void 0:c.map(d=>({name:d.name,rate:d.rate,amount:A*(d.rate/100)})))||[],N=R.reduce((d,f)=>d+f.amount,0),I=A+N;return{baseAmount:x,discounts:P,totalDiscountAmount:T,amountAfterDiscount:A,taxes:R,totalTaxAmount:N,total:I,selectedStallNumbers:j.map(d=>`${d.number||d.stallNumber||`Stall ${d.id}`} (${d.hallName||`Hall ${d.hallId||1}`})`).join(", ")}},[e,o,s==null?void 0:s.taxConfig,s==null?void 0:s.publicDiscountConfig]),g=j=>{const x=String(j);if(o.some(P=>String(P)===x)){const P=o.filter(T=>String(T)!==x);h(P),r.setFieldsValue({selectedStalls:P}),fe.info("Stall removed from selection")}},E=j=>`₹${j.toLocaleString("en-IN")}`;return t.jsxs(or,{children:[t.jsx(gu,{children:"Your Selected Stalls"}),t.jsx(mu,{children:"Review your selected stalls. You can remove a stall by clicking the delete button."}),t.jsx(Q.Item,{name:"selectedStalls",rules:[{required:!0,message:"Please select at least one stall"}],style:{display:"none"},children:t.jsx(Ne,{mode:"multiple"})}),p.length>0?t.jsx("div",{style:{marginBottom:24,background:"#fff",borderRadius:"8px",padding:"16px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)"},children:t.jsx(qt,{dataSource:p.map(j=>{const x=ws(j.dimensions),P=j.dimensions.shapeType==="l-shape"?"L-Shape":`${j.dimensions.width}m × ${j.dimensions.height}m`;return{...j,key:j.id,price:j.price||j.ratePerSqm*x,area:x,dimensions:P,size:P,stallType:j.stallType||{name:j.typeName||j.type||"Standard"},type:j.typeName||j.type||"Standard"}}),pagination:!1,size:"middle",rowClassName:()=>"stall-table-row",className:"selected-stalls-table",style:{borderRadius:"6px",overflow:"hidden"},columns:[{title:"Stall",dataIndex:"number",key:"number",render:(j,x)=>t.jsxs("span",{style:{fontWeight:600,fontSize:"15px"},children:["Stall ",j||x.stallNumber]})},{title:"Hall",dataIndex:"hallName",key:"hallName",render:(j,x)=>t.jsx(Ge,{color:"blue",style:{borderRadius:"4px"},children:j||`Hall ${x.hallId}`})},{title:"Stall Type",dataIndex:"stallType",key:"stallType",align:"center",render:(j,x)=>{var P;const y=((P=x.stallType)==null?void 0:P.name)||x.type||"Standard";return t.jsx(Ge,{color:"purple",style:{borderRadius:"4px",padding:"2px 8px"},children:y})}},{title:"Dimensions",dataIndex:"dimensions",key:"dimensions",align:"center",render:(j,x)=>t.jsxs(de,{direction:"vertical",size:0,children:[t.jsx("span",{style:{fontWeight:500},children:j}),t.jsxs("span",{style:{color:"#888",fontSize:"13px"},children:[x.area," sqm"]})]})},{title:"Rate",dataIndex:"ratePerSqm",key:"ratePerSqm",align:"right",render:(j,x)=>t.jsxs("span",{style:{color:"#555"},children:["₹",(x.ratePerSqm||0).toLocaleString("en-IN"),"/sqm"]})},{title:"Price",dataIndex:"price",key:"price",align:"right",render:j=>t.jsx("span",{style:{fontWeight:600,color:"#1890ff",fontSize:"15px",display:"block",padding:"4px 8px",background:"rgba(24, 144, 255, 0.1)",borderRadius:"4px",textAlign:"right"},children:E(j)})},{title:"",key:"action",width:70,align:"center",render:(j,x)=>t.jsx(vt,{title:"Remove from selection",children:t.jsx(K,{type:"text",danger:!0,icon:t.jsx(Ht,{}),onClick:()=>g(x.id),size:"middle",style:{borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center"}})})}]})}):t.jsx(Qe,{description:"No stalls selected yet. Please select stalls from the layout.",image:Qe.PRESENTED_IMAGE_SIMPLE,style:{margin:"32px 0"}}),o.length>0&&t.jsxs(xu,{title:t.jsx("span",{style:{fontSize:"16px",fontWeight:600},children:"Booking Summary"}),style:{borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.06)"},headStyle:{background:"#f6f8fa",borderBottom:"1px solid #eee"},bodyStyle:{padding:"16px 24px"},children:[t.jsxs("div",{className:"summary-row",children:[t.jsx("div",{className:"label",children:"Selected Stalls"}),t.jsxs("div",{className:"value",children:[o.length," stall(s) selected"]})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx("div",{className:"label",children:"Stall Numbers"}),t.jsx("div",{className:"value",style:{maxWidth:"60%",wordBreak:"break-word"},children:m.selectedStallNumbers})]}),t.jsxs("div",{className:"summary-row",children:[t.jsx("div",{className:"label",children:"Base Amount"}),t.jsx("div",{className:"value",children:E(m.baseAmount)})]}),m.discounts.map((j,x)=>t.jsxs("div",{className:"summary-row discount",children:[t.jsxs("div",{className:"label",children:[j.name,j.type==="percentage"?` (${j.value}%)`:""]}),t.jsxs("div",{className:"value",style:{color:"#52c41a"},children:["- ",E(j.amount)]})]},`discount-${x}`)),t.jsxs("div",{className:"summary-row",children:[t.jsx("div",{className:"label",children:"Amount after Discount"}),t.jsx("div",{className:"value",style:{fontWeight:500},children:E(m.amountAfterDiscount)})]}),m.taxes.map((j,x)=>t.jsxs("div",{className:"summary-row",children:[t.jsxs("div",{className:"label",children:[j.name," (",j.rate,"%)"]}),t.jsxs("div",{className:"value",style:{color:"#faad14"},children:["+ ",E(j.amount)]})]},`tax-${x}`)),t.jsxs("div",{className:"summary-row total",style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid #f0f0f0"},children:[t.jsx("div",{className:"label",style:{fontSize:"16px",fontWeight:600},children:"Total"}),t.jsx("div",{className:"value",style:{fontSize:"18px",fontWeight:700,color:"#1890ff"},children:E(m.total)})]})]})]})},{Title:bu,Paragraph:Ss,Text:lt}=_e,{Panel:Tg}=sl,{Option:yu}=Ne,vu=r=>{if(!r)return 0;const e=r.shapeType||"rectangle";if(e==="rectangle")return r.width*r.height;if(e==="l-shape"&&r.lShape){const{rect1Width:n,rect1Height:i,rect2Width:s,rect2Height:o}=r.lShape;return n*i+s*o}return r.width*r.height},ks=({form:r,formValues:e,selectedStallIds:n=[],exhibition:i,stallDetails:s=[]})=>{const o=r.getFieldValue("selectedStalls")||n||[],[h,p]=u.useState(r.getFieldValue("amenities")||[]),[m,g]=u.useState({}),E=u.useMemo(()=>s!=null&&s.length?s.filter(c=>o.includes(c.id)):[],[s,o]),j=u.useMemo(()=>E.reduce((c,d)=>c+vu(d.dimensions),0),[E]),x=(i==null?void 0:i.basicAmenities)&&i.basicAmenities.length>0,y=(i==null?void 0:i.amenities)&&i.amenities.length>0,P=u.useMemo(()=>!x||j===0?[]:((i==null?void 0:i.basicAmenities)||[]).map(c=>{const d=Math.floor(j/c.perSqm)*c.quantity;return{...c,calculatedQuantity:d>0?d:0,key:c._id||c.id}}),[i,x,j]),T=c=>{const d={...m};c.forEach(f=>{h.includes(f)||(d[f]=1)}),Object.keys(d).forEach(f=>{c.includes(f)||delete d[f]}),g(d),p(c)},A=c=>(c._id||c.id||"").toString(),R=(c,d)=>{g(f=>({...f,[c]:d}))};Ae.useEffect(()=>{const c=h.map(d=>({id:d,quantity:m[d]||1}));r.setFieldsValue({amenities:c})},[h,m,r]);const N=c=>`₹${c.toLocaleString("en-IN")}`,I=u.useMemo(()=>y?((i==null?void 0:i.amenities)||[]).filter(c=>h.includes(A(c))).map(c=>({...c,key:A(c),quantity:m[A(c)]||1})):[],[i,y,h,m]),l=[{title:"Name",dataIndex:"name",key:"name",render:(c,d)=>t.jsxs(de,{children:[t.jsx(lt,{strong:!0,children:c}),t.jsx(Ge,{color:"blue",children:d.type})]})},{title:"Quantity",dataIndex:"calculatedQuantity",key:"calculatedQuantity",width:120,render:c=>t.jsxs(Ge,{color:"green",children:[c," ",c===1?"unit":"units"]})},{title:"Allocation",dataIndex:"perSqm",key:"perSqm",width:180,render:(c,d)=>t.jsx(vt,{title:d.description,children:t.jsxs(lt,{type:"secondary",children:[t.jsx(Yt,{style:{marginRight:5}}),"1 ",d.quantity>1?`set of ${d.quantity}`:"unit"," per ",c," sqm"]})})}],a=[{title:"Name",dataIndex:"name",key:"name",render:(c,d)=>t.jsxs(de,{align:"center",children:[t.jsx(lt,{strong:!0,children:c}),t.jsx(Ge,{color:"blue",children:d.type}),t.jsx(lt,{type:"secondary",style:{fontSize:"13px"},children:d.description})]})},{title:"Rate",dataIndex:"rate",key:"rate",width:120,render:c=>t.jsx(lt,{strong:!0,style:{color:"#1890ff"},children:N(c)})},{title:"Quantity",dataIndex:"quantity",key:"quantity",width:120,render:(c,d)=>t.jsx(ze,{min:1,value:m[d.key]||1,onChange:f=>R(d.key,f||1),style:{width:"100%"}})},{title:"Total",key:"total",width:120,render:(c,d)=>{const f=m[d.key]||1,k=d.rate*f;return t.jsx(lt,{strong:!0,style:{color:"#1890ff"},children:N(k)})}}];return t.jsxs(or,{children:[t.jsx(bu,{level:4,children:"Stall Amenities"}),t.jsx(Ss,{type:"secondary",style:{marginBottom:24},children:"Review included amenities and select additional amenities for your exhibition stalls."}),t.jsx(ye,{title:`Selected Stalls: ${o.length}`,style:{marginBottom:24},children:o.length>0?t.jsxs(Ss,{children:["You've selected ",o.length," stall(s) with a total area of ",j," sq. meters."]}):t.jsx(Qe,{image:Qe.PRESENTED_IMAGE_SIMPLE,description:"No stalls selected"})}),t.jsx(ye,{title:t.jsxs(de,{children:[t.jsx(ht,{status:"success"}),"Included Amenities"]}),style:{marginBottom:24},children:o.length===0?t.jsx(et,{message:"Select stalls first",description:"Please select stalls to see what amenities are included.",type:"info",showIcon:!0}):x?t.jsx(qt,{dataSource:P.filter(c=>c.calculatedQuantity>0),columns:l,pagination:!1,size:"small",locale:{emptyText:t.jsx(Qe,{image:Qe.PRESENTED_IMAGE_SIMPLE,description:"Your stall area is too small to qualify for any basic amenities."})}}):t.jsx(Qe,{image:t.jsx(ns,{style:{fontSize:60,color:"#cccccc"}}),description:"No basic amenities have been configured for this exhibition."})}),t.jsx($e,{}),t.jsx(ye,{title:"Additional Amenities (Extra Charges)",children:y?t.jsxs("div",{children:[t.jsx(Q.Item,{label:"Select Additional Amenities",style:{marginBottom:24},children:t.jsx(Ne,{mode:"multiple",style:{width:"100%"},placeholder:"Select amenities",value:h,onChange:T,optionLabelProp:"label",children:((i==null?void 0:i.amenities)||[]).map(c=>t.jsxs(yu,{value:A(c),label:`${c.name} (${N(c.rate)})`,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsxs(de,{children:[t.jsx(lt,{strong:!0,children:c.name}),t.jsx(Ge,{color:"blue",children:c.type})]}),t.jsx(lt,{style:{color:"#1890ff"},children:N(c.rate)})]}),t.jsx("div",{children:t.jsx(lt,{type:"secondary",children:c.description})})]},A(c)))})}),I.length>0&&t.jsxs("div",{style:{marginTop:16},children:[t.jsx($e,{orientation:"left",children:"Selected Amenities"}),t.jsx(qt,{dataSource:I,columns:a,pagination:!1,size:"small"})]})]}):t.jsx(Qe,{image:t.jsx(ns,{style:{fontSize:60,color:"#cccccc"}}),description:"No additional amenities are available for this exhibition."})}),t.jsx(Q.Item,{name:"amenities",hidden:!0,children:t.jsx(je,{type:"hidden"})}),t.jsx(Q.Item,{name:"selectedStalls",hidden:!0,children:t.jsx(je,{type:"hidden"})})]})},{Title:fn,Paragraph:Es,Text:ke}=_e,Cs=r=>{if(!r)return 0;const e=r.shapeType||"rectangle";if(e==="rectangle")return r.width*r.height;if(e==="l-shape"&&r.lShape){const{rect1Width:n,rect1Height:i,rect2Width:s,rect2Height:o}=r.lShape;return n*i+s*o}return r.width*r.height},Is=({form:r,stallDetails:e=[],selectedStallId:n,selectedStallIds:i=[],selectedStalls:s=[],exhibition:o,onPrev:h,onFinish:p,loading:m=!1,formValues:g={}})=>{const[E,j]=u.useState([]),x=u.useMemo(()=>{const a=(r.getFieldValue("selectedStalls")||[]).map(d=>String(d));if(console.log("ReviewStep - Form has selectedStalls:",a),console.log("ReviewStep - Props selectedStallIds:",i),console.log("ReviewStep - Props selectedStalls:",s),a.length>0)return a;const c=[];if(n){const d=String(n);c.push(d)}return i&&i.length&&i.forEach(d=>{const f=String(d);c.includes(f)||c.push(f)}),s&&s.length&&s.forEach(d=>{const f=String(d);c.includes(f)||c.push(f)}),console.log("ReviewStep - Final consolidated stall IDs:",c),c},[r,n,i,s]);u.useEffect(()=>{if(console.log("ReviewStep - Processing stall details with IDs:",x),console.log("ReviewStep - Available stall details:",e),e&&e.length&&x.length){const l=e.filter(c=>x.includes(String(c.id)));console.log("ReviewStep - Matched stalls:",l.length);const a=l.map(c=>({key:c.id,id:c.id,number:c.number||c.stallNumber||`Stall ${c.id}`,hallName:c.hallName||`Hall ${c.hallId}`,size:c.dimensions.shapeType==="l-shape"?"L-Shape":`${c.dimensions.width}m × ${c.dimensions.height}m`,area:Cs(c.dimensions),rate:c.ratePerSqm,price:c.price||c.ratePerSqm*Cs(c.dimensions),type:c.typeName||c.type||"Standard"}));j(a)}},[e,x]);const y=u.useMemo(()=>{var S,M,$,V;const l=E.reduce((O,B)=>O+B.price,0),a=E.reduce((O,B)=>O+(B.area||0),0),c=((S=o==null?void 0:o.basicAmenities)==null?void 0:S.map(O=>{const B=Math.floor(a/O.perSqm)*O.quantity;return{...O,calculatedQuantity:B>0?B:0}}))||[],d=r.getFieldValue("amenities")||[];console.log("ReviewStep - Selected amenities with quantities:",d);let f=0;const k=d.map(O=>{var U;const B=O.id,H=O.quantity||1,q=(U=o==null?void 0:o.amenities)==null?void 0:U.find(J=>J.id===B||J._id===B);if(q){const J=(q.rate||0)*H;return f+=J,{name:q.name,rate:q.rate,type:q.type,description:q.description,quantity:H,total:J}}return null}).filter(Boolean);console.log("ReviewStep - Processed amenity items:",k);const w=(((M=o==null?void 0:o.publicDiscountConfig)==null?void 0:M.filter(O=>O.isActive))||[]).map(O=>{const B=O.type==="percentage"?l*(Math.min(Math.max(0,O.value),100)/100):Math.min(O.value,l);return{name:O.name,type:O.type,value:O.value,amount:B}}),b=w.reduce((O,B)=>O+B.amount,0),_=l-b,C=_,D=((V=($=o==null?void 0:o.taxConfig)==null?void 0:$.filter(O=>O.isActive))==null?void 0:V.map(O=>({name:O.name,rate:O.rate,amount:C*(O.rate/100)})))||[],z=D.reduce((O,B)=>O+B.amount,0);return{baseAmount:l,basicAmenities:c,totalStallArea:a,amenities:k,amenitiesTotal:f,discounts:w,totalDiscountAmount:b,amountAfterDiscount:_,subtotal:C,taxes:D,totalTaxAmount:z,total:C+z,stallCount:E.length}},[E,r,o]);u.useEffect(()=>{var a;const l=((a=o==null?void 0:o.publicDiscountConfig)==null?void 0:a.filter(c=>c.isActive))||[];if(l.length>0){const c=l[0];console.log("Setting discountId in form to:",c),r.setFieldsValue({discountId:{name:c.name,type:c.type,value:c.value}})}},[o,r]);const P=[{title:"Stall Number",dataIndex:"number",key:"number"},{title:"Hall",dataIndex:"hallName",key:"hallName"},{title:"Stall Type",dataIndex:"type",key:"type",render:(l,a)=>t.jsx(Ge,{color:"purple",children:l},`stall-type-${a.key}`)},{title:"Size",dataIndex:"size",key:"size"},{title:"Area",dataIndex:"area",key:"area",render:(l,a)=>t.jsxs("span",{children:[l," sqm"]},`stall-area-${a.key}`)},{title:"Rate",dataIndex:"rate",key:"rate",render:(l,a)=>t.jsxs("span",{children:["₹",l,"/sqm"]},`stall-rate-${a.key}`)},{title:"Price",dataIndex:"price",key:"price",render:(l,a)=>t.jsxs("span",{children:["₹",l.toLocaleString()]},`stall-price-${a.key}`)}],T=l=>`₹${l.toLocaleString("en-IN")}`,A=g.customerName||r.getFieldValue("customerName"),R=g.customerPhone||r.getFieldValue("customerPhone"),N=g.email||r.getFieldValue("email"),I=g.companyName||r.getFieldValue("companyName");return console.log("ReviewStep - Exhibitor Info:",{customerName:A,companyName:I,customerPhone:R,customerEmail:N,formValues:g,formFieldValues:{customerName:r.getFieldValue("customerName"),companyName:r.getFieldValue("companyName"),customerPhone:r.getFieldValue("customerPhone"),email:r.getFieldValue("email")}}),m?t.jsx(or,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"300px"},children:t.jsx(pt,{size:"large",tip:"Processing your booking..."})}):x.length===0?t.jsxs(or,{children:[t.jsx(et,{message:"No Stalls Selected",description:"Please go back and select at least one stall to book.",type:"warning",showIcon:!0}),t.jsx("div",{style:{marginTop:24,textAlign:"right"},children:t.jsx(K,{onClick:h,children:"Back to Stall Selection"})})]}):t.jsxs(or,{children:[t.jsx(Q.Item,{name:"discountId",hidden:!0,children:t.jsx(je,{})}),t.jsx(fn,{level:4,children:"Booking Summary"}),t.jsx(Es,{type:"secondary",style:{marginBottom:24},children:"Please review your booking details before submitting."}),t.jsx(ye,{title:"Exhibitor Information",style:{marginBottom:24},children:t.jsxs(Bt,{column:2,children:[t.jsx(Bt.Item,{label:"Name",children:A||"Not provided"}),t.jsx(Bt.Item,{label:"Company",children:I||"Not provided"}),t.jsx(Bt.Item,{label:"Phone",children:R||"Not provided"}),t.jsx(Bt.Item,{label:"Email",children:N||"Not provided"})]})}),t.jsxs(ye,{title:"Selected Stalls",className:"review-card",size:"small",children:[t.jsx(qt,{dataSource:E,columns:P,pagination:!1,size:"small",style:{marginBottom:16}}),t.jsxs(ke,{strong:!0,children:["Total Base Amount: ",T(y.baseAmount)]})]}),y.basicAmenities&&y.basicAmenities.length>0&&t.jsxs(ye,{title:t.jsxs(de,{children:[t.jsx(ht,{status:"success"}),"Included Basic Amenities"]}),style:{marginBottom:24},children:[t.jsxs(Es,{type:"secondary",style:{marginBottom:16},children:["The following amenities are included based on your total stall area of ",y.totalStallArea," sqm."]}),t.jsx(qt,{dataSource:y.basicAmenities.filter(l=>l.calculatedQuantity>0).map((l,a)=>({...l,key:`basic-${a}`})),columns:[{title:"Name",dataIndex:"name",key:"name",render:(l,a)=>t.jsxs(de,{children:[t.jsx(ke,{strong:!0,children:l}),t.jsx(Ge,{color:"blue",children:a.type})]},`name-${a.key}`)},{title:"Quantity",dataIndex:"calculatedQuantity",key:"calculatedQuantity",width:120,render:(l,a)=>t.jsxs(Ge,{color:"green",children:[l," ",l===1?"unit":"units"]},`quantity-${a.key}`)},{title:"Allocation",dataIndex:"perSqm",key:"perSqm",width:180,render:(l,a)=>t.jsxs(ke,{type:"secondary",children:[t.jsx(Yt,{style:{marginRight:5}}),"1 ",a.quantity>1?`set of ${a.quantity}`:"unit"," per ",l," sqm"]},`allocation-${a.key}`)},{title:"Status",key:"status",width:100,align:"right",render:(l,a)=>t.jsx(ke,{type:"success",children:"Included"},`status-${a.key}`)}],pagination:!1,size:"small",locale:{emptyText:t.jsx(et,{message:"No basic amenities",description:"Your stall area is too small to qualify for any basic amenities.",type:"info",showIcon:!0})}})]}),y.amenities&&y.amenities.length>0&&t.jsxs(ye,{title:"Selected Amenities",style:{marginBottom:24},children:[t.jsx(qt,{dataSource:y.amenities.map((l,a)=>({...l,key:a})),columns:[{title:"Name",dataIndex:"name",key:"name",render:(l,a)=>t.jsxs(de,{children:[t.jsx(ke,{strong:!0,children:l}),t.jsx(Ge,{color:"blue",children:a.type})]},`amenity-name-${a.key}`)},{title:"Description",dataIndex:"description",key:"description",render:(l,a)=>t.jsx(ke,{type:"secondary",style:{fontSize:"13px"},children:l||"No description provided"},`amenity-desc-${a.key}`)},{title:"Rate",dataIndex:"rate",key:"rate",width:110,align:"right",render:(l,a)=>t.jsx(ke,{strong:!0,style:{color:"#1890ff"},children:T(l)},`amenity-rate-${a.key}`)},{title:"Quantity",dataIndex:"quantity",key:"quantity",width:90,align:"center",render:(l,a)=>t.jsx(Ge,{color:"green",children:l},`amenity-qty-${a.key}`)},{title:"Total",dataIndex:"total",key:"total",width:110,align:"right",render:(l,a)=>t.jsx(ke,{strong:!0,style:{color:"#1890ff"},children:T(l)},`amenity-total-${a.key}`)}],pagination:!1,size:"small"}),t.jsx($e,{}),t.jsx("div",{style:{textAlign:"right"},children:t.jsxs(ke,{strong:!0,children:["Amenities Total: ",T(y.amenitiesTotal)]})})]}),t.jsxs(ye,{title:"Price Calculation",style:{marginBottom:24},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[t.jsx(ke,{children:"Base Amount:"}),t.jsx(ke,{children:T(y.baseAmount)})]}),y.discounts.length>0&&t.jsxs(t.Fragment,{children:[y.discounts.map((l,a)=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[t.jsxs(ke,{children:[l.name," (",l.type==="percentage"?`${l.value}%`:T(l.value),"):"]}),t.jsxs(ke,{type:"danger",children:["- ",T(l.amount)]})]},a)),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[t.jsx(ke,{children:"Amount after Discount:"}),t.jsx(ke,{children:T(y.amountAfterDiscount)})]})]}),y.amenitiesTotal>0&&t.jsxs("div",{style:{background:"#f9f9f9",padding:"8px",borderRadius:"4px",marginBottom:"8px",border:"1px dashed #d9d9d9"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[t.jsx(ke,{type:"secondary",children:"Selected Amenities (for information only):"}),t.jsx(ke,{type:"secondary",children:T(y.amenitiesTotal)})]}),t.jsx(ke,{type:"secondary",style:{fontSize:"12px",fontStyle:"italic"},children:"Note: Amenities are not included in the total calculation"})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[t.jsx(ke,{strong:!0,children:"Subtotal:"}),t.jsx(ke,{strong:!0,children:T(y.subtotal)})]}),y.taxes.length>0&&t.jsx(t.Fragment,{children:y.taxes.map((l,a)=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[t.jsxs(ke,{children:[l.name," (",l.rate,"%):"]}),t.jsx(ke,{children:T(l.amount)})]},a))}),t.jsx($e,{}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[t.jsx(fn,{level:5,children:"Total:"}),t.jsx(fn,{level:5,children:T(y.total)})]})]})]})},wu=r=>{if(!r)return 0;const e=r.shapeType||"rectangle";if(e==="rectangle")return r.width*r.height;if(e==="l-shape"&&r.lShape){const{rect1Width:n,rect1Height:i,rect2Width:s,rect2Height:o}=r.lShape;return n*i+s*o}return r.width*r.height},{confirm:Ag}=ot,ju=({visible:r,stallDetails:e,selectedStallId:n,selectedStallIds:i,loading:s,exhibition:o,onCancel:h,onSubmit:p})=>{const[m]=Q.useForm(),[g,E]=u.useState(0),[j]=u.useState(3),[x,y]=u.useState({}),[P,T]=u.useState(!1),[A,R]=u.useState(!1),[N,I]=u.useState(!1),l=De(D=>D.exhibitorAuth.exhibitor);u.useEffect(()=>{if(r){E(0),T(!1),y({}),m.resetFields();const D=i.map(M=>String(M));n&&D.push(String(n));const z=[...new Set(D)],S={selectedStalls:z,exhibitionId:o==null?void 0:o._id};l&&(S.customerName=l.contactPerson||"",S.companyName=l.companyName||"",S.email=l.email||"",S.customerPhone=l.phone||""),m.setFieldsValue(S),y(S),console.log("Booking form initialized with stalls:",z),console.log("Exhibitor profile data:",l)}},[r,m,n,i,o,l]);const a=()=>{T(!0)},c=()=>{P?I(!0):h()},d=()=>{I(!1),h()},f=()=>{I(!1)},k=()=>{R(!0),m.validateFields().then(D=>{const z={...x,...D},S={customerName:m.getFieldValue("customerName"),companyName:m.getFieldValue("companyName"),email:m.getFieldValue("email"),customerPhone:m.getFieldValue("customerPhone")},M={...z,...S};y(M),console.log("Step completed, saving form values:",M),console.log("Selected stalls are:",M.selectedStalls||[]),console.log("Exhibitor info:",S),E(g+1),R(!1)}).catch(D=>{R(!1),console.error("Form validation failed:",D),fe.error("Please complete all required fields")})},v=()=>{E(g-1)},w=()=>{m.validateFields().then(D=>{const z={customerName:m.getFieldValue("customerName"),companyName:m.getFieldValue("companyName"),email:m.getFieldValue("email"),customerPhone:m.getFieldValue("customerPhone")},S=m.getFieldValue("selectedStalls")||[],M=m.getFieldValue("amenities")||[],V=e.filter(q=>S.includes(String(q.id))).reduce((q,U)=>q+wu(U.dimensions),0);let O=[];o!=null&&o.basicAmenities&&o.basicAmenities.length>0&&(O=o.basicAmenities.filter(q=>Math.floor(V/q.perSqm)*q.quantity>0).map(q=>{const U=Math.floor(V/q.perSqm)*q.quantity;return{name:q.name,type:q.type,perSqm:q.perSqm,quantity:q.quantity,calculatedQuantity:U,description:q.description||""}}));let B=[];M&&M.length>0&&(B=M.map(q=>{var J;const U=(J=o==null?void 0:o.amenities)==null?void 0:J.find(W=>String(W._id||W.id)===String(q.id));return U?{id:String(U._id||U.id),name:U.name,type:U.type,rate:U.rate,quantity:q.quantity||1,description:U.description||""}:null}).filter(Boolean));const H={...x,...D,...z,basicAmenities:O,extraAmenities:B};console.log("Submitting booking with values:",H),console.log("Basic amenities:",O),console.log("Extra amenities:",B),p(H)}).catch(D=>{console.error("Form validation failed:",D),fe.error("Please complete all required fields")})},b=["Stall Details","Amenities","Review"],_=[{title:"Stall Details",icon:t.jsx(ol,{}),content:t.jsx(js,{form:m,stallDetails:e,selectedStallId:n,selectedStallIds:i,exhibition:o})},{title:"Amenities",icon:t.jsx($i,{}),content:t.jsx(ks,{form:m,stallDetails:e,selectedStallIds:m.getFieldValue("selectedStalls")||[],exhibition:o,formValues:x})},{title:"Review",icon:t.jsx(dt,{}),content:t.jsx(Is,{form:m,formValues:x,loading:s,exhibition:o,selectedStalls:m.getFieldValue("selectedStalls")||[],selectedStallIds:m.getFieldValue("selectedStalls")||[],stallDetails:e})}];u.useEffect(()=>{const D=m.getFieldValue("selectedStalls");console.log(`Step ${g} - Form has selectedStalls:`,D)},[g,m]);const C=D=>{const z=m.getFieldValue("selectedStalls")||[],S={customerName:m.getFieldValue("customerName"),companyName:m.getFieldValue("companyName"),email:m.getFieldValue("email"),customerPhone:m.getFieldValue("customerPhone")},M={...x,...S};switch(console.log(`Rendering step ${D} with:`,{selectedStalls:z,exhibitorInfo:S}),D){case 0:return t.jsx(js,{form:m,stallDetails:e,selectedStallId:n,selectedStallIds:i,exhibition:o});case 1:return t.jsx(ks,{form:m,stallDetails:e,selectedStallIds:z,exhibition:o,formValues:M});case 2:return t.jsx(Is,{form:m,formValues:M,loading:s,exhibition:o,selectedStalls:z,selectedStallIds:z,stallDetails:e,onPrev:v,onFinish:w});default:return null}};return t.jsxs(t.Fragment,{children:[t.jsx(pu,{title:`Book Exhibition Stall - ${b[g]}`,open:r,onCancel:c,footer:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"12px 24px"},children:[g>0&&t.jsx(pn,{onClick:v,disabled:A||s,size:"large",children:"Back"}),t.jsx("div",{children:g<j-1?t.jsx(pn,{type:"primary",onClick:k,loading:A,disabled:s,size:"large",children:"Next"}):t.jsx(pn,{type:"primary",onClick:w,loading:s,disabled:A,size:"large",children:"Submit Booking"})})]}),width:900,destroyOnClose:!0,maskClosable:!1,className:"booking-modal",children:t.jsxs(pt,{spinning:s||A,tip:s?"Processing your booking...":"Validating...",children:[t.jsx(fu,{children:_.map((D,z)=>t.jsxs("div",{className:`step-item ${g===z?"active":""} ${g>z?"completed":""}`,onClick:()=>g>z?E(z):null,style:{cursor:g>z?"pointer":"default"},children:[t.jsx("span",{className:"step-icon",children:g>z?t.jsx(oo,{}):z+1}),D.title]},z))}),t.jsx(Q,{form:m,layout:"vertical",preserve:!0,onFieldsChange:a,children:C(g)},`form-step-${g}`)]})}),t.jsx(ot,{title:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(al,{style:{color:"#faad14",fontSize:"18px"}}),t.jsx("span",{children:"Discard Changes?"})]}),open:N,onCancel:f,footer:t.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"8px",padding:"8px 0"},children:[t.jsx(K,{onClick:f,size:"large",style:{minWidth:"100px"},children:"Keep Editing"}),t.jsx(K,{type:"primary",danger:!0,onClick:d,size:"large",style:{minWidth:"100px"},children:"Discard Changes"})]}),width:480,centered:!0,maskClosable:!1,children:t.jsxs("div",{style:{padding:"16px 0"},children:[t.jsx("p",{style:{margin:0,fontSize:"14px",lineHeight:"1.6",color:"#666"},children:"You have unsaved changes in your booking form. If you close now, all your progress will be lost."}),t.jsx("p",{style:{margin:"12px 0 0 0",fontSize:"14px",lineHeight:"1.6",color:"#666"},children:"Are you sure you want to discard your changes and close the form?"})]})})]})},ki=qe.create({baseURL:nt}),Et=qe.create({baseURL:nt});ki.interceptors.request.use(r=>{const e=localStorage.getItem("exhibitor_token");return e&&(r.headers.Authorization=`Bearer ${e}`),r},r=>Promise.reject(r));const It=qe.create({baseURL:nt});It.interceptors.request.use(r=>{const e=localStorage.getItem("token");return e&&(r.headers.Authorization=`Bearer ${e}`),r},r=>Promise.reject(r));const Ze={sendRegistrationOTP:async r=>await Et.post("/exhibitors/send-otp",{email:r}),sendWhatsAppOTP:async r=>await Et.post("/exhibitors/send-whatsapp-otp",r),verifyOTP:async r=>await Et.post("/exhibitors/verify-otp",r),register:async r=>await Et.post("/exhibitors/register",r),login:async r=>await Et.post("/exhibitors/login",r),requestPasswordReset:async r=>await Et.post("/exhibitors/forgot-password",r),resetPassword:async r=>await Et.post("/exhibitors/reset-password",r),getProfile:async()=>await ki.get("/exhibitors/profile"),updateProfile:async r=>await ki.put("/exhibitors/profile",r),getExhibitors:async r=>{const e=new URLSearchParams;r!=null&&r.page&&e.append("page",r.page.toString()),r!=null&&r.limit&&e.append("limit",r.limit.toString()),r!=null&&r.status&&e.append("status",r.status),(r==null?void 0:r.isActive)!==void 0&&e.append("isActive",r.isActive.toString()),r!=null&&r.search&&e.append("search",r.search),r!=null&&r.sortBy&&e.append("sortBy",r.sortBy),r!=null&&r.sortOrder&&e.append("sortOrder",r.sortOrder);const n=`/exhibitors/admin/exhibitors${e.toString()?`?${e.toString()}`:""}`;return await It.get(n)},getExhibitor:async r=>await It.get(`/exhibitors/admin/exhibitors/${r}`),createExhibitor:async r=>await It.post("/exhibitors/admin/exhibitors",r),updateStatus:async(r,e,n)=>await It.put(`/exhibitors/admin/exhibitors/${r}/status`,{status:e,rejectionReason:n}),updateExhibitor:async(r,e)=>await It.put(`/exhibitors/admin/exhibitors/${r}`,e),deleteExhibitor:async r=>await It.delete(`/exhibitors/admin/exhibitors/${r}`)},{Step:gn}=pr,{Text:Su}=_e,ku=({loginModalVisible:r,registerModalVisible:e,setRegisterModalVisible:n,setExhibitorCredentials:i,onForgotPassword:s})=>{const o=ft(),h=De(W=>W.exhibitorAuth),[p,m]=u.useState(!1),[g,E]=u.useState(null),[j]=Q.useForm(),[x]=Q.useForm(),[y]=Q.useForm(),[P,T]=u.useState(0),[A,R]=u.useState("email"),[N,I]=u.useState(""),[l,a]=u.useState(""),[c,d]=u.useState(!1),[f,k]=u.useState(!1),[v,w]=u.useState(0),[b,_]=u.useState({companyName:"",contactPerson:"",email:"",phone:""}),C=u.useRef(null),[D,z]=u.useState("email"),S=async W=>{var le,ee,re,ie,ce,Re,L,Z,ae;try{E(null),m(!0);const ge={password:W.password};D==="email"?ge.email=W.loginIdentifier:ge.phone=W.loginIdentifier;const ve=await Ze.login(ge),{exhibitor:Te,token:gt}=ve.data;if(!Te||!gt)throw new Error("Invalid response from server");i({exhibitor:Te,token:gt}),o(br()),j.resetFields(),fe.success("Login successful!")}catch(ge){if(((le=ge.response)==null?void 0:le.status)===403){const ve=(re=(ee=ge.response)==null?void 0:ee.data)==null?void 0:re.status;if(ve==="pending")E("Your account is pending approval. You will be able to log in after admin approval.");else if(ve==="rejected"){const Te=(ce=(ie=ge.response)==null?void 0:ie.data)==null?void 0:ce.rejectionReason;E(Te?`Your registration has been rejected. Reason: ${Te}`:"Your registration has been rejected. Please contact the administrator for more details.")}else E(((L=(Re=ge.response)==null?void 0:Re.data)==null?void 0:L.message)||"Access denied. Please contact administrator.")}else E(((ae=(Z=ge.response)==null?void 0:Z.data)==null?void 0:ae.message)||"Login failed. Please try again.")}finally{m(!1)}},M=async()=>{var W,le;try{const ee=await x.validateFields(["email","phone","companyName","contactPerson"]);if(m(!0),E(null),_({companyName:ee.companyName,contactPerson:ee.contactPerson,email:ee.email,phone:ee.phone}),A==="email")I(ee.email),await Ze.sendRegistrationOTP(ee.email),fe.success("OTP sent to your email address");else{a(ee.phone);const re={phone:ee.phone,companyName:ee.companyName};await Ze.sendWhatsAppOTP(re),fe.success("OTP sent to your WhatsApp number")}d(!0),w(60),$(),T(1)}catch(ee){if(ee.name==="ValidationError")return;const re=((le=(W=ee.response)==null?void 0:W.data)==null?void 0:le.message)||"Failed to send OTP. Please try again.";E(re),fe.error(re)}finally{m(!1)}},$=()=>{C.current&&clearInterval(C.current),C.current=setInterval(()=>{w(W=>W<=1?(C.current&&clearInterval(C.current),0):W-1)},1e3)},V=async()=>{var W,le;try{if(m(!0),E(null),A==="email")await Ze.sendRegistrationOTP(N),fe.success("New OTP sent to your email address");else{const ee={phone:l,companyName:b.companyName};await Ze.sendWhatsAppOTP(ee),fe.success("New OTP sent to your WhatsApp number")}w(60),$()}catch(ee){const re=((le=(W=ee.response)==null?void 0:W.data)==null?void 0:le.message)||"Failed to resend OTP. Please try again.";E(re),fe.error(re)}finally{m(!1)}},O=async W=>{var le,ee;try{m(!0),E(null);const re={otp:W.otp,verificationType:A};A==="email"?re.email=N:re.phone=l,await Ze.verifyOTP(re),k(!0),fe.success(`${A==="email"?"Email":"Phone number"} verified successfully`),C.current&&clearInterval(C.current),T(2)}catch(re){const ie=((ee=(le=re.response)==null?void 0:le.data)==null?void 0:ee.message)||"Invalid OTP. Please try again.";E(ie),fe.error(ie)}finally{m(!1)}},B=()=>{d(!1),k(!1),I(""),a(""),R("email"),w(0),T(0),_({companyName:"",contactPerson:"",email:"",phone:""}),C.current&&clearInterval(C.current),y.resetFields()},H=async W=>{var le,ee,re;try{if(E(null),m(!0),!f){E(`${A==="email"?"Email":"Phone number"} verification required`);return}const{confirmPassword:ie,...ce}=W,Re={...ce,email:b.email,phone:b.phone,companyName:b.companyName,contactPerson:b.contactPerson};console.log("Sending registration data:",Re);const L=await Ze.register(Re);fe.success("Registration successful! You can log in and book a stall only after admin approval."),n(!1),x.resetFields(),B(),setTimeout(()=>{o(Nt(void 0))},500)}catch(ie){console.error("Registration error:",ie),console.error("Response data:",(le=ie.response)==null?void 0:le.data);const ce=((re=(ee=ie.response)==null?void 0:ee.data)==null?void 0:re.message)||"Registration failed. Please try again.";E(ce),fe.error(ce)}finally{m(!1)}};Ae.useEffect(()=>()=>{C.current&&clearInterval(C.current)},[]);const q=()=>{n(!1),E(null),x.resetFields(),B()},U=()=>{o(br()),n(!0),j.resetFields()},J=()=>{n(!1),o(Nt(void 0)),x.resetFields()};return t.jsxs(t.Fragment,{children:[t.jsxs(ot,{title:"Exhibitor Login",open:r,onCancel:()=>{o(br()),E(null),j.resetFields()},footer:null,width:400,children:[h.loginContext==="stall-booking"&&t.jsx(et,{message:"Login Required for Stall Booking",description:"Please log in to your exhibitor account to select and book stalls for this exhibition.",type:"info",showIcon:!0,style:{marginBottom:16}}),g&&t.jsx(et,{message:g,type:"error",showIcon:!0,style:{marginBottom:16}}),t.jsxs(Q,{form:j,name:"exhibitor_login_modal",onFinish:S,layout:"vertical",children:[t.jsx(Q.Item,{label:"Login Method",children:t.jsxs($t.Group,{value:D,onChange:W=>z(W.target.value),disabled:p,children:[t.jsx($t,{value:"email",children:t.jsxs(de,{children:[t.jsx(_t,{}),"Email"]})}),t.jsx($t,{value:"phone",children:t.jsxs(de,{children:[t.jsx(nr,{}),"Phone"]})})]})}),t.jsx(Q.Item,{name:"loginIdentifier",rules:[{required:!0,message:`Please input your ${D}!`},...D==="email"?[{type:"email",message:"Please enter a valid email address!"}]:[]],children:t.jsx(je,{prefix:D==="email"?t.jsx(_t,{}):t.jsx(nr,{}),placeholder:D==="email"?"Email":"Phone Number",size:"large",disabled:p})}),t.jsx(Q.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:t.jsx(je.Password,{prefix:t.jsx(Ot,{}),placeholder:"Password",size:"large",disabled:p})}),t.jsxs(Q.Item,{children:[t.jsx("div",{style:{textAlign:"right",marginBottom:10},children:t.jsx(K,{type:"link",onClick:()=>{o(br()),s()},style:{padding:0},children:"Forgot password?"})}),t.jsx(K,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:p,children:"Login"})]})]}),t.jsx($e,{children:t.jsx("span",{style:{fontSize:"14px",color:"#888"},children:"Don't have an account?"})}),t.jsx(K,{type:"default",block:!0,onClick:U,children:"Register as Exhibitor"})]}),t.jsxs(ot,{title:"Exhibitor Registration",open:e,onCancel:q,footer:null,width:500,children:[t.jsxs(pr,{current:P,style:{marginBottom:24},children:[t.jsx(gn,{title:"Basic Info"}),t.jsx(gn,{title:`Verify ${A==="email"?"Email":"WhatsApp"}`}),t.jsx(gn,{title:"Complete"})]}),g&&t.jsx(et,{message:g,type:"error",showIcon:!0,style:{marginBottom:16}}),P===0&&t.jsxs(t.Fragment,{children:[t.jsx(et,{message:"Verification Required",description:"We'll send a one-time password (OTP) to verify your contact information before completing registration.",type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsxs(Q,{form:x,name:"exhibitor_register_step1",layout:"vertical",children:[t.jsx(Q.Item,{name:"companyName",rules:[{required:!0,message:"Please input your company name!"}],children:t.jsx(je,{prefix:t.jsx(ho,{}),placeholder:"Company Name",size:"large",disabled:p})}),t.jsx(Q.Item,{name:"contactPerson",rules:[{required:!0,message:"Please input contact person name!"}],children:t.jsx(je,{prefix:t.jsx(Be,{}),placeholder:"Contact Person",size:"large",disabled:p})}),t.jsx(Q.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Please enter a valid email address!"}],children:t.jsx(je,{prefix:t.jsx(_t,{}),placeholder:"Email",size:"large",disabled:p})}),t.jsx(Q.Item,{name:"phone",rules:[{required:!0,message:"Please input your phone number!"}],children:t.jsx(je,{prefix:t.jsx(nr,{}),placeholder:"Phone Number",size:"large",disabled:p})}),t.jsx(Q.Item,{label:"Verification Method",children:t.jsx($t.Group,{value:A,onChange:W=>R(W.target.value),disabled:p,children:t.jsxs(de,{direction:"vertical",children:[t.jsx($t,{value:"email",children:t.jsxs(de,{children:[t.jsx(_t,{}),"Verify via Email"]})}),t.jsx($t,{value:"whatsapp",children:t.jsxs(de,{children:[t.jsx(ll,{}),"Verify via WhatsApp"]})})]})})}),t.jsx(Q.Item,{children:t.jsx(K,{type:"primary",onClick:M,block:!0,size:"large",loading:p,children:"Continue & Send OTP"})})]}),t.jsx($e,{children:t.jsx("span",{style:{fontSize:"14px",color:"#888"},children:"Already have an account?"})}),t.jsx(K,{type:"default",block:!0,onClick:J,children:"Login"})]}),P===1&&t.jsxs(t.Fragment,{children:[t.jsx(et,{message:`${A==="email"?"Email":"WhatsApp"} Verification`,description:A==="email"?`We've sent a verification code to ${N}. Please enter it below to continue.`:`We've sent a verification code to your WhatsApp number ${l}. Please enter it below to continue.`,type:"info",showIcon:!0,style:{marginBottom:16}}),t.jsxs(Q,{form:y,name:"verify_otp",onFinish:O,layout:"vertical",children:[t.jsx(Q.Item,{name:"otp",rules:[{required:!0,message:"Please enter the verification code!"}],children:t.jsx(je,{size:"large",placeholder:"Enter OTP",maxLength:6,style:{textAlign:"center",letterSpacing:"8px",fontSize:"20px"},disabled:p})}),t.jsx(Q.Item,{children:t.jsx(K,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:p,children:"Verify & Continue"})})]}),t.jsxs(Ce,{justify:"space-between",align:"middle",style:{marginTop:16},children:[t.jsx(oe,{children:t.jsx(K,{type:"link",disabled:v>0||p,onClick:V,children:"Resend Code"})}),t.jsx(oe,{children:v>0&&t.jsxs(Su,{type:"secondary",children:["Resend in ",v,"s"]})})]}),t.jsx($e,{}),t.jsx(K,{type:"default",block:!0,onClick:()=>T(0),children:"Back"})]}),P===2&&t.jsxs(t.Fragment,{children:[t.jsx(et,{message:"Email Verified Successfully",description:"Please complete your registration by providing the remaining details.",type:"success",showIcon:!0,style:{marginBottom:16}}),t.jsxs(Q,{form:x,name:"exhibitor_register_step2",onFinish:H,layout:"vertical",children:[t.jsx(Q.Item,{name:"phone",rules:[{required:!0,message:"Please input your phone number!"}],children:t.jsx(je,{prefix:t.jsx(nr,{}),placeholder:"Phone Number",size:"large",disabled:p})}),t.jsx(Q.Item,{name:"address",rules:[{required:!0,message:"Please input your address!"}],children:t.jsx(je.TextArea,{placeholder:"Address",rows:3,disabled:p})}),t.jsx(Q.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"Password must be at least 6 characters!"}],children:t.jsx(je.Password,{prefix:t.jsx(Ot,{}),placeholder:"Password",size:"large",disabled:p})}),t.jsx(Q.Item,{name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:"Please confirm your password!"},({getFieldValue:W})=>({validator(le,ee){return!ee||W("password")===ee?Promise.resolve():Promise.reject(new Error("The two passwords do not match!"))}})],children:t.jsx(je.Password,{prefix:t.jsx(Ot,{}),placeholder:"Confirm Password",size:"large",disabled:p})}),t.jsx(Q.Item,{children:t.jsx(K,{type:"primary",htmlType:"submit",block:!0,size:"large",loading:p,children:"Complete Registration"})})]})]})]})]})},{Step:Pg}=pr,{Text:Ng}=_e,Eu=({visible:r})=>{const e=ft(),[n,i]=u.useState(!1),[s,o]=u.useState(null),[h,p]=u.useState(0),[m,g]=u.useState(""),[E,j]=u.useState(!1),[x,y]=u.useState(0),P=Q.useForm()[0],T=Q.useForm()[0],A=Q.useForm()[0],R=u.useRef(null),N=async v=>{var w,b;try{i(!0),o(null);const _=await Ze.requestPasswordReset(v);g(v.email),j(!0),p(1),fe.success("Password reset code sent to your email"),y(60),I()}catch(_){const C=((b=(w=_.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to send password reset code. Please try again.";o(C)}finally{i(!1)}},I=()=>{R.current&&clearInterval(R.current),R.current=setInterval(()=>{y(v=>v<=1?(R.current&&clearInterval(R.current),0):v-1)},1e3)},l=async()=>{var v,w;try{i(!0),o(null),await Ze.requestPasswordReset({email:m}),fe.success("New password reset code sent to your email"),y(60),I()}catch(b){const _=((w=(v=b.response)==null?void 0:v.data)==null?void 0:w.message)||"Failed to resend password reset code. Please try again.";o(_)}finally{i(!1)}},a=async v=>{var w,b;try{i(!0),o(null),p(2),R.current&&clearInterval(R.current)}catch(_){const C=((b=(w=_.response)==null?void 0:w.data)==null?void 0:b.message)||"Invalid code. Please try again.";o(C)}finally{i(!1)}},c=async v=>{var w,b;try{i(!0),o(null);const _=T.getFieldValue("otp"),C={email:m,otp:_,newPassword:v.newPassword};await Ze.resetPassword(C),fe.success("Password reset successful. You can now log in with your new password."),d(),e(dn()),e(Nt())}catch(_){const C=((b=(w=_.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to reset password. Please try again.";o(C)}finally{i(!1)}},d=()=>{p(0),g(""),j(!1),y(0),R.current&&clearInterval(R.current),P.resetFields(),T.resetFields(),A.resetFields()},f=()=>{d(),e(dn())},k=()=>{d(),e(dn()),e(Nt())};return Ae.useEffect(()=>()=>{R.current&&clearInterval(R.current)},[]),t.jsxs(ot,{title:"Forgot Password",open:r,onCancel:f,footer:null,width:400,children:[s&&t.jsx(et,{message:s,type:"error",style:{marginBottom:16}}),t.jsx(pr,{current:h,size:"small",style:{marginBottom:20},items:[{title:"Email"},{title:"Verify"},{title:"Reset"}]}),h===0&&t.jsxs(Q,{form:P,onFinish:N,layout:"vertical",children:[t.jsx(Q.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter your email"},{type:"email",message:"Please enter a valid email"}],children:t.jsx(je,{prefix:t.jsx(_t,{}),placeholder:"Email"})}),t.jsx(Q.Item,{children:t.jsx(K,{type:"primary",htmlType:"submit",block:!0,loading:n,children:"Send Reset Code"})}),t.jsx($e,{style:{margin:"12px 0"},children:t.jsx("span",{style:{fontSize:"12px",color:"#8c8c8c"},children:"Remember your password?"})}),t.jsx(K,{type:"link",onClick:k,block:!0,children:"Back to Login"})]}),h===1&&t.jsxs(Q,{form:T,onFinish:a,layout:"vertical",children:[t.jsxs("p",{children:["We've sent a verification code to ",t.jsx("strong",{children:m}),". Please check your email and enter the code below."]}),t.jsx(Q.Item,{name:"otp",rules:[{required:!0,message:"Please enter the verification code"},{pattern:/^\d{6}$/,message:"Please enter a valid 6-digit code"}],children:t.jsx(je,{placeholder:"Enter 6-digit code",maxLength:6,style:{letterSpacing:"0.5em",textAlign:"center",fontWeight:"bold"}})}),t.jsx(Q.Item,{children:t.jsx(K,{type:"primary",htmlType:"submit",block:!0,loading:n,children:"Verify Code"})}),t.jsx("div",{style:{textAlign:"center",marginTop:8},children:x>0?t.jsxs(_e.Text,{type:"secondary",children:["Resend code in ",x,"s"]}):t.jsx(K,{type:"link",onClick:l,disabled:n,children:"Resend Code"})}),t.jsx($e,{style:{margin:"12px 0"},children:t.jsx("span",{style:{fontSize:"12px",color:"#8c8c8c"},children:"Back to beginning"})}),t.jsx(K,{type:"link",onClick:()=>{p(0),R.current&&(clearInterval(R.current),y(0))},block:!0,children:"Change Email"})]}),h===2&&t.jsxs(Q,{form:A,onFinish:c,layout:"vertical",children:[t.jsx(Q.Item,{name:"newPassword",label:"New Password",rules:[{required:!0,message:"Please enter your new password"},{min:6,message:"Password must be at least 6 characters"}],hasFeedback:!0,children:t.jsx(je.Password,{prefix:t.jsx(Ot,{}),placeholder:"New Password"})}),t.jsx(Q.Item,{name:"confirmPassword",label:"Confirm Password",dependencies:["newPassword"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password"},({getFieldValue:v})=>({validator(w,b){return!b||v("newPassword")===b?Promise.resolve():Promise.reject(new Error("The two passwords do not match"))}})],children:t.jsx(je.Password,{prefix:t.jsx(Ot,{}),placeholder:"Confirm Password"})}),t.jsx(Q.Item,{children:t.jsx(K,{type:"primary",htmlType:"submit",block:!0,loading:n,children:"Reset Password"})})]})]})},{Header:Cu}=Se,Iu=F(Cu)`
  background: #fff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  padding: 0 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: fixed;
  width: 100%;
  z-index: 1000;
  
  @media (max-width: 768px) {
    padding: 0 1rem;
  }
`,_u=F.div`
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  
  @media (max-width: 768px) {
    justify-content: space-between;
  }
`,Ru=F.div`
  display: flex;
  align-items: center;
  justify-content: center;
  
  @media (max-width: 768px) {
    position: static;
    transform: none;
    justify-content: flex-start;
  }
`,Tu=F.div`
  border-radius: 8px;
  padding: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  
  @media (max-width: 768px) {
    padding: 8px;
  }
`,Au=F.img`
  height: auto;
  width: 100%;
  max-width: 140px;
  max-height: auto;
  object-fit: contain;
  
  @media (max-width: 768px) {
    max-width: 120px;
  }
`,_s=F(Wr)`
  background-color: #1890ff;
  cursor: pointer;
  transition: all 0.3s;
  border: 2px solid transparent;
  
  &:hover {
    background-color: #40a9ff;
    border-color: #e6f7ff;
    transform: scale(1.05);
    box-shadow: 0 0 10px rgba(24, 144, 255, 0.3);
  }
`,Rs=F(hr)`
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  padding: 8px 0;
  
  .ant-dropdown-menu-item {
    padding: 10px 16px;
    transition: all 0.2s;
    
    &:hover {
      background-color: #fafafa;
    }
  }
`,Pu=F(hr)`
  border: none;
  display: flex;
  justify-content: center;
  font-size: 15px;
  
  @media (max-width: 768px) {
    display: none !important;
  }
`,Nu=F(K)`
  display: none;
  font-size: 18px;
  background: transparent;
  border: none;
  padding: 8px;
  transition: all 0.3s ease;
  
  @media (max-width: 768px) {
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 5;
  }
  
  &:hover {
    transform: rotate(90deg);
    color: #4158D0;
  }
  
  &:active {
    transform: scale(0.9) rotate(90deg);
  }
`,zu=F.div`
  .ant-drawer-header {
    padding: 16px 24px;
  }
  
  .ant-drawer-title {
    font-size: 16px;
    font-weight: 600;
  }
  
  .ant-drawer-body {
    padding: 24px 16px;
  }
  
  .ant-drawer-content-wrapper {
    max-width: 80%;
  }
`,$u=F(it)`
  display: block;
  padding: 16px 8px;
  margin-bottom: 8px;
  color: #333;
  font-size: 16px;
  border-bottom: 1px solid #f0f0f0;
  
  &:hover {
    color: #1890ff;
  }
`,wr=F(K)`
  width: 100%;
  margin-bottom: 12px;
  height: auto;
  padding: 12px 16px;
  font-size: 16px;
  display: flex;
  align-items: center;
  justify-content: center;
  
  svg {
    margin-right: 10px;
    font-size: 18px;
  }
`,Du=F.div`
  display: flex;
  align-items: center;
  
  @media (max-width: 768px) {
    display: none;
  }
`,Mu=F.span`
  margin-right: 8px;
  display: none;
  
  @media (min-width: 768px) {
    display: inline;
  }
`,tt=()=>{var f;const r=Ke(),e=ft(),[n,i]=u.useState(!1),[s,o]=u.useState(!1),[h,p]=u.useState(!1),[m,g]=u.useState("/logo.png"),[E,j]=u.useState("Exhibition Manager"),x=De(k=>k.exhibitorAuth),{exhibitor:y,isAuthenticated:P,showLoginModal:T,showForgotPasswordModal:A}=x;u.useEffect(()=>{const k=localStorage.getItem("cachedLogoUrl"),v=localStorage.getItem("logoTimestamp"),w=new Date().getTime();if(k&&v&&w-parseInt(v)<36e5)g(k);else{const b=`${G.defaults.baseURL}/public/logo`;g(b),localStorage.setItem("cachedLogoUrl",b),localStorage.setItem("logoTimestamp",w.toString());const _=new Image;_.src=b}fetch(`${G.defaults.baseURL}/public/site-info`).then(b=>b.json()).then(b=>{b.siteName&&j(b.siteName)}).catch(b=>{console.error("Error fetching site info:",b)})},[]),u.useEffect(()=>(fe.config({top:84,duration:3,maxCount:1}),()=>{fe.destroy()}),[]);const R=()=>{e($o()),fe.success("Successfully logged out"),r("/"),i(!1),o(!1)},N=()=>{e(Nt(void 0)),i(!1),o(!1)},I=()=>{p(!0),i(!1),o(!1)},l=()=>{e(fd())},a=[{key:"exhibitions",label:"Exhibitions",path:"/exhibitions"},{key:"about",label:"About",path:"/about"},{key:"contact",label:"Contact",path:"/contact"}],c=t.jsx(Rs,{items:[{key:"exhibitor-login",icon:t.jsx(is,{}),label:t.jsx("a",{onClick:N,children:"Exhibitor Login"})},{key:"exhibitor-register",icon:t.jsx(hi,{}),label:t.jsx("a",{onClick:I,children:"Register as Exhibitor"})}]}),d=t.jsx(Rs,{items:[{key:"exhibitor-dashboard",icon:t.jsx(lr,{}),label:t.jsx(it,{to:"/exhibitor/dashboard",children:"Dashboard"})},{key:"exhibitor-profile",icon:t.jsx(Be,{}),label:t.jsx(it,{to:"/exhibitor/profile",children:"My Profile"})},{key:"exhibitor-bookings",icon:t.jsx(Oe,{}),label:t.jsx(it,{to:"/exhibitor/bookings",children:"My Bookings"})},{key:"divider",type:"divider"},{key:"exhibitor-logout",icon:t.jsx(Or,{}),label:t.jsx("a",{onClick:R,children:"Logout"})}]});return t.jsxs(t.Fragment,{children:[t.jsx(Iu,{children:t.jsxs(_u,{children:[t.jsx(Ru,{children:t.jsx(it,{to:"/",style:{display:"flex",alignItems:"center",textDecoration:"none"},children:t.jsx(Tu,{children:t.jsx(Au,{src:m,alt:"Logo",onError:()=>g("/logo.png")})})})}),t.jsx(Pu,{mode:"horizontal",selectedKeys:[],style:{flex:1,display:"flex",justifyContent:"center"},items:a.map(k=>({key:k.key,label:t.jsx(it,{to:k.path,children:k.label})}))}),t.jsx(Du,{children:t.jsx(Qr,{overlay:x.isAuthenticated?d:c,trigger:["click"],placement:"bottomRight",open:n,onOpenChange:i,overlayStyle:{minWidth:"150px",marginTop:"10px"},children:x.isAuthenticated?t.jsxs(de,{style:{cursor:"pointer"},children:[t.jsx(Mu,{children:((f=x.exhibitor)==null?void 0:f.companyName)||"Exhibitor"}),t.jsx(_s,{icon:t.jsx(Be,{}),size:"large"})]}):t.jsx(_s,{icon:t.jsx(Be,{}),size:"large"})})}),t.jsx(Nu,{icon:t.jsx(cl,{}),onClick:()=>o(!0)})]})}),t.jsx(zu,{children:t.jsxs(dl,{title:"Exhibition Management System",placement:"right",onClose:()=>o(!1),open:s,width:280,closeIcon:t.jsx("span",{style:{fontSize:"16px"},children:"×"}),children:[t.jsx("div",{style:{marginBottom:24},children:a.map(k=>t.jsx($u,{to:k.path,onClick:()=>o(!1),children:k.label},k.key))}),t.jsx("div",{style:{marginTop:40},children:x.isAuthenticated?t.jsxs(t.Fragment,{children:[t.jsx(wr,{type:"primary",icon:t.jsx(lr,{}),onClick:()=>{r("/exhibitor/dashboard"),o(!1)},children:"Dashboard"}),t.jsx(wr,{type:"default",icon:t.jsx(Or,{}),onClick:R,children:"Logout"})]}):t.jsxs(t.Fragment,{children:[t.jsx(wr,{type:"primary",style:{background:"#7E57C2",borderColor:"#7E57C2"},icon:t.jsx(is,{}),onClick:()=>{N(),o(!1)},children:"Exhibitor Login"}),t.jsx(wr,{type:"default",icon:t.jsx(hi,{}),onClick:()=>{I(),o(!1)},children:"Register as Exhibitor"})]})})]})}),t.jsx(ku,{loginModalVisible:T,registerModalVisible:h,setRegisterModalVisible:p,setExhibitorCredentials:k=>e(pd(k)),onForgotPassword:l}),t.jsx(Eu,{visible:A})]})},{Content:jr}=Se,{Title:zg}=_e,Fu=r=>{if(!r)return"";if(r.startsWith("http"))return r;const e=r.startsWith("/")?r.substring(1):r;if(e.includes("logos/"))return`${G.defaults.baseURL}/public/images/${e}`;const n=localStorage.getItem("token"),i=`uploads/${e}`;return n?`${G.defaults.baseURL}/${i}?token=${n}`:`${G.defaults.baseURL}/${i}`},Lu=()=>{var M,$,V,O;const{id:r}=Xs(),e=Ke(),n=ft(),[i,s]=u.useState(null),[o,h]=u.useState(null),[p,m]=u.useState(null),[g,E]=u.useState([]),[j,x]=u.useState(!1),[y,P]=u.useState(!0),[T,A]=u.useState(null),[R,N]=u.useState(!1),[I,l]=u.useState(null),a=u.useRef(null),[c,d]=u.useState({width:800,height:600}),[f,k]=u.useState(!1),[v]=Q.useForm(),{isAuthenticated:w}=De(B=>B.exhibitorAuth);u.useEffect(()=>{const B=()=>{k(window.innerWidth<768)};return B(),window.addEventListener("resize",B),()=>{window.removeEventListener("resize",B)}},[]);const b=u.useCallback(B=>B.status==="booked"||B.status==="reserved",[]),_=u.useCallback(()=>{if(a.current){const{clientWidth:B,clientHeight:H}=a.current,q=f?320:800,U=f?480:600,J=Math.max(B||q,q),W=Math.max(H||U,U);(Math.abs(J-c.width)>5||Math.abs(W-c.height)>5)&&d({width:J,height:W})}},[c.width,c.height,f]);u.useEffect(()=>{let B=null;const H=()=>{B===null&&(B=window.setTimeout(()=>{B=null,_()},f?100:50))};_();const q=new ResizeObserver(H);return a.current&&q.observe(a.current),window.addEventListener("resize",H),()=>{B!==null&&window.clearTimeout(B),q.disconnect(),window.removeEventListener("resize",H)}},[_,f]),u.useEffect(()=>{(async()=>{try{if(!r){A("Exhibition ID is missing"),P(!1);return}P(!0),A(null);const H=await ut.getLayout(r);s(H.data)}catch(H){A(H.message||"Failed to fetch layout"),console.error("Error fetching exhibition:",H)}finally{P(!1)}})()},[r]),u.useEffect(()=>{i&&_()},[i]),u.useEffect(()=>{w&&i&&(m(null),E([]),_(),fe.info("You can now select stalls to book.",3))},[w]);const C=u.useCallback(async B=>{if(b(B)){fe.info(`This stall (${B.stallNumber}) is already booked.`);return}if(!w){n(Nt("stall-booking"));return}const q=B._id||B.id;E(U=>U.includes(q)?(fe.info(`Stall ${B.stallNumber} removed from selection`),U.filter(J=>J!==q)):(fe.success(`Stall ${B.stallNumber} added to selection`),[...U,q]))},[b,w,n]),D=async B=>{try{N(!0);const H={...B,exhibitionId:i==null?void 0:i.exhibition._id,stallIds:B.selectedStalls};if(w){const q=await ut.exhibitorBookStalls(H);fe.success("Your booking request has been submitted successfully! It is pending review by the admin.")}else{const q=await ut.bookMultipleStalls(r,H);fe.success("Your booking request has been submitted successfully!")}if(x(!1),E([]),r)try{const q=await ut.getLayout(r);s(q.data)}catch(q){console.error("Error refreshing layout data:",q)}}catch(H){console.error("Error booking stall",H),fe.error("Failed to book stall. Please try again.")}finally{N(!1)}},z=async()=>{var B;try{if(!i)return;N(!0);let H=null;if(p){const U=i.layout.find(J=>J.stalls.some(W=>W.id===p));U?H=U.stalls.find(J=>J.id===p)||null:console.error("Selected stall not found in any hall")}const q=i.layout.flatMap(U=>U.stalls.map(J=>({...J,hallId:U.id,hallName:U.name}))).filter(U=>U.status==="available");if(g.length===0&&p===null&&q.length===0){fe.error("No stalls are available for booking");return}if(!i.exhibition.basicAmenities)try{const U=await ut.getExhibition(r||"");(B=U==null?void 0:U.data)!=null&&B.basicAmenities&&s({...i,exhibition:{...i.exhibition,basicAmenities:U.data.basicAmenities}})}catch(U){console.error("Error fetching exhibition details with amenities:",U)}l(q),x(!0)}catch(H){console.error("Error opening booking modal:",H),fe.error("Failed to open booking form")}finally{N(!1)}};u.useCallback(B=>{B.cancelBubble=!0},[]);const S=u.useMemo(()=>{var B;return i?{halls:i.layout.map(H=>t.jsx(Fo,{hall:{...H,exhibitionId:r||""},isSelected:!1,onSelect:()=>{},isStallMode:!0},H.id)),stalls:i.layout.flatMap(H=>H.stalls.map(q=>{var U,J,W,le,ee,re,ie,ce,Re,L;return t.jsx(Oo,{stall:{...q,hallId:H.id,hallName:H.name,isSelected:g.includes(q.id),stallTypeId:"default",number:q.stallNumber,typeName:q.type||"Standard",ratePerSqm:q.price||0,rotation:0,dimensions:{x:((U=q.position)==null?void 0:U.x)||0,y:((J=q.position)==null?void 0:J.y)||0,width:((W=q.dimensions)==null?void 0:W.width)||0,height:((le=q.dimensions)==null?void 0:le.height)||0,shapeType:((ee=q.dimensions)==null?void 0:ee.shapeType)||"rectangle",lShape:(re=q.dimensions)==null?void 0:re.lShape},status:q.status==="maintenance"?"booked":q.status},isSelected:p===q.id||g.includes(q.id),onSelect:q.status==="available"?()=>C(q):void 0,hallWidth:((ie=H.dimensions)==null?void 0:ie.width)||0,hallHeight:((ce=H.dimensions)==null?void 0:ce.height)||0,hallX:((Re=H.dimensions)==null?void 0:Re.x)||0,hallY:((L=H.dimensions)==null?void 0:L.y)||0},q.id)})),fixtures:(B=i.fixtures)==null?void 0:B.map(H=>{var q,U;return t.jsx(Lo,{fixture:{...H,id:H.id||H._id,_id:H._id||H.id,exhibitionId:r||"",isActive:!0,zIndex:5},scale:1,position:{x:0,y:0},exhibitionWidth:((q=i.exhibition.dimensions)==null?void 0:q.width)||0,exhibitionHeight:((U=i.exhibition.dimensions)==null?void 0:U.height)||0},H.id||H._id)})}:null},[i,r,p,g,C]);if(y)return t.jsxs(Se,{children:[t.jsx(tt,{}),t.jsx(jr,{style:{paddingTop:"64px"},children:t.jsxs("div",{style:{textAlign:"center",padding:"48px"},children:[t.jsx(pt,{size:"large"}),t.jsx("p",{style:{marginTop:16},children:"Loading exhibition layout..."})]})})]});if(T||!i){const B=T&&(T.includes("not found")||T.includes("no longer available")||T.includes("404"));return t.jsxs(Se,{children:[t.jsx(tt,{}),t.jsx(jr,{style:{paddingTop:"64px"},children:t.jsx(cr,{status:B?"404":"error",title:B?"Exhibition No Longer Available":"Failed to Load Exhibition",subTitle:B?"This exhibition is no longer available or has been deactivated. It may have been removed by the organizer.":T||"The exhibition layout couldn't be loaded. Please try again later.",extra:[t.jsx(K,{type:"primary",onClick:()=>e("/exhibitions"),children:"Back to Exhibitions"},"back")]})})]})}return!((M=i.exhibition.dimensions)!=null&&M.width)||!(($=i.exhibition.dimensions)!=null&&$.height)?t.jsxs(Se,{children:[t.jsx(tt,{}),t.jsx(jr,{style:{paddingTop:"64px"},children:t.jsx(ye,{children:t.jsx(cr,{status:"error",title:"Invalid Exhibition Layout",subTitle:"Exhibition dimensions are not properly configured"})})})]}):t.jsxs(Se,{children:[t.jsx(tt,{}),t.jsxs(jr,{style:{paddingTop:"64px",background:"#f7f8fa"},children:[f&&t.jsx("div",{style:{height:"16px",width:"100%"}}),t.jsxs(ye,{className:"exhibition-card",style:{borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.08)",margin:f?"40px 0px 10px 0px":"10px 0px",border:"none"},bodyStyle:{padding:f?"5px":"24px"},children:[t.jsxs(Ce,{gutter:[24,24],style:{marginBottom:f?16:32},children:[t.jsx(oe,{xs:24,sm:24,md:12,children:t.jsxs("div",{style:{padding:f?"12px":"16px",background:"linear-gradient(145deg, #ffffff, #f8faff)",borderRadius:"8px",border:"1px solid rgba(230, 235, 245, 0.8)",height:"100%",display:"flex",flexDirection:f?"column":"row",alignItems:f?"flex-start":"center",gap:f?"12px":"16px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.03)"},children:[t.jsx("div",{style:{flexShrink:0,display:"flex",justifyContent:f?"center":"flex-start",width:f?"100%":"auto"},children:i.exhibition.headerLogo?t.jsx(po,{src:Fu(i.exhibition.headerLogo),alt:`${i.exhibition.name} logo`,style:{maxHeight:f?70:90,maxWidth:f?200:250,objectFit:"contain"},preview:!1,fallback:"/exhibition-placeholder.jpg",placeholder:t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:f?200:250,height:f?70:90,backgroundColor:"#f5f5f5",borderRadius:"8px"},children:t.jsx(pt,{size:"small"})})}):t.jsx("div",{style:{width:f?70:90,height:f?70:90,display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(145deg, #f0f0f0, #e6e6e6)",borderRadius:"8px",boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.05)"},children:t.jsx(Ue,{style:{fontSize:f?24:32,color:"#aaa"}})})}),!f&&t.jsx($e,{type:"vertical",style:{height:"90px",margin:"0 16px",opacity:.6}}),t.jsxs("div",{style:{flex:1,width:f?"100%":"auto"},children:[t.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:f?"18px":"22px",fontWeight:600,background:"linear-gradient(90deg, #333, #666)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:i.exhibition.name}),t.jsxs("p",{style:{margin:"0 0 8px 0",display:"flex",alignItems:"center",gap:"8px",color:"#555",fontSize:f?"13px":"14px"},children:[t.jsx(Ue,{style:{fontSize:f?"14px":"16px",color:"#1890ff"}}),t.jsxs("span",{children:[new Date(i.exhibition.startDate).toLocaleDateString("en-GB")," to ","",new Date(i.exhibition.endDate).toLocaleDateString("en-GB")]})]}),t.jsxs("p",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px",color:"#555",fontSize:f?"13px":"14px"},children:[t.jsx(Yt,{style:{fontSize:f?"14px":"16px",color:"#1890ff"}}),t.jsx("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:f?"nowrap":"normal",maxWidth:f?"260px":"none"},children:i.exhibition.venue})]})]})]})}),t.jsx(oe,{xs:24,sm:24,md:12,children:t.jsxs("div",{style:{padding:f?"16px 5px":"24px",background:"linear-gradient(145deg, #ffffff, #f9fbfd)",borderRadius:"8px",border:"1px solid rgba(230, 235, 245, 0.8)",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.03)"},children:[t.jsx("div",{style:{marginBottom:"16px",fontSize:f?"15px":"16px",fontWeight:600,color:"#444",textAlign:"center"},children:"Stall Status:"}),t.jsxs("div",{style:{display:"flex",flexDirection:f?"column":"row",justifyContent:"center",alignItems:"center",gap:f?"10px":"16px",width:"100%"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",borderRadius:"8px",background:"#f6ffed",border:"1px solid #b7eb8f",width:f?"90%":"30%",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)"},children:[t.jsx(ht,{status:"success"}),t.jsx("span",{style:{marginLeft:"8px",fontWeight:500},children:"Available"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",borderRadius:"8px",background:"#e6f7ff",border:"1px solid #91d5ff",width:f?"90%":"30%",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)"},children:[t.jsx(ht,{status:"processing",color:"#1890ff"}),t.jsx("span",{style:{marginLeft:"8px",fontWeight:500},children:"Reserved"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"10px",borderRadius:"8px",background:"#fff7e6",border:"1px solid #ffd591",width:f?"90%":"30%",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.05)"},children:[t.jsx(ht,{status:"warning"}),t.jsx("span",{style:{marginLeft:"8px",fontWeight:500},children:"Booked"})]})]})]})})]}),t.jsxs("div",{ref:a,style:{width:"100%",height:f?"70vh":"80vh",minHeight:f?"400px":"600px",background:"#ffffff",borderRadius:"12px",overflow:"hidden",position:"relative",border:"1px solid rgba(230, 235, 245, 0.8)",boxShadow:"inset 0 2px 6px rgba(0, 0, 0, 0.03)",willChange:"transform",contain:"content",isolation:"isolate"},className:"public-canvas-container",children:[t.jsx("style",{children:`
                /* Hide only canvas context menu in public view */
                .konvajs-content .ant-menu {
                  display: none !important;
                }
                
                /* Base canvas optimization */
                .konvajs-content {
                  will-change: transform;
                  transform: translateZ(0);
                  backface-visibility: hidden;
                  transition: filter 0.2s ease-out;
                }
                
                /* Fast layer for static background */
                .public-canvas-container .konvajs-content canvas:first-child {
                  image-rendering: auto;
                }
                
                /* Canvas optimization for all canvases */
                .public-canvas-container canvas {
                  backface-visibility: hidden;
                  -webkit-backface-visibility: hidden;
                  transition: filter 0.15s linear;
                }
                
                /* Dragging state - apply blur effect with better control */
                .public-canvas-container .konvajs-content.dragging {
                  filter: blur(1px);
                }
                
                /* Mobile-specific blur - slightly stronger */
                @media (max-width: 768px) {
                  .public-canvas-container .konvajs-content.dragging {
                    filter: blur(1.5px);
                  }
                }
                
                /* Performance optimizations for dragging */
                .public-canvas-container .konvajs-content:active canvas {
                  image-rendering: optimizeSpeed;
                }
                
                /* Touch device optimizations */
                @media (pointer: coarse) {
                  .public-canvas-container .konvajs-content:active {
                    touch-action: none;
                  }
                  
                  .public-canvas-container .konvajs-content.dragging {
                    filter: blur(2px); /* Stronger blur for touch devices */
                  }
                }
                
                /* Animation smoothing to reduce flickering */
                .public-canvas-container .konvajs-content canvas {
                  will-change: filter;
                  transform: translateZ(0);
                }
                
                /* Low-end device optimizations */
                @media (max-width: 480px), 
                       (resolution: 150dpi),
                       (any-pointer: coarse) {
                  .public-canvas-container .konvajs-content:active canvas {
                    image-rendering: optimizeSpeed;
                  }
                }
              `}),t.jsxs(au,{width:c.width,height:c.height,exhibitionWidth:((V=i==null?void 0:i.exhibition.dimensions)==null?void 0:V.width)||0,exhibitionHeight:((O=i==null?void 0:i.exhibition.dimensions)==null?void 0:O.height)||0,halls:(i==null?void 0:i.layout)||[],selectedHall:null,onSelectHall:()=>{},isStallMode:!0,onAddHall:()=>{},onAddStall:()=>{},onAddFixture:()=>{},onExhibitionChange:()=>{},isPublicView:!0,children:[S==null?void 0:S.halls,S==null?void 0:S.stalls,S==null?void 0:S.fixtures]})]})]})]}),g.length>0&&t.jsx(ul,{offsetBottom:20,children:t.jsx("div",{style:{position:"fixed",bottom:20,right:20,zIndex:1e3},children:t.jsxs(K,{type:"primary",size:"large",icon:t.jsx(hl,{}),onClick:z,loading:R,style:{borderRadius:"30px",boxShadow:"0 6px 16px rgba(24, 144, 255, 0.25)",display:"flex",alignItems:"center",gap:"8px",padding:"0 22px",height:"48px",fontSize:"16px",fontWeight:500,background:"linear-gradient(145deg, #1890ff, #40a9ff)",border:"none",transition:"all 0.3s ease"},children:["Book Selected Stalls (",g.length,")"]})})}),t.jsx(ju,{visible:j,stallDetails:I,selectedStallId:p,selectedStallIds:g,loading:R,exhibition:i==null?void 0:i.exhibition,onCancel:()=>{x(!1)},onSubmit:D})]})},Bu=Ae.memo(Lu),Ou={getServiceChargeConfig:r=>We.get(`/public/service-charge/config/${r}`),createPaymentOrder:r=>We.post("/public/service-charge/create-order",r),verifyPhonePePayment:r=>We.post("/public/service-charge/verify-phonepe-payment",r),getServiceChargeStatus:r=>We.get(`/public/service-charge/status/${r}`)},{Content:mn}=Se,{Title:er,Text:Fe,Paragraph:Ts}=_e,xn=r=>{if(!r)return"";if(r.startsWith("http"))return r;const e=r.startsWith("/")?r.substring(1):r;if(e.includes("logos/")||e.includes("sponsors/"))return`${G.defaults.baseURL}/public/images/${e}`;const n=localStorage.getItem("token"),i=`uploads/${e}`;return n?`${G.defaults.baseURL}/${i}?token=${n}`:`${G.defaults.baseURL}/${i}`},qu=(r,e)=>{const n=new Date,i=new Date(r),s=new Date(e);return n<i?{status:"Upcoming",color:"#722ED1"}:n>s?{status:"Completed",color:"#8C8C8C"}:{status:"Active",color:"#52C41A"}},Sr=r=>{const e={year:"numeric",month:"long",day:"numeric"};return new Date(r).toLocaleDateString(void 0,e)},Uu=(r,e)=>{const n=new Date,i=new Date(r),s=new Date(e);if(n<i){const o=i.getTime()-n.getTime(),h=Math.ceil(o/(1e3*60*60*24));return{text:`Day${h!==1?"s":""} until start`,count:h,isPast:!1}}else if(n>s){const o=n.getTime()-s.getTime(),h=Math.ceil(o/(1e3*60*60*24));return{text:`Day${h!==1?"s":""} since end`,count:h,isPast:!0}}else{const o=s.getTime()-n.getTime(),h=Math.ceil(o/(1e3*60*60*24));return{text:`Day${h!==1?"s":""} remaining`,count:h,isPast:!1}}},Vu=()=>{const{id:r}=Xs(),e=Ke(),[n,i]=u.useState(null),[s,o]=u.useState(!0),[h,p]=u.useState(null),[m,g]=u.useState("https://images.unsplash.com/photo-1567419099214-0dd03b43e8de?q=80&w=1932&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"),[E,j]=u.useState({total:0,available:0,booked:0,percentage:0}),[x,y]=u.useState(null),[P,T]=u.useState(!1);u.useEffect(()=>{(async()=>{var c;try{if(!r){p("Exhibition ID is missing");return}o(!0),p(null);const[d,f]=await Promise.all([ut.getExhibition(r),ut.getLayout(r).catch(()=>null)]);try{T(!0);const k=await Ou.getServiceChargeConfig(r);y(k.data.data.config)}catch{console.log("Service charges not available for this exhibition"),y(null)}finally{T(!1)}if(i(d.data),(c=f==null?void 0:f.data)!=null&&c.layout){const k=f.data.layout.flatMap(C=>C.stalls||[]),v=k.length,w=k.filter(C=>C.status==="available").length,b=k.filter(C=>C.status==="booked").length,_=v>0?Math.round(w/v*100):0;j({total:v,available:w,booked:b,percentage:_})}if(d.data.headerBackground){const k=xn(d.data.headerBackground);g(k);const v=new window.Image;v.src=k}else if(d.data.headerLogo){const k=xn(d.data.headerLogo),v=new window.Image;v.src=k}}catch(d){console.error("Error fetching exhibition:",d),p(d.message||"Error fetching exhibition")}finally{o(!1)}})()},[r]);const A=async()=>{const a={title:(n==null?void 0:n.name)||"Exhibition",text:(n==null?void 0:n.description)||"Check out this exhibition",url:window.location.href};if(navigator.share)try{await navigator.share(a)}catch{navigator.clipboard.writeText(window.location.href)}else navigator.clipboard.writeText(window.location.href)},R=()=>{if(!n)return;const a=new Date(n.startDate),c=new Date(n.endDate),d=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(n.name)}&dates=${a.toISOString().replace(/[-:]/g,"").split(".")[0]}Z/${c.toISOString().replace(/[-:]/g,"").split(".")[0]}Z&details=${encodeURIComponent(n.description)}&location=${encodeURIComponent(n.venue||"")}`;window.open(d,"_blank")};if(s)return t.jsxs(Se,{children:[t.jsx(tt,{}),t.jsx(mn,{style:{paddingTop:"64px"},children:t.jsxs("div",{style:{textAlign:"center",padding:"48px"},children:[t.jsx(pt,{size:"large"}),t.jsx("p",{style:{marginTop:16},children:"Loading exhibition details..."})]})})]});if(h||!n){const a=h&&(h.includes("not found")||h.includes("no longer available")||h.includes("404"));return t.jsxs(Se,{children:[t.jsx(tt,{}),t.jsx(mn,{style:{paddingTop:"64px"},children:t.jsx(cr,{status:"404",title:a?"Exhibition No Longer Available":"Exhibition Not Found",subTitle:a?"This exhibition is no longer available or has been deactivated. It may have been removed by the organizer.":h||"The exhibition you're looking for doesn't exist or has been removed.",extra:t.jsx(K,{type:"primary",onClick:()=>e("/exhibitions"),children:"Back to Exhibitions"})})})]})}const{status:N,color:I}=qu(n.startDate,n.endDate),l=Uu(n.startDate,n.endDate);return t.jsxs(Se,{className:"exhibition-details-layout",children:[t.jsx(tt,{}),t.jsxs(mn,{className:"exhibition-content",children:[t.jsx("div",{className:"breadcrumb-container",children:t.jsx(pl,{items:[{title:t.jsx(it,{to:"/",children:t.jsx(ho,{})})},{title:t.jsx(it,{to:"/exhibitions",children:"Exhibitions"})},{title:n.name}]})}),t.jsx("div",{className:"exhibition-hero",style:{backgroundImage:`url('${m}')`},children:t.jsx("div",{className:"hero-overlay",children:t.jsxs("div",{className:"hero-content",children:[t.jsxs("div",{className:"hero-main",children:[t.jsx(er,{level:1,className:"exhibition-title",children:n.name}),t.jsxs(de,{size:24,className:"exhibition-meta",children:[t.jsxs("div",{className:"meta-item",children:[t.jsx(Ue,{}),t.jsxs(Fe,{children:[Sr(n.startDate)," - ",Sr(n.endDate)]})]}),n.venue&&t.jsxs("div",{className:"meta-item",children:[t.jsx(Wt,{}),t.jsx(Fe,{children:n.venue})]}),t.jsxs("div",{className:"meta-item",children:[t.jsx(Br,{}),t.jsxs(Fe,{children:[l.text,": ",t.jsx("strong",{children:l.count})]})]})]})]}),t.jsxs("div",{className:"hero-actions",children:[t.jsx(K,{type:"primary",size:"large",icon:t.jsx(zi,{}),onClick:()=>e(`/exhibitions/${r}/layout`),className:"action-button layout-button",children:"View Exhibition Layout"}),t.jsx(K,{size:"large",icon:t.jsx(Oe,{}),onClick:()=>e(`/exhibitions/${r}/layout`),className:"action-button book-button",children:"Book a Stall"}),l.isPast?null:t.jsx(K,{size:"large",icon:t.jsx(Yr,{}),onClick:()=>e("/exhibitor/login"),className:"action-button exhibitor-button",children:"Exhibitor Access"}),t.jsx(K,{size:"large",icon:t.jsx(fl,{}),onClick:A,className:"action-button share-button",children:"Share"}),t.jsx(K,{size:"large",icon:t.jsx(Ue,{}),onClick:R,className:"action-button calendar-button",children:"Add to Calendar"})]})]})})}),t.jsx("div",{className:"stats-container",children:t.jsxs(Ce,{gutter:[16,16],className:"stats-row",children:[t.jsx(oe,{xs:24,sm:6,children:t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon duration-icon",children:t.jsx(Ue,{})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-value",children:Math.ceil((new Date(n.endDate).getTime()-new Date(n.startDate).getTime())/(1e3*60*60*24))+1}),t.jsx("div",{className:"stat-label",children:"Days Duration"})]})]})}),t.jsx(oe,{xs:24,sm:6,children:t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon countdown-icon",children:t.jsx(Br,{})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-value",children:l.count}),t.jsx("div",{className:"stat-label",children:l.text})]})]})}),t.jsx(oe,{xs:24,sm:6,children:t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon status-icon",style:{backgroundColor:I+"20",color:I},children:t.jsx(Yt,{})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-value status-value",style:{color:I},children:N}),t.jsx("div",{className:"stat-label",children:"Status"})]})]})}),t.jsx(oe,{xs:24,sm:6,children:t.jsxs("div",{className:"stat-card",children:[t.jsx("div",{className:"stat-icon availability-icon",children:t.jsx(Oe,{})}),t.jsxs("div",{className:"stat-content",children:[t.jsx("div",{className:"stat-value",children:E.available}),t.jsx("div",{className:"stat-label",children:"Available Stalls"}),E.total>0&&t.jsx(uo,{percent:E.percentage,size:"small",strokeColor:"#52c41a",style:{marginTop:4}})]})]})})]})}),n.sponsorLogos&&n.sponsorLogos.length>0&&t.jsxs("div",{className:"sponsors-section",children:[t.jsx("div",{className:"sponsors-header",children:t.jsx(Fe,{type:"secondary",children:"PROUDLY SPONSORED BY"})}),t.jsx("div",{className:"sponsors-container",children:n.sponsorLogos.map((a,c)=>t.jsx("div",{className:"sponsor-logo-wrapper",children:t.jsx("div",{className:"sponsor-logo",children:t.jsx("img",{src:xn(a),alt:`Sponsor ${c+1}`,className:"sponsor-logo-img",onError:d=>{d.target.src="/placeholder-logo.png"}})})},c))})]}),x&&x.isEnabled&&t.jsx("div",{className:"charges-section",children:t.jsxs("div",{className:"charges-container",children:[t.jsxs("div",{className:"charges-header",children:[t.jsx("div",{className:"charges-icon",children:t.jsx(fi,{})}),t.jsxs("div",{className:"charges-title-section",children:[t.jsx(er,{level:3,className:"charges-title",children:x.title||"Service Charges"}),t.jsx(Fe,{type:"secondary",className:"charges-description",children:x.description||"Additional services available for this exhibition"})]})]}),x.serviceTypes&&x.serviceTypes.length>0&&t.jsx("div",{className:"services-grid",children:x.serviceTypes.map((a,c)=>t.jsx("div",{className:"service-card",children:t.jsxs("div",{className:"service-content",children:[t.jsxs("div",{className:"service-header",children:[t.jsx("div",{className:"service-icon",children:t.jsx(gl,{})}),t.jsxs("div",{className:"service-info",children:[t.jsx(er,{level:4,className:"service-name",children:a.type}),t.jsx(Fe,{type:"secondary",className:"service-description",children:a.description})]})]}),t.jsxs("div",{className:"service-price",children:[t.jsxs(Fe,{className:"price-amount",children:["Rs. ",a.amount.toLocaleString()]}),t.jsx(Fe,{type:"secondary",className:"price-label",children:"per service"})]})]})},c))}),t.jsxs("div",{className:"charges-actions",children:[t.jsxs(K,{type:"primary",size:"large",icon:t.jsx(fi,{}),onClick:()=>e(`/exhibitions/${r}/service-charge`),className:"pay-charges-button",children:["Pay Service Charges",t.jsx(fo,{})]}),t.jsx(Fe,{type:"secondary",className:"secure-payment-text",children:"Secure payment powered by PhonePe"})]})]})}),t.jsx("div",{className:"exhibition-details-container",children:t.jsxs(Ce,{gutter:[24,24],children:[t.jsx(oe,{xs:24,lg:16,children:t.jsxs(ye,{className:"details-card about-card",bordered:!1,children:[t.jsx(er,{level:3,className:"section-title",children:"About This Exhibition"}),t.jsx(Ts,{className:"main-description",children:n.description}),n.headerDescription&&t.jsx(Ts,{className:"extended-description",children:n.headerDescription}),n.headerSubtitle&&t.jsxs("div",{className:"subtitle-section",children:[t.jsx(er,{level:4,children:n.headerSubtitle}),t.jsx($e,{})]})]})}),t.jsx(oe,{xs:24,lg:8,children:t.jsx(de,{direction:"vertical",style:{width:"100%"},size:24,children:t.jsx(ye,{title:"Key Information",className:"details-card info-card",bordered:!1,children:t.jsxs("div",{className:"info-grid",children:[t.jsxs("div",{className:"info-item",children:[t.jsx("div",{className:"info-icon start-icon",children:t.jsx(Ue,{})}),t.jsxs("div",{className:"info-content",children:[t.jsx(Fe,{type:"secondary",className:"info-label",children:"Start Date"}),t.jsx("div",{className:"info-value",children:Sr(n.startDate)})]})]}),t.jsxs("div",{className:"info-item",children:[t.jsx("div",{className:"info-icon end-icon",children:t.jsx(Ue,{})}),t.jsxs("div",{className:"info-content",children:[t.jsx(Fe,{type:"secondary",className:"info-label",children:"End Date"}),t.jsx("div",{className:"info-value",children:Sr(n.endDate)})]})]}),n.venue&&t.jsxs("div",{className:"info-item",children:[t.jsx("div",{className:"info-icon venue-icon",children:t.jsx(Wt,{})}),t.jsxs("div",{className:"info-content",children:[t.jsx(Fe,{type:"secondary",className:"info-label",children:"Venue"}),t.jsx("div",{className:"info-value",children:n.venue})]})]}),E.total>0&&t.jsxs("div",{className:"info-item",children:[t.jsx("div",{className:"info-icon stall-info-icon",children:t.jsx(Oe,{})}),t.jsxs("div",{className:"info-content",children:[t.jsx(Fe,{type:"secondary",className:"info-label",children:"Stall Availability"}),t.jsxs("div",{className:"info-value",children:[E.available," of ",E.total," available"]}),t.jsxs(Fe,{type:"secondary",style:{fontSize:"12px"},children:[E.booked," already booked"]})]})]})]})})})})]})})]}),t.jsx("style",{children:`
        .exhibition-details-layout {
          background-color: #f9fafc;
        }
        
        .exhibition-content {
          padding-top: 64px;
          min-height: calc(100vh - 64px);
        }
        
        .breadcrumb-container {
          max-width: 1280px;
          margin: 0 auto;
          padding: 16px 24px;
        }
        
        /* Hero Section */
        .exhibition-hero {
          height: 500px;
          background-size: cover;
          background-position: center;
          position: relative;
          color: white;
          margin-bottom: 0;
        }
        
        .hero-overlay {
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(to bottom, rgba(20, 20, 40, 0.7), rgba(20, 20, 40, 0.9));
          display: flex;
          align-items: center;
        }
        
        .hero-content {
          max-width: 1280px;
          width: 100%;
          margin: 0 auto;
          padding: 40px 24px;
          display: flex;
          flex-direction: column;
          gap: 40px;
        }
        
        .hero-main {
          max-width: 800px;
        }
        
        .exhibition-title {
          color: #fff !important;
          margin-bottom: 32px !important;
          font-size: 3.5rem !important;
          font-weight: 700 !important;
          line-height: 1.2 !important;
          letter-spacing: -0.5px;
          text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .exhibition-meta {
          margin-bottom: 24px;
        }
        
        .meta-item {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .meta-item .anticon {
          font-size: 18px;
          color: rgba(255, 255, 255, 0.9);
        }
        
        .meta-item span {
          color: rgba(255, 255, 255, 0.9);
          font-size: 16px;
        }
        
        .hero-actions {
          display: flex;
          flex-wrap: wrap;
          gap: 16px;
        }
        
        .action-button {
          padding: 0 24px;
          height: 48px;
          font-weight: 500;
          border-radius: 8px;
          transition: all 0.3s ease;
        }
        
        .layout-button {
          background: #4361ee;
          border-color: #4361ee;
        }
        
        .layout-button:hover {
          background: #3a56d4;
          border-color: #3a56d4;
          transform: translateY(-2px);
          box-shadow: 0 6px 12px rgba(67, 97, 238, 0.25);
        }
        
        .book-button {
          background: white;
          color: #111;
          border-color: transparent;
        }
        
        .book-button:hover {
          background: #f8f9fa;
          color: #4361ee;
          transform: translateY(-2px);
          box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08);
        }
        
        .exhibitor-button {
          border-color: rgba(255, 255, 255, 0.3);
          color: white;
          background: transparent;
        }
        
        .exhibitor-button:hover {
          border-color: white;
          color: white;
          background: rgba(255, 255, 255, 0.1);
          transform: translateY(-2px);
        }
        
        .share-button {
          border-color: rgba(255, 255, 255, 0.3);
          color: white;
          background: transparent;
        }
        
        .share-button:hover {
          border-color: white;
          color: white;
          background: rgba(255, 255, 255, 0.1);
          transform: translateY(-2px);
        }
        
        .calendar-button {
          border-color: rgba(255, 255, 255, 0.3);
          color: white;
          background: transparent;
        }
        
        .calendar-button:hover {
          border-color: white;
          color: white;
          background: rgba(255, 255, 255, 0.1);
          transform: translateY(-2px);
        }
        
        /* Stats Section */
        .stats-container {
          max-width: 1280px;
          margin: 0 auto;
          padding: 0 24px;
          margin-top: -50px;
          margin-bottom: 40px;
          position: relative;
          z-index: 5;
        }
        
        .stats-row {
          margin: 0;
        }
        
        .stat-card {
          background: white;
          padding: 24px;
          border-radius: 12px;
          display: flex;
          gap: 20px;
          align-items: center;
          box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
          height: 100%;
          transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .stat-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
        }
        
        .stat-icon {
          width: 60px;
          height: 60px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 24px;
        }
        
        .duration-icon {
          background-color: #4361ee20;
          color: #4361ee;
        }
        
        .countdown-icon {
          background-color: #f7257520;
          color: #f72575;
        }
        
        .availability-icon {
          background-color: #52c41a20;
          color: #52c41a;
        }
        
        .stat-content {
          flex: 1;
        }
        
        .stat-value {
          font-size: 28px;
          font-weight: 700;
          line-height: 1.2;
          color: #111827;
        }
        
        .stat-label {
          font-size: 14px;
          color: #6b7280;
          margin-top: 4px;
        }
        
        /* Sponsor Logos Styles */
        .sponsors-section {
          max-width: 1280px;
          margin: 0 auto 40px;
          padding: 36px 24px;
          background: #fff;
          border-radius: 16px;
          box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
        }
        
        .sponsors-header {
          text-align: center;
          margin-bottom: 30px;
        }
        
        .sponsors-header .ant-typography {
          font-size: 14px;
          letter-spacing: 2px;
          font-weight: 600;
          color: #6b7280;
          position: relative;
          display: inline-block;
        }
        
        .sponsors-header .ant-typography:before,
        .sponsors-header .ant-typography:after {
          content: "";
          position: absolute;
          top: 50%;
          width: 40px;
          height: 1px;
          background: #e5e7eb;
        }
        
        .sponsors-header .ant-typography:before {
          right: 100%;
          margin-right: 15px;
        }
        
        .sponsors-header .ant-typography:after {
          left: 100%;
          margin-left: 15px;
        }
        
        .sponsors-container {
          display: flex;
          flex-wrap: wrap;
          gap: 30px;
          justify-content: center;
          align-items: center;
        }
        
        .sponsor-logo-wrapper {
          display: inline-flex;
          transition: transform 0.3s ease;
        }
        
        .sponsor-logo-wrapper:hover {
          transform: translateY(-5px);
        }
        
        .sponsor-logo {
          width: 190px;
          height: auto;
          border-radius: 8px;
          overflow: hidden;
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: #ffffff;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
          padding: 20px;
          transition: box-shadow 0.3s ease;
        }
        
        .sponsor-logo:hover {
          box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
        }
        
        .sponsor-logo-img {
          max-width: 100%;
          max-height: 100%;
          object-fit: contain;
        }
        
        /* Service Charges Section */
        .charges-section {
          max-width: 1280px;
          margin: 0 auto 40px;
          padding: 0 24px;
        }
        
        .charges-container {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          border-radius: 20px;
          padding: 40px;
          color: white;
          position: relative;
          overflow: hidden;
        }
        
        .charges-container::before {
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="50" cy="50" r="1" fill="white" opacity="0.1"/><circle cx="25" cy="25" r="0.5" fill="white" opacity="0.05"/><circle cx="75" cy="75" r="0.8" fill="white" opacity="0.08"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
          pointer-events: none;
        }
        
        .charges-header {
          display: flex;
          align-items: center;
          gap: 20px;
          margin-bottom: 32px;
          position: relative;
          z-index: 1;
        }
        
        .charges-icon {
          width: 60px;
          height: 60px;
          background: rgba(255, 255, 255, 0.2);
          border-radius: 16px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 24px;
          color: white;
          backdrop-filter: blur(10px);
        }
        
        .charges-title-section {
          flex: 1;
        }
        
        .charges-title {
          color: white !important;
          margin: 0 !important;
          font-size: 28px !important;
          font-weight: 700 !important;
        }
        
        .charges-description {
          color: rgba(255, 255, 255, 0.8) !important;
          font-size: 16px !important;
          margin-top: 8px;
        }
        
        .services-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 20px;
          margin-bottom: 32px;
          position: relative;
          z-index: 1;
        }
        
        .service-card {
          background: rgba(255, 255, 255, 0.1);
          border: 1px solid rgba(255, 255, 255, 0.2);
          border-radius: 16px;
          padding: 24px;
          backdrop-filter: blur(10px);
          transition: all 0.3s ease;
        }
        
        .service-card:hover {
          background: rgba(255, 255, 255, 0.15);
          border-color: rgba(255, 255, 255, 0.3);
          transform: translateY(-2px);
        }
        
        .service-content {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }
        
        .service-header {
          display: flex;
          align-items: flex-start;
          gap: 16px;
        }
        
        .service-icon {
          width: 40px;
          height: 40px;
          background: rgba(255, 255, 255, 0.2);
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 18px;
          color: white;
          flex-shrink: 0;
        }
        
        .service-info {
          flex: 1;
        }
        
        .service-name {
          color: white !important;
          margin: 0 !important;
          font-size: 18px !important;
          font-weight: 600 !important;
        }
        
        .service-description {
          color: rgba(255, 255, 255, 0.8) !important;
          font-size: 14px !important;
          margin-top: 4px;
          line-height: 1.5;
        }
        
        .service-price {
          text-align: right;
        }
        
        .price-amount {
          color: white !important;
          font-size: 24px !important;
          font-weight: 700 !important;
          display: block;
        }
        
        .price-label {
          color: rgba(255, 255, 255, 0.7) !important;
          font-size: 12px !important;
        }
        
        .charges-actions {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 12px;
          position: relative;
          z-index: 1;
        }
        
        .pay-charges-button {
          background: white !important;
          border-color: white !important;
          color: #667eea !important;
          font-weight: 600 !important;
          height: 50px !important;
          padding: 0 32px !important;
          border-radius: 12px !important;
          display: flex !important;
          align-items: center !important;
          gap: 8px !important;
          transition: all 0.3s ease !important;
        }
        
        .pay-charges-button:hover {
          background: rgba(255, 255, 255, 0.95) !important;
          border-color: rgba(255, 255, 255, 0.95) !important;
          color: #667eea !important;
          transform: translateY(-2px) !important;
          box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
        }
        
        .secure-payment-text {
          color: rgba(255, 255, 255, 0.7) !important;
          font-size: 13px !important;
        }
        
        /* Details Section */
        .exhibition-details-container {
          max-width: 1280px;
          margin: 0 auto;
          padding: 0 24px 60px;
        }
        
        .details-card {
          border-radius: 16px;
          box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
          overflow: hidden;
          height: 100%;
        }
        
        .about-card .ant-card-body {
          padding: 32px;
        }
        
        .section-title {
          margin-bottom: 24px !important;
          font-weight: 700 !important;
          color: #111827 !important;
          font-size: 28px !important;
          position: relative;
        }
        
        .section-title:after {
          content: "";
          position: absolute;
          left: 0;
          bottom: -12px;
          width: 60px;
          height: 4px;
          background: #4361ee;
          border-radius: 2px;
        }
        
        .main-description {
          font-size: 16px !important;
          line-height: 1.7 !important;
          margin-bottom: 24px !important;
          color: #374151 !important;
        }
        
        .extended-description {
          font-size: 16px !important;
          line-height: 1.7 !important;
          margin-bottom: 24px !important;
          color: #6b7280 !important;
        }
        
        .subtitle-section {
          margin: 24px 0;
        }
        
        .subtitle-section .ant-typography {
          color: #111827;
          font-weight: 600;
        }
        
        .info-card .ant-card-head {
          border-bottom: none;
          padding: 20px 24px 0;
        }
        
        .info-card .ant-card-head-title {
          font-weight: 600;
          font-size: 18px;
          color: #111827;
        }
        
        .info-card .ant-card-body {
          padding: 16px 24px 24px;
        }
        
        .info-grid {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }
        
        .info-item {
          display: flex;
          align-items: flex-start;
          gap: 16px;
        }
        
        .info-icon {
          width: 40px;
          height: 40px;
          border-radius: 8px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 18px;
        }
        
        .start-icon {
          background-color: #4361ee20;
          color: #4361ee;
        }
        
        .end-icon {
          background-color: #f7257520;
          color: #f72575;
        }
        
        .venue-icon {
          background-color: #0ea5e920;
          color: #0ea5e9;
        }
        
        .stall-info-icon {
          background-color: #52c41a20;
          color: #52c41a;
        }
        
        .info-content {
          flex: 1;
        }
        
        .info-label {
          display: block;
          margin-bottom: 4px;
          font-size: 14px;
        }
        
        .info-value {
          font-size: 16px;
          font-weight: 500;
          color: #111827;
        }
        
        @media (max-width: 991px) {
          .exhibition-hero {
            height: auto;
            min-height: 350px;
          }
          
          .hero-overlay {
            position: relative;
            padding: 50px 0;
          }
          
          .exhibition-title {
            font-size: 2.5rem !important;
          }
          
          .stats-container {
            margin-top: 0;
          }
          
          .stat-card {
            margin-bottom: 16px;
          }
        }
        
        @media (max-width: 768px) {
          .exhibition-title {
            font-size: 2rem !important;
            margin-bottom: 24px !important;
          }
          
          .hero-content {
            padding: 40px 20px;
          }
          
          .hero-actions {
            flex-direction: column;
            width: 100%;
          }
          
          .hero-actions button {
            width: 100%;
          }
          
          .sponsors-container {
            gap: 20px;
          }
          
          .sponsor-logo {
            width: 150px;
          }
          
          .charges-container {
            padding: 32px 24px;
          }
          
          .charges-header {
            flex-direction: column;
            text-align: center;
            gap: 16px;
          }
          
          .services-grid {
            grid-template-columns: 1fr;
            gap: 16px;
          }
          
          .service-card {
            padding: 20px;
          }
          
          .stats-container {
            padding: 0 16px;
          }
          
          .stat-card {
            padding: 16px;
          }
          
          .stat-icon {
            width: 50px;
            height: 50px;
            font-size: 20px;
          }
          
          .stat-value {
            font-size: 22px;
          }
          
          .exhibition-details-container {
            padding: 0 16px 40px;
          }
          
          .about-card .ant-card-body {
            padding: 24px;
          }
          
          .section-title {
            font-size: 24px !important;
          }
        }
        
        @media (max-width: 480px) {
          .exhibition-title {
            font-size: 1.75rem !important;
          }
          
          .meta-item {
            flex-direction: column;
            align-items: flex-start;
            gap: 4px;
          }
        }
        `})]})},{Footer:Hu}=Se,{Title:Wu,Paragraph:Qu,Text:Yu}=_e,Gu=F(Hu)`
  background: linear-gradient(to right, #242a38, #1a1f2c);
  padding: 60px 0 20px;
  color: rgba(255, 255, 255, 0.8);

  @media (max-width: 768px) {
    padding: 40px 0 20px;
  }
`,Ku=F.div`
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 24px;
`,bn=F(Wu)`
  color: white !important;
  font-size: 18px !important;
  margin-bottom: 20px !important;
  position: relative;
  
  &:after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -8px;
    width: 40px;
    height: 3px;
    background: linear-gradient(90deg, #4158D0, #C850C0);
  }
`,Xu=F.div`
  margin-bottom: 20px;
`,Ju=F.img`
  height: auto;
  width: 100%;
  max-width: 160px;
  margin-bottom: 16px;
  filter: brightness(0) invert(1);
  transition: all 0.3s ease;
  
  &:hover {
    opacity: 0.8;
  }
`,Mt=F(it)`
  color: rgba(255, 255, 255, 0.8);
  display: block;
  margin-bottom: 12px;
  transition: all 0.3s ease;
  
  &:hover {
    color: white;
    transform: translateX(5px);
  }
`,yn=F.div`
  display: flex;
  margin-bottom: 16px;
  align-items: flex-start;
`,vn=F.div`
  margin-right: 10px;
  color: #4158D0;
`,wn=F.a`
  font-size: 24px;
  margin-right: 16px;
  color: rgba(255, 255, 255, 0.7);
  transition: all 0.3s ease;
  
  &:hover {
    color: white;
    transform: translateY(-3px);
  }
`,Zu=F(Yu)`
  display: block;
  text-align: center;
  color: rgba(255, 255, 255, 0.6);
  margin-top: 20px;
  font-size: 14px;
`,eh=F($e)`
  background: rgba(255, 255, 255, 0.1);
  margin: 30px 0;
`,Uo=()=>{const[r,e]=u.useState("/logo.png"),[n,i]=u.useState("Exhibition Manager"),s=new Date().getFullYear();return u.useEffect(()=>{const o=`${G.defaults.baseURL}/public/logo`;e(o),fetch(`${G.defaults.baseURL}/public/site-info`).then(h=>h.json()).then(h=>{h.siteName&&i(h.siteName)}).catch(h=>{console.error("Error fetching site info:",h)})},[]),t.jsx(Gu,{children:t.jsxs(Ku,{children:[t.jsxs(Ce,{gutter:[48,40],children:[t.jsxs(oe,{xs:24,sm:24,md:8,lg:7,children:[t.jsx(Xu,{children:t.jsx(it,{to:"/",children:t.jsx(Ju,{src:r,alt:n,onError:()=>e("/logo.png")})})}),t.jsx(Qu,{style:{color:"rgba(255, 255, 255, 0.7)",marginBottom:24},children:"Aakar is about Knowledge, Ideas, Evaluations and Implementation in creating world class exhibitions - a marketplace where we bring together end users, traders & manufacturers under one roof."}),t.jsxs(de,{children:[t.jsx(wn,{href:"https://www.facebook.com/ExhibitionOrganisor",target:"_blank",rel:"noopener noreferrer",children:t.jsx(ml,{})}),t.jsx(wn,{href:"https://www.youtube.com/@aakarexhibitionofficial",target:"_blank",rel:"noopener noreferrer",children:t.jsx(xl,{})}),t.jsx(wn,{href:"https://in.linkedin.com/company/aakar-exhibition-expo-pvt-ltd",target:"_blank",rel:"noopener noreferrer",children:t.jsx(bl,{})})]})]}),t.jsxs(oe,{xs:24,sm:12,md:5,lg:5,children:[t.jsx(bn,{level:4,children:"Quick Links"}),t.jsx(Mt,{to:"/exhibitions",children:"Exhibitions"}),t.jsx(Mt,{to:"/about",children:"About Us"}),t.jsx(Mt,{to:"/contact",children:"Contact Us"}),t.jsx(Mt,{to:"/terms",children:"Terms & Conditions"})]}),t.jsxs(oe,{xs:24,sm:12,md:5,lg:5,children:[t.jsx(bn,{level:4,children:"Legal"}),t.jsx(Mt,{to:"/privacy-policy",children:"Privacy Policy"}),t.jsx(Mt,{to:"/cancellation-refund",children:"Cancellation/Refund"})]}),t.jsxs(oe,{xs:24,sm:24,md:6,lg:7,children:[t.jsx(bn,{level:4,children:"Contact Us"}),t.jsxs(yn,{children:[t.jsx(vn,{children:t.jsx(Wt,{})}),t.jsx("div",{children:"B-2, Wall Street 2, opp. Orient Club, Ellisbridge, Ahmedabad, Gujarat 380006"})]}),t.jsxs(yn,{children:[t.jsx(vn,{children:t.jsx(nr,{})}),t.jsx("div",{children:"7016727956"})]}),t.jsxs(yn,{children:[t.jsx(vn,{children:t.jsx(_t,{})}),t.jsx("div",{children:"support@aakarexhibition.com"})]})]})]}),t.jsx(eh,{}),t.jsxs(Zu,{children:["© ",s," ",n,". All rights reserved."]})]})})},$g=(r,e)=>{if(!r)return"";let i=`/exhibition/${r.slug||r._id||r.id}`;return e&&(i+=`/${e}`),i},Vo=(r,e)=>{if(!r)return"";let i=`/exhibitions/${r.slug||r._id||r.id}`;return e&&(i+=`/${e}`),i},{Title:As,Text:jn,Paragraph:Ps}=_e,{Content:Sn}=Se,th=(r,e)=>{const n=new Date,i=new Date(r),s=new Date(e);return n<i?{status:"Upcoming",color:"#722ED1"}:n>s?{status:"Completed",color:"#8C8C8C"}:{status:"Active",color:"#52C41A"}},Ns=r=>{const e={year:"numeric",month:"short",day:"numeric"};return new Date(r).toLocaleDateString(void 0,e)},rh=r=>{const e=new Date,i=new Date(r).getTime()-e.getTime();return Math.ceil(i/(1e3*60*60*24))},zs=r=>{if(!r)return"/exhibition-placeholder.jpg";if(r.startsWith("/")||r.startsWith("http"))return r;const e=r.startsWith("/")?r.substring(1):r,n=e.includes("logos/")?e:`logos/${e}`;return`${G.defaults.baseURL}/public/images/${n}`},nh=()=>{const r=Ke(),[e,n]=u.useState([]),[i,s]=u.useState(!0),[o,h]=u.useState(null),[p,m]=u.useState({});return u.useEffect(()=>{(async()=>{try{s(!0),h(null);const E=await ut.getExhibitions();n(E.data);const j={};E.data.forEach(x=>{if(x.headerLogo){const y=zs(x.headerLogo),P=new window.Image;P.onload=()=>{j[x._id]=!0,m(T=>({...T,[x._id]:!0}))},P.onerror=()=>{console.warn(`Failed to preload image: ${y}`),j[x._id]=!1,m(T=>({...T,[x._id]:!1}))},P.src=y}})}catch(E){h(E.message||"Failed to fetch exhibitions")}finally{s(!1)}})()},[]),i?t.jsxs(Se,{children:[t.jsx(tt,{}),t.jsx(Sn,{style:{paddingTop:"64px"},children:t.jsxs("div",{style:{textAlign:"center",padding:"48px"},children:[t.jsx(pt,{size:"large"}),t.jsx("p",{style:{marginTop:16},children:"Loading exhibitions..."})]})})]}):o?t.jsxs(Se,{children:[t.jsx(tt,{}),t.jsx(Sn,{style:{paddingTop:"64px"},children:t.jsx(cr,{status:"error",title:"Failed to load exhibitions",subTitle:o,extra:[t.jsx(K,{type:"primary",onClick:()=>window.location.reload(),children:"Try Again"},"retry")]})})]}):t.jsxs(Se,{children:[t.jsx(tt,{}),t.jsx(Sn,{style:{paddingTop:"64px",background:"#f5f5f5"},children:t.jsxs("div",{style:{padding:"80px 16px"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:40},children:[t.jsx(As,{level:2,style:{marginBottom:12,fontSize:36},children:"Upcoming & Current Exhibitions"}),t.jsx(Ps,{type:"secondary",style:{fontSize:16,maxWidth:600,margin:"0 auto"},children:"Discover and explore our exhibitions. Click on any card to view details and book stalls."})]}),e.length>0?t.jsx(Ce,{gutter:[24,24],children:e.map(g=>{const{status:E,color:j}=th(g.startDate,g.endDate),x=rh(g.startDate),y=g.headerLogo?zs(g.headerLogo):void 0;return t.jsx(oe,{xs:24,sm:12,lg:8,children:t.jsxs(ye,{hoverable:!0,onClick:()=>r(Vo(g)),className:"exhibition-card",styles:{body:{padding:"0",overflow:"hidden",display:"flex",flexDirection:"column"}},style:{borderRadius:"12px",overflow:"hidden",height:"100%",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.06), 0 2px 4px rgba(0, 0, 0, 0.06)"},children:[t.jsx(ht.Ribbon,{text:E,color:j,style:{right:"-1px",top:"10px",zIndex:2}}),t.jsxs("div",{className:"exhibition-card-container",children:[t.jsx("div",{className:"exhibition-card-logo-container",children:y&&t.jsx("div",{className:"exhibition-logo",children:t.jsx(po,{src:y,alt:`${g.name} logo`,preview:!1,fallback:"/exhibition-placeholder.jpg",placeholder:t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",backgroundColor:"#f0f0f0"},children:t.jsx(pt,{size:"small"})}),style:{width:"100%",height:"100%",objectFit:"contain"}})})}),t.jsxs("div",{className:"exhibition-card-content",children:[t.jsx("div",{className:"exhibition-title",children:t.jsx(As,{level:4,ellipsis:{rows:2},style:{marginBottom:8,fontSize:20,lineHeight:"28px"},children:g.name})}),t.jsx(Ps,{type:"secondary",ellipsis:{rows:2},style:{marginBottom:16,fontSize:14},children:g.description}),t.jsxs("div",{className:"exhibition-card-details",children:[t.jsxs("div",{className:"exhibition-card-detail-item",children:[t.jsx(Ue,{style:{color:"#722ED1"}}),t.jsx(vt,{title:"Exhibition Date Range",children:t.jsxs(jn,{style:{fontSize:14},children:[Ns(g.startDate)," - ",Ns(g.endDate)]})})]}),g.venue&&t.jsxs("div",{className:"exhibition-card-detail-item",children:[t.jsx(Wt,{style:{color:"#F5222D"}}),t.jsx(vt,{title:"Venue",children:t.jsx(jn,{style:{fontSize:14},ellipsis:!0,children:g.venue})})]}),E==="Upcoming"&&x>0&&t.jsxs("div",{className:"exhibition-card-detail-item",children:[t.jsx(Br,{style:{color:"#1890FF"}}),t.jsx(vt,{title:"Time Remaining",children:t.jsxs(jn,{style:{fontSize:14},children:["Starts in ",x," day",x!==1?"s":""]})})]})]}),t.jsx("div",{className:"exhibition-card-footer",children:t.jsxs(K,{type:"link",className:"view-details-btn",style:{padding:0,height:"auto",fontSize:14,fontWeight:500},children:["View Details ",t.jsx(fo,{})]})})]})]})]})},g._id)})}):t.jsx(Qe,{description:"No exhibitions currently available",style:{background:"#fff",padding:"48px",borderRadius:"12px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.06), 0 2px 4px rgba(0, 0, 0, 0.06)"},image:Qe.PRESENTED_IMAGE_SIMPLE})]})}),t.jsx(Uo,{}),t.jsx("style",{children:`
        .exhibition-card {
          transition: all 0.3s ease;
        }
        
        .exhibition-card:hover {
          transform: translateY(-5px);
          box-shadow: 0 10px 20px rgba(0, 0, 0, 0.05), 0 6px 6px rgba(0, 0, 0, 0.06) !important;
        }
        
        .exhibition-card-container {
          display: flex;
          flex-direction: row;
          width: 100%;
          height: 100%;
        }
        
        .exhibition-card-logo-container {
          width: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          padding: 24px;
          background-color: #f9f9f9;
          border-right: 1px solid #eaeaea;
        }
        
        .exhibition-logo {
          position: relative;
          flex-shrink: 0;
          width: 100%;
          height: 172px;
          border-radius: 8px;
          overflow: hidden;
          display: flex;
          align-items: center;
          justify-content: center;
          background-color: #f0f0f0;
          border: 1px solid #e8e8e8;
        }
        
        .exhibition-card-content {
          width: 50%;
          padding: 24px;
          display: flex;
          flex-direction: column;
        }
        
        .exhibition-title {
          margin-right: 36px;
        }
        
        .exhibition-card-details {
          display: flex;
          flex-direction: column;
          gap: 8px;
          margin-bottom: 24px;
        }
        
        .exhibition-card-detail-item {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .exhibition-card-footer {
          margin-top: auto;
        }
        
        .view-details-btn {
          color: #722ED1;
        }
        
        .view-details-btn:hover {
          color: #9254DE;
        }
        
        .view-details-btn .anticon {
          transition: transform 0.3s ease;
        }
        
        .view-details-btn:hover .anticon {
          transform: translateX(4px);
        }
        
        @media (max-width: 575px) {
          .exhibition-card-container {
            flex-direction: column;
          }
          
          .exhibition-card-logo-container {
            width: 100%;
            border-right: none;
            border-bottom: 1px solid #eaeaea;
            padding: 20px;
          }
          
          .exhibition-logo {
            height: 140px;
          }
          
          .exhibition-card-content {
            width: 100%;
            padding: 20px;
          }
        }
        `})]})},{Title:ih,Paragraph:sh}=_e,oh=F.div`
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  padding: 120px 0 100px;
  color: white;
  position: relative;
  overflow: hidden;
  min-height: 80vh;
  display: flex;
  align-items: center;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.3) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 40% 40%, rgba(120, 119, 198, 0.2) 0%, transparent 50%);
    z-index: 1;
  }
  
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    z-index: 1;
  }
  
  @media (max-width: 1200px) {
    padding: 100px 0 80px;
    min-height: 70vh;
  }
  
  @media (max-width: 768px) {
    padding: 80px 0 60px;
    min-height: 60vh;
  }
  
  @media (max-width: 480px) {
    padding: 60px 0 40px;
    min-height: 50vh;
  }
`,ah=F.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.1);
  z-index: 2;
`,lh=F.div`
  position: relative;
  z-index: 3;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 24px;
  width: 100%;
  
  @media (max-width: 768px) {
    padding: 0 16px;
  }
`,ch=F.div`
  position: relative;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 
    0 25px 50px rgba(0, 0, 0, 0.25),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  transform: perspective(1000px) rotateY(-5deg) rotateX(5deg);
  transition: all 0.6s cubic-bezier(0.23, 1, 0.320, 1);
  
  &:hover {
    transform: perspective(1000px) rotateY(-2deg) rotateX(2deg) translateY(-10px);
    box-shadow: 
      0 35px 70px rgba(0, 0, 0, 0.3),
      0 0 0 1px rgba(255, 255, 255, 0.2);
  }
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, transparent 100%);
    z-index: 1;
    pointer-events: none;
  }
  
  img {
    width: 100%;
    height: 400px;
    object-fit: cover;
    transition: transform 0.6s ease;
  }
  
  &:hover img {
    transform: scale(1.05);
  }
  
  @media (max-width: 768px) {
    transform: none;
    border-radius: 16px;
    
    &:hover {
      transform: translateY(-5px);
    }
    
    img {
      height: 280px;
    }
  }
`,dh=F(ih)`
  font-size: 4rem !important;
  font-weight: 800 !important;
  line-height: 1.1 !important;
  margin-bottom: 24px !important;
  color: white !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  
  background: linear-gradient(135deg, #ffffff 0%, #f0f0f0 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  
  @media (max-width: 1200px) {
    font-size: 3.5rem !important;
  }
  
  @media (max-width: 768px) {
    font-size: 2.8rem !important;
    text-align: center;
  }
  
  @media (max-width: 480px) {
    font-size: 2.2rem !important;
  }
`,uh=F(sh)`
  font-size: 1.3rem !important;
  line-height: 1.6 !important;
  margin-bottom: 40px !important;
  color: rgba(255, 255, 255, 0.9) !important;
  font-weight: 400 !important;
  max-width: 600px;
  
  @media (max-width: 768px) {
    font-size: 1.1rem !important;
    text-align: center;
    margin: 0 auto 32px !important;
  }
  
  @media (max-width: 480px) {
    font-size: 1rem !important;
  }
`,hh=F(de)`
  @media (max-width: 768px) {
    width: 100%;
    justify-content: center;
    
    .ant-space-item {
      display: flex;
      justify-content: center;
    }
  }
`,ph=F(K)`
  height: 56px !important;
  padding: 0 32px !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  border-radius: 12px !important;
  border: none !important;
  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%) !important;
  box-shadow: 
    0 8px 25px rgba(238, 90, 36, 0.3),
    0 3px 10px rgba(0, 0, 0, 0.2) !important;
  transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1) !important;
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
  }
  
  &:hover {
    transform: translateY(-3px) !important;
    box-shadow: 
      0 12px 35px rgba(238, 90, 36, 0.4),
      0 5px 15px rgba(0, 0, 0, 0.3) !important;
    background: linear-gradient(135deg, #ff5252 0%, #d63031 100%) !important;
    
    &::before {
      left: 100%;
    }
  }
  
  &:active {
    transform: translateY(-1px) !important;
  }
  
  @media (max-width: 768px) {
    width: 100%;
    max-width: 280px;
  }
`,fh=F(K)`
  height: 56px !important;
  padding: 0 32px !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  border-radius: 12px !important;
  background: rgba(255, 255, 255, 0.1) !important;
  border: 2px solid rgba(255, 255, 255, 0.3) !important;
  color: white !important;
  backdrop-filter: blur(10px);
  transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1) !important;
  
  &:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
    color: white !important;
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
  }
  
  &:active {
    transform: translateY(-1px) !important;
  }
  
  @media (max-width: 768px) {
    width: 100%;
    max-width: 280px;
  }
`,gh=F.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1;
  
  .floating-shape {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    animation: float 6s ease-in-out infinite;
    
    &:nth-of-type(1) {
      width: 80px;
      height: 80px;
      top: 20%;
      left: 10%;
      animation-delay: 0s;
    }
    
    &:nth-of-type(2) {
      width: 120px;
      height: 120px;
      top: 60%;
      right: 15%;
      animation-delay: 2s;
    }
    
    &:nth-of-type(3) {
      width: 60px;
      height: 60px;
      top: 80%;
      left: 20%;
      animation-delay: 4s;
    }
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
      opacity: 0.7;
    }
    50% {
      transform: translateY(-20px) rotate(180deg);
      opacity: 1;
    }
  }
  
  @media (max-width: 768px) {
    display: none;
  }
`,mh=({onRegisterClick:r,isAuthenticated:e=!1})=>{const n=Ke();return t.jsxs(oh,{children:[t.jsxs(gh,{children:[t.jsx("div",{className:"floating-shape"}),t.jsx("div",{className:"floating-shape"}),t.jsx("div",{className:"floating-shape"})]}),t.jsx(ah,{}),t.jsx(lh,{children:t.jsxs(Ce,{gutter:[48,48],align:"middle",style:{minHeight:"60vh"},children:[t.jsx(oe,{xs:24,lg:13,xl:12,children:t.jsxs("div",{style:{animation:"fadeInUp 1s ease-out",animationFillMode:"both"},children:[t.jsx(dh,{level:1,children:"Transform Your Exhibition Experience"}),t.jsx(uh,{children:"Discover premium exhibition spaces, visualize your perfect stall placement, and book with confidence. Join thousands of successful exhibitors who trust our platform for their business growth."}),t.jsxs(hh,{size:16,wrap:!0,direction:"vertical",children:[t.jsx(ph,{onClick:()=>n("/exhibitions"),icon:t.jsx(Oe,{}),children:"Explore Exhibitions"}),t.jsx(fh,{onClick:r,icon:t.jsx(Be,{}),children:e?"Go to Dashboard":"Start Your Journey"})]})]})}),t.jsx(oe,{xs:24,lg:11,xl:12,children:t.jsxs("div",{style:{animation:"fadeInRight 1s ease-out 0.3s",animationFillMode:"both",opacity:0},children:[t.jsx(ch,{children:t.jsx("img",{src:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?auto=format&fit=crop&q=80&w=1200&ixlib=rb-4.0.3",alt:"Modern Exhibition Hall",onError:i=>{const s=i.target;s.src="https://images.unsplash.com/photo-1559223607-a43f990c43d5?auto=format&fit=crop&q=80&w=1200&ixlib=rb-4.0.3",s.onerror=()=>{s.src="https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&q=80&w=1200&ixlib=rb-4.0.3",s.onerror=null}}})}),t.jsx("div",{style:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px 20px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",animation:"fadeInDown 1s ease-out 0.8s",animationFillMode:"both",opacity:0,zIndex:2},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"18px"},children:t.jsx(Oe,{})}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"bold",color:"#333",fontSize:"18px"},children:"10,000+"}),t.jsx("div",{style:{color:"#666",fontSize:"12px"},children:"Happy Exhibitors"})]})]})}),t.jsx("div",{style:{position:"absolute",bottom:"20px",left:"20px",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px 20px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.1)",animation:"fadeInUp 1s ease-out 1s",animationFillMode:"both",opacity:0,zIndex:2},children:t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"18px"},children:t.jsx(Ue,{})}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"bold",color:"#333",fontSize:"18px"},children:"50+"}),t.jsx("div",{style:{color:"#666",fontSize:"12px"},children:"Exhibitions"})]})]})})]})})]})}),t.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes fadeInRight {
          from {
            opacity: 0;
            transform: translateX(30px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
        
        @keyframes fadeInDown {
          from {
            opacity: 0;
            transform: translateY(-20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @media (max-width: 768px) {
          .hero-stats-card {
            position: static !important;
            margin: 16px 0 !important;
            transform: none !important;
          }
        }
      `})]})},{Title:rt,Paragraph:bt,Text:Ee}=_e,xh=F.div`
  padding: 100px 0;
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23667eea' fill-opacity='0.03'%3E%3Cpath d='M20 20c0-5.5-4.5-10-10-10s-10 4.5-10 10 4.5 10 10 10 10-4.5 10-10zm10 0c0-5.5-4.5-10-10-10s-10 4.5-10 10 4.5 10 10 10 10-4.5 10-10z'/%3E%3C/g%3E%3C/svg%3E");
    z-index: 1;
  }
  
  @media (max-width: 768px) {
    padding: 80px 0;
  }
`,bh=F.div`
  position: relative;
  z-index: 2;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 24px;
  
  @media (max-width: 768px) {
    padding: 0 16px;
  }
`,yh=F(rt)`
  text-align: center;
  margin-bottom: 20px !important;
  font-size: 3rem !important;
  font-weight: 700 !important;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  
  @media (max-width: 768px) {
    font-size: 2.5rem !important;
  }
  
  @media (max-width: 480px) {
    font-size: 2rem !important;
  }
`,vh=F(bt)`
  text-align: center;
  font-size: 1.2rem !important;
  color: #666 !important;
  max-width: 800px;
  margin: 0 auto 60px !important;
  line-height: 1.6 !important;
  
  @media (max-width: 768px) {
    font-size: 1.1rem !important;
    margin-bottom: 40px !important;
  }
`,kn=F(ye)`
  height: 100%;
  border-radius: 20px !important;
  border: none !important;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1) !important;
  transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1) !important;
  background: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(10px) !important;
  
  &:hover {
    transform: translateY(-10px) !important;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15) !important;
  }
  
  .ant-card-body {
    padding: 40px !important;
  }
`,kr=F.div`
  text-align: center;
  padding: 40px 20px;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1);
  height: 100%;
  
  &:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
  }
`,En=F.div`
  width: 80px;
  height: 80px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 24px;
  font-size: 32px;
  color: white;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
`,Cn=F.div`
  text-align: center;
  padding: 30px 20px;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  border-radius: 16px;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;
  height: 100%;
  
  &:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
  }
`,wh=F.div`
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 40px;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
  
  .ant-timeline-item-content {
    margin-left: 20px;
  }
  
  .ant-timeline-item-tail {
    border-left: 2px solid #667eea;
  }
  
  .ant-timeline-item-head {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border: none;
    width: 16px;
    height: 16px;
  }
`,jh=()=>t.jsx(xh,{children:t.jsxs(bh,{children:[t.jsxs("div",{style:{marginBottom:"80px"},children:[t.jsx(yh,{level:2,children:"About Aakar"}),t.jsx(vh,{children:"Transforming the exhibition industry through innovation, expertise, and unwavering commitment to excellence since 1998."})]}),t.jsxs(Ce,{gutter:[40,40],style:{marginBottom:"100px"},children:[t.jsx(oe,{xs:24,lg:12,children:t.jsxs(kn,{children:[t.jsx(En,{children:t.jsx(ss,{})}),t.jsx(rt,{level:3,style:{textAlign:"center",marginBottom:"24px",color:"#333"},children:"Our Mission"}),t.jsx(bt,{style:{fontSize:"16px",lineHeight:"1.8",color:"#666",textAlign:"center"},children:"Aakar Exhibition is about Knowledge, Ideas, Evaluations and Implementation in creating world class exhibitions - a marketplace where we bring together end users, traders & manufacturers under one roof to do business and get inspiration."}),t.jsx(bt,{style:{fontSize:"16px",lineHeight:"1.8",color:"#666",textAlign:"center"},children:"Our industry insight, coupled with our innovative and entrepreneurial approach provides the opportunity for business advantage."})]})}),t.jsx(oe,{xs:24,lg:12,children:t.jsxs(kn,{children:[t.jsx(En,{children:t.jsx(os,{})}),t.jsx(rt,{level:3,style:{textAlign:"center",marginBottom:"24px",color:"#333"},children:"Our Values"}),t.jsx(bt,{style:{fontSize:"16px",lineHeight:"1.8",color:"#666",textAlign:"center"},children:"Everything we do is driven by our customers' needs. We are their indispensable partner and have a passion for understanding our client, reaching and fulfilling our customers expectations."}),t.jsx(bt,{style:{fontSize:"16px",lineHeight:"1.8",color:"#666",textAlign:"center"},children:"We are committed to providing demonstrably superior products and services with the highest level of quality and excellence."})]})})]}),t.jsxs("div",{style:{marginBottom:"100px"},children:[t.jsx(rt,{level:3,style:{textAlign:"center",marginBottom:"50px",color:"#333"},children:"Our Impact Since 1998"}),t.jsxs(Ce,{gutter:[30,30],children:[t.jsx(oe,{xs:12,sm:6,children:t.jsxs(kr,{children:[t.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",color:"white",fontSize:"24px"},children:t.jsx(Ue,{})}),t.jsx(gr,{value:50,suffix:"+",valueStyle:{color:"#333",fontWeight:"bold",fontSize:"2rem"}}),t.jsx(Ee,{style:{color:"#666",fontSize:"14px"},children:"Exhibitions Organized"})]})}),t.jsx(oe,{xs:12,sm:6,children:t.jsxs(kr,{children:[t.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",color:"white",fontSize:"24px"},children:t.jsx(Oe,{})}),t.jsx(gr,{value:1e4,suffix:"+",valueStyle:{color:"#333",fontWeight:"bold",fontSize:"2rem"}}),t.jsx(Ee,{style:{color:"#666",fontSize:"14px"},children:"Exhibitors Served"})]})}),t.jsx(oe,{xs:12,sm:6,children:t.jsxs(kr,{children:[t.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"linear-gradient(135deg, #52c41a 0%, #389e0d 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",color:"white",fontSize:"24px"},children:t.jsx(yl,{})}),t.jsx(gr,{value:20,suffix:"+",valueStyle:{color:"#333",fontWeight:"bold",fontSize:"2rem"}}),t.jsx(Ee,{style:{color:"#666",fontSize:"14px"},children:"Trade Associations"})]})}),t.jsx(oe,{xs:12,sm:6,children:t.jsxs(kr,{children:[t.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"linear-gradient(135deg, #fa8c16 0%, #d46b08 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",color:"white",fontSize:"24px"},children:t.jsx(Yr,{})}),t.jsx(gr,{value:1e6,suffix:"+",valueStyle:{color:"#333",fontWeight:"bold",fontSize:"1.8rem"}}),t.jsx(Ee,{style:{color:"#666",fontSize:"14px"},children:"Trade Visitors"})]})})]})]}),t.jsxs("div",{style:{marginBottom:"100px"},children:[t.jsx(rt,{level:3,style:{textAlign:"center",marginBottom:"50px",color:"#333"},children:"What Drives Us"}),t.jsxs(Ce,{gutter:[30,30],children:[t.jsx(oe,{xs:24,sm:12,lg:8,children:t.jsxs(Cn,{children:[t.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"white",fontSize:"20px"},children:t.jsx(vl,{})}),t.jsx(rt,{level:5,style:{marginBottom:"16px",color:"#333"},children:"Excellence"}),t.jsx(bt,{style:{color:"#666",fontSize:"14px",margin:0},children:"We strive to be professional in all our client dealings and are highly valued and respected by our clients."})]})}),t.jsx(oe,{xs:24,sm:12,lg:8,children:t.jsxs(Cn,{children:[t.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"white",fontSize:"20px"},children:t.jsx(os,{})}),t.jsx(rt,{level:5,style:{marginBottom:"16px",color:"#333"},children:"Customer Focus"}),t.jsx(bt,{style:{color:"#666",fontSize:"14px",margin:0},children:"Everything we do is driven by our customers' needs. We are their indispensable partner."})]})}),t.jsx(oe,{xs:24,sm:12,lg:8,children:t.jsxs(Cn,{children:[t.jsx("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"linear-gradient(135deg, #52c41a 0%, #389e0d 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",color:"white",fontSize:"20px"},children:t.jsx(ss,{})}),t.jsx(rt,{level:5,style:{marginBottom:"16px",color:"#333"},children:"Innovation"}),t.jsx(bt,{style:{color:"#666",fontSize:"14px",margin:0},children:"Our innovative and entrepreneurial approach provides opportunities for business advantage."})]})})]})]}),t.jsxs(Ce,{gutter:[40,40],children:[t.jsx(oe,{xs:24,lg:12,children:t.jsxs(wh,{children:[t.jsx(rt,{level:4,style:{marginBottom:"30px",color:"#333",textAlign:"center"},children:"Our Journey"}),t.jsxs(kt,{children:[t.jsx(kt.Item,{children:t.jsxs("div",{children:[t.jsx(Ee,{strong:!0,style:{color:"#667eea"},children:"1998"}),t.jsx("br",{}),t.jsx(Ee,{children:"Founded with a vision to revolutionize the exhibition industry"})]})}),t.jsx(kt.Item,{children:t.jsxs("div",{children:[t.jsx(Ee,{strong:!0,style:{color:"#667eea"},children:"2005"}),t.jsx("br",{}),t.jsx(Ee,{children:"Expanded to serve multiple trade associations"})]})}),t.jsx(kt.Item,{children:t.jsxs("div",{children:[t.jsx(Ee,{strong:!0,style:{color:"#667eea"},children:"2010"}),t.jsx("br",{}),t.jsx(Ee,{children:"Reached milestone of 25 successful exhibitions"})]})}),t.jsx(kt.Item,{children:t.jsxs("div",{children:[t.jsx(Ee,{strong:!0,style:{color:"#667eea"},children:"2015"}),t.jsx("br",{}),t.jsx(Ee,{children:"Served over 5,000 exhibitors across various industries"})]})}),t.jsx(kt.Item,{children:t.jsxs("div",{children:[t.jsx(Ee,{strong:!0,style:{color:"#667eea"},children:"2020"}),t.jsx("br",{}),t.jsx(Ee,{children:"Launched digital platform for seamless exhibition management"})]})}),t.jsx(kt.Item,{children:t.jsxs("div",{children:[t.jsx(Ee,{strong:!0,style:{color:"#667eea"},children:"Today"}),t.jsx("br",{}),t.jsx(Ee,{children:"Leading the industry with 50+ exhibitions and 10,000+ satisfied exhibitors"})]})})]})]})}),t.jsx(oe,{xs:24,lg:12,children:t.jsxs(kn,{children:[t.jsx(En,{children:t.jsx(wl,{})}),t.jsx(rt,{level:3,style:{textAlign:"center",marginBottom:"24px",color:"#333"},children:"Why Choose Aakar?"}),t.jsxs("div",{style:{textAlign:"left"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[t.jsx(dt,{style:{color:"#52c41a",marginRight:"12px",fontSize:"16px"}}),t.jsx(Ee,{children:"25+ years of industry expertise"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[t.jsx(dt,{style:{color:"#52c41a",marginRight:"12px",fontSize:"16px"}}),t.jsx(Ee,{children:"Proven track record with 50+ successful exhibitions"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[t.jsx(dt,{style:{color:"#52c41a",marginRight:"12px",fontSize:"16px"}}),t.jsx(Ee,{children:"Strong network of 20+ trade associations"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[t.jsx(dt,{style:{color:"#52c41a",marginRight:"12px",fontSize:"16px"}}),t.jsx(Ee,{children:"Customer-centric approach with personalized service"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"16px"},children:[t.jsx(dt,{style:{color:"#52c41a",marginRight:"12px",fontSize:"16px"}}),t.jsx(Ee,{children:"Innovative digital platform for seamless booking"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx(dt,{style:{color:"#52c41a",marginRight:"12px",fontSize:"16px"}}),t.jsx(Ee,{children:"Commitment to quality and excellence"})]})]})]})})]})]})}),{Title:Hi,Paragraph:Wi,Text:$s}=_e,Sh=r=>r?r.startsWith("http")?r:r.startsWith("/")?`${G.defaults.baseURL}${r}`:`${G.defaults.baseURL}/public/images/${r}`:"https://images.unsplash.com/photo-1540575467063-178a50c2df87?auto=format&fit=crop&q=80&w=400&h=200",kh=F.div`
  padding: 120px 0;
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23667eea' fill-opacity='0.02'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
    z-index: 1;
  }
  
  @media (max-width: 768px) {
    padding: 80px 0;
  }
`,Eh=F.div`
  position: relative;
  z-index: 2;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 24px;
  
  @media (max-width: 768px) {
    padding: 0 16px;
  }
`,Ch=F.div`
  text-align: center;
  margin-bottom: 80px;
  
  @media (max-width: 768px) {
    margin-bottom: 60px;
  }
`,Ih=F(Hi)`
  margin-bottom: 20px !important;
  font-size: 3rem !important;
  font-weight: 700 !important;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  
  @media (max-width: 768px) {
    font-size: 2.5rem !important;
  }
  
  @media (max-width: 480px) {
    font-size: 2rem !important;
  }
`,_h=F(Wi)`
  font-size: 1.2rem !important;
  color: #666 !important;
  max-width: 600px;
  margin: 0 auto !important;
  line-height: 1.6 !important;
  
  @media (max-width: 768px) {
    font-size: 1.1rem !important;
  }
`,Rh=F(ye)`
  height: 100%;
  border-radius: 24px !important;
  overflow: hidden !important;
  transition: all 0.4s cubic-bezier(0.23, 1, 0.320, 1) !important;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08) !important;
  border: none !important;
  cursor: pointer;
  background: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(10px) !important;
  position: relative;
  
  &:hover {
    transform: translateY(-15px) !important;
    box-shadow: 0 25px 50px rgba(0, 0, 0, 0.15) !important;
  }
  
  .ant-card-cover {
    overflow: hidden;
    position: relative;
  }
  
  .ant-card-cover img {
    transition: transform 0.6s ease !important;
    filter: brightness(0.95);
  }
  
  &:hover .ant-card-cover img {
    transform: scale(1.08) !important;
    filter: brightness(1);
  }
  
  .ant-card-body {
    padding: 30px !important;
    position: relative;
  }
`,Th=F.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    180deg,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.1) 50%,
    rgba(0, 0, 0, 0.3) 100%
  );
  z-index: 1;
`,Ah=F.div`
  position: absolute;
  top: 16px;
  right: 16px;
  z-index: 10;
  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
  color: white;
  padding: 8px 16px;
  border-radius: 50px;
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
  animation: pulse 2s infinite;
  
  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }
`,Ph=F.div`
  position: absolute;
  top: 16px;
  left: 16px;
  z-index: 10;
  padding: 6px 14px;
  border-radius: 50px;
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  backdrop-filter: blur(10px);
  
  ${r=>{switch(r.status){case"Active":return`
          background: rgba(82, 196, 26, 0.9);
          color: white;
          box-shadow: 0 4px 15px rgba(82, 196, 26, 0.3);
        `;case"Upcoming":return`
          background: rgba(114, 46, 209, 0.9);
          color: white;
          box-shadow: 0 4px 15px rgba(114, 46, 209, 0.3);
        `;default:return`
          background: rgba(140, 140, 140, 0.9);
          color: white;
          box-shadow: 0 4px 15px rgba(140, 140, 140, 0.3);
        `}}}
`,Nh=F(Hi)`
  margin-bottom: 16px !important;
  font-size: 1.4rem !important;
  font-weight: 600 !important;
  color: #333 !important;
  line-height: 1.3 !important;
  min-height: 56px;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
`,Ds=F.div`
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
  color: #666;
  font-size: 14px;
  
  .anticon {
    color: #667eea;
    font-size: 16px;
  }
`,zh=F(Wi)`
  color: #666 !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  margin-bottom: 20px !important;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  min-height: 42px;
`,$h=F.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-top: 16px;
  border-top: 1px solid #f0f0f0;
`,Dh=F(K)`
  border: none !important;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  color: white !important;
  border-radius: 8px !important;
  font-weight: 500 !important;
  height: 36px !important;
  padding: 0 16px !important;
  display: flex !important;
  align-items: center !important;
  gap: 6px !important;
  transition: all 0.3s ease !important;
  
  &:hover {
    transform: translateY(-2px) !important;
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.3) !important;
    background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%) !important;
  }
`;F.div`
  text-align: center;
  margin-top: 80px;
  padding: 60px 40px;
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(20px);
  border-radius: 24px;
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
  
  @media (max-width: 768px) {
    margin-top: 60px;
    padding: 40px 20px;
  }
`;const Mh=F(K)`
  height: 56px !important;
  padding: 0 40px !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  border-radius: 12px !important;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  border: none !important;
  box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3) !important;
  transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1) !important;
  
  &:hover {
    transform: translateY(-3px) !important;
    box-shadow: 0 12px 35px rgba(102, 126, 234, 0.4) !important;
    background: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%) !important;
  }
  
  @media (max-width: 768px) {
    width: 100%;
    max-width: 300px;
  }
`,Fh=F.div`
  text-align: center;
  padding: 80px 20px;
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(20px);
  border-radius: 24px;
  border: 1px solid rgba(255, 255, 255, 0.2);
`,Lh=F.div`
  width: 80px;
  height: 80px;
  margin: 0 auto 24px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 32px;
  color: white;
`,Bh=()=>{const r=Ke(),[e,n]=u.useState([]),[i,s]=u.useState(!0);u.useEffect(()=>{(async()=>{try{s(!0);const g=(await ut.getExhibitions()).data||[];n(g.slice(0,4))}catch(m){console.error("Failed to fetch exhibitions:",m)}finally{s(!1)}})()},[]);const o=p=>{const m={year:"numeric",month:"short",day:"numeric"};return new Date(p).toLocaleDateString(void 0,m)},h=(p,m)=>{const g=new Date,E=new Date(p),j=new Date(m);return g<E?{status:"Upcoming",color:"#722ED1"}:g>j?{status:"Completed",color:"#8C8C8C"}:{status:"Active",color:"#52C41A"}};return t.jsx(kh,{children:t.jsxs(Eh,{children:[t.jsxs(Ch,{children:[t.jsx(Ih,{level:2,children:"Featured Exhibitions"}),t.jsx(_h,{children:"Discover premium exhibition opportunities and secure your perfect space at industry-leading events"})]}),i?t.jsx(Ce,{gutter:[32,32],children:[1,2,3,4].map(p=>t.jsx(oe,{xs:24,sm:12,lg:6,children:t.jsx(ye,{style:{borderRadius:"24px",height:"400px",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)"},children:t.jsx(jl,{active:!0,avatar:!0,paragraph:{rows:4}})})},p))}):e.length>0?t.jsx(Ce,{gutter:[32,32],children:e.map((p,m)=>{const{status:g}=h(p.startDate,p.endDate);return t.jsx(oe,{xs:24,sm:12,lg:6,children:t.jsxs(Rh,{onClick:()=>r(Vo(p)),cover:t.jsxs("div",{style:{height:200,overflow:"hidden",position:"relative"},children:[t.jsx("img",{alt:p.name,src:Sh(p.headerLogo),style:{width:"100%",height:"100%",objectFit:"contain"},onError:E=>{const j=E.target;j.src="https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&q=80&w=400&h=200"}}),t.jsx(Th,{}),t.jsx(Ph,{status:g,children:g}),m===0&&t.jsx(Ah,{children:"Featured"})]}),hoverable:!0,children:[t.jsx(Nh,{level:5,children:p.name}),t.jsxs(Ds,{children:[t.jsx(Ue,{}),t.jsxs($s,{children:[o(p.startDate)," - ",o(p.endDate)]})]}),p.venue&&t.jsxs(Ds,{children:[t.jsx(Wt,{}),t.jsx($s,{ellipsis:!0,style:{flex:1},children:p.venue})]}),t.jsx(zh,{children:p.description||"Join us for an exciting exhibition experience with industry leaders and innovative solutions."}),t.jsxs($h,{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#666",fontSize:"12px"},children:[t.jsx(Be,{style:{fontSize:"14px"}}),t.jsx("span",{children:"Open for booking"})]}),t.jsx(Dh,{icon:t.jsx(Sl,{}),children:"View Details"})]})]})},p._id)})}):t.jsxs(Fh,{children:[t.jsx(Lh,{children:t.jsx(Ue,{})}),t.jsx(Hi,{level:4,style:{color:"#666",marginBottom:"16px"},children:"No Exhibitions Available"}),t.jsx(Wi,{style:{fontSize:"16px",color:"#666",marginBottom:"24px"},children:"We're working on bringing you exciting exhibition opportunities. Check back soon!"}),t.jsx(K,{type:"primary",size:"large",onClick:()=>r("/exhibitions"),style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",border:"none",borderRadius:"8px"},children:"Browse All Exhibitions"})]}),e.length>0&&t.jsx("div",{style:{textAlign:"center",marginTop:"60px"},children:t.jsx(Mh,{onClick:()=>r("/exhibitions"),icon:t.jsx(kl,{}),children:"View All Exhibitions"})})]})})},{Title:Ho,Paragraph:Wo}=_e,Oh=F.div`
  padding: 100px 0;
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
  
  @media (max-width: 768px) {
    padding: 80px 0;
  }
`,qh=F.div`
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 24px;
  
  @media (max-width: 768px) {
    padding: 0 16px;
  }
`,Uh=F(Ho)`
  text-align: center;
  margin-bottom: 20px !important;
  font-size: 2.5rem !important;
  font-weight: 700 !important;
  color: #333 !important;
  
  @media (max-width: 768px) {
    font-size: 2rem !important;
  }
`,Vh=F(Wo)`
  text-align: center;
  font-size: 1.2rem !important;
  color: #666 !important;
  max-width: 700px;
  margin: 0 auto 60px !important;
  line-height: 1.6 !important;
  
  @media (max-width: 768px) {
    font-size: 1.1rem !important;
    margin-bottom: 40px !important;
  }
`,Hh=F(ye)`
  height: 100%;
  border-radius: 20px !important;
  overflow: hidden !important;
  transition: all 0.4s cubic-bezier(0.23, 1, 0.320, 1) !important;
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08) !important;
  border: none !important;
  background: rgba(255, 255, 255, 0.9) !important;
  backdrop-filter: blur(10px) !important;
  
  &:hover {
    transform: translateY(-12px) !important;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15) !important;
  }
  
  .ant-card-body {
    padding: 40px 30px !important;
    text-align: center;
  }
`,Wh=F.div`
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  margin: 0 auto 24px;
  font-size: 32px;
  color: white;
  position: relative;
  
  &::before {
    content: '';
    position: absolute;
    top: -4px;
    left: -4px;
    right: -4px;
    bottom: -4px;
    border-radius: 50%;
    background: linear-gradient(135deg, transparent, rgba(255, 255, 255, 0.3));
    z-index: -1;
  }
`,Qh=F(Ho)`
  margin-bottom: 16px !important;
  font-size: 1.3rem !important;
  font-weight: 600 !important;
  color: #333 !important;
`,Yh=F(Wo)`
  font-size: 15px !important;
  line-height: 1.6 !important;
  color: #666 !important;
  margin: 0 !important;
`,Gh=[{icon:t.jsx(zi,{}),title:"Interactive Layout Builder",description:"Visualize and design your exhibition space with our intuitive drag-and-drop layout builder. See exactly where your stall will be positioned.",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",shadowColor:"rgba(102, 126, 234, 0.3)"},{icon:t.jsx(Oe,{}),title:"Smart Stall Selection",description:"Choose from available stalls with real-time pricing, amenities, and location details. Book multiple stalls with ease.",gradient:"linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%)",shadowColor:"rgba(255, 107, 107, 0.3)"},{icon:t.jsx(lr,{}),title:"Exhibitor Dashboard",description:"Manage all your bookings, payments, and exhibition details through our comprehensive exhibitor dashboard.",gradient:"linear-gradient(135deg, #52c41a 0%, #389e0d 100%)",shadowColor:"rgba(82, 196, 26, 0.3)"},{icon:t.jsx(Ue,{}),title:"Schedule Management",description:"Keep track of important dates, setup times, and exhibition schedules all in one organized place.",gradient:"linear-gradient(135deg, #fa8c16 0%, #d46b08 100%)",shadowColor:"rgba(250, 140, 22, 0.3)"},{icon:t.jsx(El,{}),title:"Secure Payments",description:"Process payments securely with multiple payment options and get instant booking confirmations.",gradient:"linear-gradient(135deg, #722ed1 0%, #531dab 100%)",shadowColor:"rgba(114, 46, 209, 0.3)"},{icon:t.jsx(Yr,{}),title:"Multi-User Access",description:"Collaborate with your team members and manage multiple exhibitions from a single account.",gradient:"linear-gradient(135deg, #13c2c2 0%, #08979c 100%)",shadowColor:"rgba(19, 194, 194, 0.3)"},{icon:t.jsx(dt,{}),title:"Real-time Updates",description:"Get instant notifications about booking status, payment confirmations, and important exhibition updates.",gradient:"linear-gradient(135deg, #1890ff 0%, #096dd9 100%)",shadowColor:"rgba(24, 144, 255, 0.3)"},{icon:t.jsx(Cl,{}),title:"24/7 Support",description:"Get expert assistance throughout the booking process and during exhibitions with our dedicated support team.",gradient:"linear-gradient(135deg, #eb2f96 0%, #c41d7f 100%)",shadowColor:"rgba(235, 47, 150, 0.3)"}],Kh=()=>t.jsx(Oh,{children:t.jsxs(qh,{children:[t.jsx(Uh,{level:2,children:"Why Choose Our Platform?"}),t.jsx(Vh,{children:"Discover the powerful features that make exhibition booking simple, efficient, and enjoyable for exhibitors worldwide."}),t.jsx(Ce,{gutter:[30,30],children:Gh.map((r,e)=>t.jsx(oe,{xs:24,sm:12,lg:6,children:t.jsxs(Hh,{children:[t.jsx(Wh,{style:{background:r.gradient,boxShadow:`0 8px 25px ${r.shadowColor}`},children:r.icon}),t.jsx(Qh,{level:4,children:r.title}),t.jsx(Yh,{children:r.description})]})},e))})]})}),{Title:Xh,Paragraph:Jh}=_e,Zh=F.div`
  padding: 100px 0;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.05) 0%, transparent 50%);
    z-index: 1;
  }
  
  @media (max-width: 768px) {
    padding: 80px 0;
  }
`,ep=F.div`
  position: relative;
  z-index: 2;
  max-width: 1000px;
  margin: 0 auto;
  padding: 60px 24px;
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
  border-radius: 24px;
  color: white;
  text-align: center;
  box-shadow: 
    0 25px 50px rgba(0, 0, 0, 0.1),
    0 0 0 1px rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.1);
  
  @media (max-width: 768px) {
    padding: 40px 16px;
    border-radius: 20px;
  }
`,tp=F(Xh)`
  color: white !important;
  margin-bottom: 20px !important;
  font-size: 2.5rem !important;
  font-weight: 700 !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  
  @media (max-width: 768px) {
    font-size: 2rem !important;
  }
  
  @media (max-width: 480px) {
    font-size: 1.8rem !important;
  }
`,rp=F(Jh)`
  font-size: 1.3rem !important;
  margin-bottom: 40px !important;
  color: rgba(255, 255, 255, 0.9) !important;
  line-height: 1.6 !important;
  max-width: 600px;
  margin-left: auto !important;
  margin-right: auto !important;
  
  @media (max-width: 768px) {
    font-size: 1.1rem !important;
    margin-bottom: 32px !important;
  }
`,np=F(de)`
  @media (max-width: 768px) {
    width: 100%;
    
    .ant-space-item {
      display: flex;
      justify-content: center;
      width: 100%;
    }
  }
`,ip=F(K)`
  height: 56px !important;
  padding: 0 40px !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  border-radius: 12px !important;
  border: none !important;
  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%) !important;
  box-shadow: 
    0 8px 25px rgba(255, 107, 107, 0.3),
    0 3px 10px rgba(0, 0, 0, 0.2) !important;
  transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1) !important;
  position: relative;
  overflow: hidden;
  
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.5s;
  }
  
  &:hover {
    transform: translateY(-3px) !important;
    box-shadow: 
      0 12px 35px rgba(255, 107, 107, 0.4),
      0 5px 15px rgba(0, 0, 0, 0.3) !important;
    background: linear-gradient(135deg, #ff5252 0%, #d63031 100%) !important;
    
    &::before {
      left: 100%;
    }
  }
  
  &:active {
    transform: translateY(-1px) !important;
  }
  
  @media (max-width: 768px) {
    width: 100%;
    max-width: 300px;
  }
`,sp=F(K)`
  height: 56px !important;
  padding: 0 40px !important;
  font-size: 16px !important;
  font-weight: 600 !important;
  border-radius: 12px !important;
  background: rgba(255, 255, 255, 0.1) !important;
  border: 2px solid rgba(255, 255, 255, 0.3) !important;
  color: white !important;
  backdrop-filter: blur(10px);
  transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1) !important;
  
  &:hover {
    background: rgba(255, 255, 255, 0.2) !important;
    border-color: rgba(255, 255, 255, 0.5) !important;
    color: white !important;
    transform: translateY(-3px) !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15) !important;
  }
  
  &:active {
    transform: translateY(-1px) !important;
  }
  
  @media (max-width: 768px) {
    width: 100%;
    max-width: 300px;
  }
`,op=F.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1;
  
  .shape {
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.1);
    animation: float 8s ease-in-out infinite;
    
    &:nth-of-type(1) {
      width: 100px;
      height: 100px;
      top: 10%;
      left: 5%;
      animation-delay: 0s;
    }
    
    &:nth-of-type(2) {
      width: 150px;
      height: 150px;
      top: 70%;
      right: 10%;
      animation-delay: 3s;
    }
    
    &:nth-of-type(3) {
      width: 80px;
      height: 80px;
      top: 30%;
      right: 20%;
      animation-delay: 6s;
    }
  }
  
  @keyframes float {
    0%, 100% {
      transform: translateY(0px) rotate(0deg);
      opacity: 0.5;
    }
    50% {
      transform: translateY(-30px) rotate(180deg);
      opacity: 0.8;
    }
  }
  
  @media (max-width: 768px) {
    display: none;
  }
`,ap=({onRegisterClick:r,isAuthenticated:e=!1})=>{const n=Ke();return t.jsxs(Zh,{children:[t.jsxs(op,{children:[t.jsx("div",{className:"shape"}),t.jsx("div",{className:"shape"}),t.jsx("div",{className:"shape"})]}),t.jsx("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"0 24px"},children:t.jsxs(ep,{children:[t.jsx(tp,{level:2,children:"Ready to Showcase Your Business?"}),t.jsx(rp,{children:"Join thousands of successful exhibitors and book your perfect stall today. Experience the future of exhibition management with our innovative platform."}),t.jsxs(np,{size:20,wrap:!0,direction:"vertical",children:[t.jsx(ip,{onClick:()=>n("/exhibitions"),icon:t.jsx(Oe,{}),children:"Browse Exhibitions"}),t.jsx(sp,{onClick:r,icon:t.jsx(Be,{}),children:e?"Go to Dashboard":"Register as Exhibitor"})]})]})})]})},{Content:lp}=Se,cp=F(lp)`
  padding-top: 64px;
`,dp=()=>{const r=ft(),e=Ke(),{isAuthenticated:n}=De(s=>s.exhibitorAuth),i=()=>{n?e("/exhibitor/dashboard"):r(Nt(void 0))};return t.jsxs(Se,{children:[t.jsx(tt,{}),t.jsxs(cp,{children:[t.jsx(mh,{onRegisterClick:i,isAuthenticated:n}),t.jsx(jh,{}),t.jsx(Bh,{}),t.jsx(Kh,{}),t.jsx(ap,{onRegisterClick:i,isAuthenticated:n})]}),t.jsx(Uo,{})]})},up=u.lazy(()=>se(()=>import("./Dashboard-YxXT8fBe.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),hp=u.lazy(()=>se(()=>import("./Dashboard-Us_y5YJd.js"),__vite__mapDeps([7,1,2,3,4,5]))),pp=u.lazy(()=>se(()=>import("./Bookings-CxRXm8KK.js"),__vite__mapDeps([8,1,2,3,4,5]))),fp=u.lazy(()=>se(()=>import("./BookingDetails-vTmHLqKC.js"),__vite__mapDeps([9,1,2,3,4,5]))),gp=u.lazy(()=>se(()=>import("./Profile-CKG_TRy_.js"),__vite__mapDeps([10,1,2,3,4,5]))),mp=u.lazy(()=>se(()=>import("./InvoiceDetails-BZpLvHon.js"),__vite__mapDeps([11,1,12,13,2,3,4,5]))),xp=u.lazy(()=>se(()=>import("./Support-MHgl-QUD.js"),__vite__mapDeps([14,1,2,3,4,5]))),bp=u.lazy(()=>se(()=>import("./Profile-d0A1SXrh.js"),__vite__mapDeps([15,1,2,3,4,5]))),yp=u.lazy(()=>se(()=>import("./Settings-CfMbPSAN.js"),__vite__mapDeps([16,1,2,3,4,5,6]))),vp=u.lazy(()=>se(()=>import("./index-BXtLtLJb.js"),__vite__mapDeps([17,1,2,18,3,4,5]))),wp=u.lazy(()=>se(()=>import("./index-YWSPBFQy.js"),__vite__mapDeps([19,1,2,18,3,4,5]))),jp=u.lazy(()=>se(()=>import("./index-ByFQhY9J.js"),__vite__mapDeps([20,1,2,3,4,5]))),Sp=u.lazy(()=>se(()=>import("./index-CwRqVgWY.js"),__vite__mapDeps([21,1,2,18,3,4,5,6]))),kp=u.lazy(()=>se(()=>import("./index-a7hnwTmY.js"),__vite__mapDeps([22,1,23,2,3,4,5]))),Ep=u.lazy(()=>se(()=>import("./index-BZfrme1c.js"),__vite__mapDeps([24,1,2,3,4,5]))),Cp=u.lazy(()=>se(()=>import("./edit-pLvllpGl.js"),__vite__mapDeps([25,1,23,2,3,4,5]))),Ip=u.lazy(()=>se(()=>import("./index-3y63KQEg.js"),__vite__mapDeps([26,1,5,2,3,4]))),_p=u.lazy(()=>se(()=>import("./index-BEsjHPE6.js"),__vite__mapDeps([27,1,2,3,4,5]))),Rp=u.lazy(()=>se(()=>import("./index-BNu7vOFn.js"),__vite__mapDeps([28,1,5,2,3,4]))),Tp=u.lazy(()=>se(()=>import("./index-tewCouRR.js"),__vite__mapDeps([29,1,5,2,3,4]))),Ap=u.lazy(()=>se(()=>import("./index-s_53WvO6.js"),__vite__mapDeps([30,1,5,2,3,4]))),Pp=u.lazy(()=>se(()=>import("./index-BX2ht5A7.js"),__vite__mapDeps([31,1,32,2,3,4,5,6]))),Np=u.lazy(()=>se(()=>import("./index-D8_7Uaiu.js"),__vite__mapDeps([33,1,2,3,4,5,6]))),zp=u.lazy(()=>se(()=>import("./index-CWMd8HPD.js"),__vite__mapDeps([34,1,2,18,32,3,4,5,6]))),$p=u.lazy(()=>se(()=>import("./index-th6EnfHB.js"),__vite__mapDeps([35,1,2,3,4,5]))),Dp=u.lazy(()=>se(()=>import("./index-DmUhV5W0.js"),__vite__mapDeps([36,1,12,13,2,3,4,5,37]))),Mp=u.lazy(()=>se(()=>import("./index-n4Mleu_W.js"),__vite__mapDeps([38,1,2,3,4,5]))),Fp=u.lazy(()=>se(()=>import("./index-KBrFkj0o.js"),__vite__mapDeps([39,1,32,2,3,4,5,6]))),Lp=u.lazy(()=>se(()=>import("./index-BiCpm7TV.js"),__vite__mapDeps([40,1,32,2,3,4,5,41]))),Bp=u.lazy(()=>se(()=>import("./index-D9UQfH7i.js"),__vite__mapDeps([42,1,2,3,4,5]))),Op=u.lazy(()=>se(()=>import("./index-BlsmlxCp.js"),__vite__mapDeps([43,1,2,3,4,5,44]))),qp=u.lazy(()=>se(()=>import("./index-BFCmn-gF.js"),__vite__mapDeps([45,1,4,2,3,5,46]))),Up=u.lazy(()=>se(()=>import("./index-BF0EH7LB.js"),__vite__mapDeps([47,1,2,3,4,5,48]))),Vp=u.lazy(()=>se(()=>import("./settings-Cof1ZIrl.js"),__vite__mapDeps([49,1,2,3,4,5,48]))),In=u.lazy(()=>se(()=>import("./public-iVtPi2Oc.js"),__vite__mapDeps([50,1,2,3,4,5,48]))),Hp=u.lazy(()=>se(()=>import("./index-Z_Rb6hXG.js"),__vite__mapDeps([51,1,32,2,3,4,5]))),Wp=u.lazy(()=>se(()=>import("./AboutUs-BmA7fpTk.js"),__vite__mapDeps([52,4,1,2,3,5]))),Qp=u.lazy(()=>se(()=>import("./ContactUs-tOE7MNvV.js"),__vite__mapDeps([53,4,1,2,3,5]))),Yp=u.lazy(()=>se(()=>import("./PricingPolicy-CVNptrg3.js"),__vite__mapDeps([54,4,1,2,3,5]))),Gp=u.lazy(()=>se(()=>import("./TermsConditions-BmfKTjCz.js"),__vite__mapDeps([55,4,1,2,3,5]))),Kp=u.lazy(()=>se(()=>import("./PrivacyPolicy-D7vUvb1G.js"),__vite__mapDeps([56,4,1,2,3,5]))),Xp=u.lazy(()=>se(()=>import("./CancellationRefund-BSvmI64J.js"),__vite__mapDeps([57,4,1,2,3,5]))),Jp=()=>{const r=se(()=>import("./Dashboard-YxXT8fBe.js"),__vite__mapDeps([0,1,2,3,4,5,6])),e=se(()=>import("./index-CWMd8HPD.js"),__vite__mapDeps([34,1,2,18,32,3,4,5,6]));return{preloadDashboard:r,preloadBookingManager:e}};setTimeout(Jp,3e3);const Zp=()=>t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:t.jsx(pt,{size:"large",tip:"Loading..."})}),be=({children:r})=>De(n=>n.auth.isAuthenticated)?r:t.jsx(_i,{to:"/login"}),Ft=({children:r})=>De(n=>n.exhibitorAuth.isAuthenticated)?r:t.jsx(_i,{to:"/"}),Ms=r=>t.jsx(Si,{children:r});function ef(){return t.jsx(Di,{children:t.jsx(Si,{children:t.jsx(Ia,{children:t.jsx(u.Suspense,{fallback:t.jsx(Zp,{}),children:t.jsxs(_a,{children:[t.jsx(ne,{path:"/",element:t.jsx(dp,{})}),t.jsx(ne,{path:"/login",element:t.jsx(tu,{})}),t.jsx(ne,{path:"/exhibitions",element:t.jsx(nh,{})}),t.jsx(ne,{path:"/exhibitions/:id",element:t.jsx(Vu,{})}),t.jsx(ne,{path:"/exhibitions/:id/layout",element:t.jsx(Bu,{})}),t.jsx(ne,{path:"/exhibitions/:exhibitionId/service-charge",element:t.jsx(In,{})}),t.jsx(ne,{path:"/service-charge/payment-success",element:t.jsx(In,{})}),t.jsx(ne,{path:"/service-charge/payment-result",element:t.jsx(In,{})}),t.jsx(ne,{path:"/about",element:t.jsx(Wp,{})}),t.jsx(ne,{path:"/contact",element:t.jsx(Qp,{})}),t.jsx(ne,{path:"/pricing-policy",element:t.jsx(Yp,{})}),t.jsx(ne,{path:"/terms",element:t.jsx(Gp,{})}),t.jsx(ne,{path:"/privacy-policy",element:t.jsx(Kp,{})}),t.jsx(ne,{path:"/cancellation-refund",element:t.jsx(Xp,{})}),t.jsx(ne,{path:"/exhibitor/dashboard",element:t.jsx(Ft,{children:t.jsx(Dt,{children:t.jsx(Si,{children:t.jsx(hp,{})})})})}),t.jsx(ne,{path:"/exhibitor/profile",element:t.jsx(Ft,{children:t.jsx(Dt,{children:t.jsx(gp,{})})})}),t.jsx(ne,{path:"/exhibitor/bookings",element:t.jsx(Ft,{children:t.jsx(Dt,{children:t.jsx(pp,{})})})}),t.jsx(ne,{path:"/exhibitor/bookings/:id",element:t.jsx(Ft,{children:t.jsx(Dt,{children:t.jsx(fp,{})})})}),t.jsx(ne,{path:"/exhibitor/support",element:t.jsx(Ft,{children:t.jsx(Dt,{children:t.jsx(xp,{})})})}),t.jsx(ne,{path:"/exhibitor/invoice/:id",element:t.jsx(Ft,{children:t.jsx(Dt,{children:t.jsx(mp,{})})})}),t.jsx(ne,{path:"/dashboard",element:t.jsx(be,{children:t.jsx(xe,{children:Ms(t.jsx(up,{}))})})}),t.jsx(ne,{path:"/account",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(bp,{})})})}),t.jsx(ne,{path:"/exhibition",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Sp,{})})})}),t.jsx(ne,{path:"/exhibition/create",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(kp,{})})})}),t.jsx(ne,{path:"/exhibition/:id",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Ep,{})})})}),t.jsx(ne,{path:"/exhibition/:id/space",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Ip,{})})})}),t.jsx(ne,{path:"/exhibition/:id/layout",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(_p,{})})})}),t.jsx(ne,{path:"/exhibition/:id/halls",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Rp,{})})})}),t.jsx(ne,{path:"/exhibition/:id/stalls",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Tp,{})})})}),t.jsx(ne,{path:"/exhibition/:id/fixtures",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Ap,{})})})}),t.jsx(ne,{path:"/exhibition/:id/edit",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Cp,{})})})}),t.jsx(ne,{path:"/stall/list",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Pp,{})})})}),t.jsx(ne,{path:"/stall-types",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Np,{})})})}),t.jsx(ne,{path:"/bookings",element:t.jsx(be,{children:t.jsx(xe,{children:Ms(t.jsx(zp,{}))})})}),t.jsx(ne,{path:"/bookings/create",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx($p,{})})})}),t.jsx(ne,{path:"/amenities",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Lp,{})})})}),t.jsx(ne,{path:"/letters",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Bp,{})})})}),t.jsx(ne,{path:"/invoices",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Mp,{})})})}),t.jsx(ne,{path:"/invoice/:id",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Dp,{})})})}),t.jsx(ne,{path:"/index",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(wp,{})})})}),t.jsx(ne,{path:"/settings",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(yp,{})})})}),t.jsx(ne,{path:"/roles",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(vp,{})})})}),t.jsx(ne,{path:"/notifications",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(jp,{})})})}),t.jsx(ne,{path:"/exhibitors",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Fp,{})})})}),t.jsx(ne,{path:"/activity",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Op,{})})})}),t.jsx(ne,{path:"/analytics",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(qp,{})})})}),t.jsx(ne,{path:"/service-charges",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Up,{})})})}),t.jsx(ne,{path:"/service-charges/settings",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Vp,{})})})}),t.jsx(ne,{path:"/service-charge-stalls",element:t.jsx(be,{children:t.jsx(xe,{children:t.jsx(Hp,{})})})}),t.jsx(ne,{path:"*",element:t.jsx(_i,{to:"/",replace:!0})})]})})})})})}const we=r=>{var n,i;const e=((i=(n=r.response)==null?void 0:n.data)==null?void 0:i.message)||"An error occurred";throw new Error(e)},Ve={getExhibitions:async()=>{try{return await G.get("/exhibitions")}catch(r){return we(r)}},getActiveExhibitions:async()=>{try{return await G.get("/exhibitions/active")}catch(r){return we(r)}},getAllExhibitionsForAssignment:async()=>{try{return await G.get("/exhibitions/all-for-assignment")}catch(r){return we(r)}},getExhibition:async r=>{try{return await G.get(`/exhibitions/${r}`)}catch(e){return we(e)}},createExhibition:async r=>{try{return await G.post("/exhibitions",r)}catch(e){return we(e)}},updateExhibition:async(r,e)=>{try{return await G.put(`/exhibitions/${r}`,e)}catch(n){return we(n)}},deleteExhibition:async r=>{try{return await G.delete(`/exhibitions/${r}`)}catch(e){return we(e)}},getExhibitionProgress:async r=>{try{return(await G.get(`/exhibitions/${r}/progress`)).data}catch(e){return we(e)}},getHalls:async r=>{try{return await G.get(`/exhibitions/${r}/halls`)}catch(e){return we(e)}},createHall:async(r,e)=>{try{const{_id:n,id:i,createdAt:s,updatedAt:o,...h}=e;return console.log("Creating hall with data:",{exhibitionId:r,data:h}),(await G.post(`/exhibitions/${r}/halls`,h)).data}catch(n){throw console.error("Error creating hall:",n),n}},updateHall:async(r,e,n)=>{try{const{_id:i,id:s,createdAt:o,updatedAt:h,...p}=n;console.log("Updating hall with data:",{exhibitionId:r,hallId:e,data:p});const m=await G.put(`/exhibitions/${r}/halls/${e}`,p);return console.log("Hall updated:",m.data),m}catch(i){return console.error("Error updating hall:",i),we(i)}},deleteHall:async(r,e)=>{var n,i,s;try{if(!r||!e)throw new Error("Exhibition ID and Hall ID are required");console.log("Deleting hall:",{exhibitionId:r,hallId:e});const o=await G.delete(`/exhibitions/${r}/halls/${e}`);if(!o.data)throw new Error("No response received from server");return o}catch(o){throw console.error("Error deleting hall:",o),((n=o.response)==null?void 0:n.status)===401?new Error("Unauthorized. Please log in again."):((i=o.response)==null?void 0:i.status)===403?new Error("You do not have permission to delete halls."):((s=o.response)==null?void 0:s.status)===404?new Error("Hall not found."):o}},saveLayout:async(r,e)=>{try{if(!r)throw new Error("Exhibition ID is required");return{data:{halls:e}}}catch(n){return we(n)}},getLayout:async r=>{try{if(!r)throw new Error("Exhibition ID is required");return await G.get(`/exhibitions/${r}/layout`)}catch(e){return we(e)}},getStalls:async(r,e,n)=>{try{if(!r)throw new Error("Exhibition ID is required");const i={};return e&&(i.hallId=e),n!=null&&n.page&&(i.page=n.page),n!=null&&n.limit&&(i.limit=n.limit),n!=null&&n.search&&(i.search=n.search),n!=null&&n.status&&(i.status=n.status),n!=null&&n.sortBy&&(i.sortBy=n.sortBy),n!=null&&n.sortOrder&&(i.sortOrder=n.sortOrder),n!=null&&n.minPrice&&(i.minPrice=n.minPrice),n!=null&&n.maxPrice&&(i.maxPrice=n.maxPrice),await G.get(`/exhibitions/${r}/stalls`,{params:i})}catch(i){return we(i)}},createStall:async(r,e)=>{try{if(!r)throw new Error("Exhibition ID is required");return await G.post(`/exhibitions/${r}/stalls`,e)}catch(n){return we(n)}},updateStall:async(r,e,n)=>{try{if(!r||!e)throw new Error("Exhibition ID and Stall ID are required");console.log("Updating stall:",{exhibitionId:r,stallId:e,data:n});const i=await G.put(`/exhibitions/${r}/stalls/${e}`,n);return console.log("Stall update response:",i),i}catch(i){return console.error("Error updating stall:",i),we(i)}},deleteStall:async(r,e)=>{try{if(!r||!e)throw new Error("Exhibition ID and Stall ID are required");return await G.delete(`/exhibitions/${r}/stalls/${e}`)}catch(n){return we(n)}},getFixtures:async(r,e)=>{try{const n=`/exhibitions/${r}/fixtures`,i=e?{type:e}:void 0;return await G.get(n,{params:i})}catch(n){return we(n)}},getFixture:async(r,e)=>{try{return await G.get(`/exhibitions/${r}/fixtures/${e}`)}catch(n){return we(n)}},createFixture:async(r,e)=>{try{return await G.post(`/exhibitions/${r}/fixtures`,e)}catch(n){return we(n)}},updateFixture:async(r,e,n)=>{try{return await G.put(`/exhibitions/${r}/fixtures/${e}`,n)}catch(i){return we(i)}},deleteFixture:async(r,e)=>{try{return await G.delete(`/exhibitions/${r}/fixtures/${e}`)}catch(n){return we(n)}},assignUsersToExhibition:async(r,e)=>{try{return await G.post(`/exhibitions/${r}/assign-users`,{userIds:e})}catch(n){return we(n)}},unassignUserFromExhibition:async(r,e)=>{try{return await G.delete(`/exhibitions/${r}/unassign-user/${e}`)}catch(n){return we(n)}},getAssignedUsers:async r=>{try{return await G.get(`/exhibitions/${r}/assigned-users`)}catch(e){return we(e)}}},tf={exhibitions:[],activeExhibitions:[],currentExhibition:null,halls:[],stalls:[],fixtures:[],loading:!1,error:null,stallsPagination:{currentPage:1,totalPages:0,totalCount:0,pageSize:10,hasNextPage:!1,hasPrevPage:!1,startIndex:0,endIndex:0}},_n=ue("exhibition/fetchExhibitions",async(r,{rejectWithValue:e})=>{try{return(await Ve.getExhibitions()).data.map(s=>({...s,id:s._id||s.id})).filter(s=>s.id)}catch(n){return e(n.message)}}),Rn=ue("exhibition/fetchActiveExhibitions",async(r,{rejectWithValue:e})=>{try{return(await Ve.getActiveExhibitions()).data.map(s=>({...s,id:s._id||s.id})).filter(s=>s.id)}catch(n){return e(n.message)}}),Tn=ue("exhibition/fetchAllExhibitionsForAssignment",async(r,{rejectWithValue:e})=>{try{return(await Ve.getAllExhibitionsForAssignment()).data.map(s=>({...s,id:s._id||s.id})).filter(s=>s.id)}catch(n){return e(n.message)}}),An=ue("exhibition/fetchExhibition",async(r,{rejectWithValue:e})=>{try{if(!r)throw new Error("Exhibition ID is required");return(await Ve.getExhibition(r)).data}catch(n){return e(n.message)}}),Pn=ue("exhibition/createExhibition",async(r,{rejectWithValue:e})=>{try{return(await Ve.createExhibition(r)).data}catch(n){return e(n.message)}}),Nn=ue("exhibition/updateExhibition",async({id:r,data:e},{rejectWithValue:n})=>{try{if(!r)throw new Error("Exhibition ID is required");return(await Ve.updateExhibition(r,e)).data}catch(i){return n(i.message)}}),zn=ue("exhibition/fetchHalls",async(r,{rejectWithValue:e})=>{var n;try{if(!r)throw new Error("Exhibition ID is required");return(await Ve.getHalls(r)).data}catch(i){return((n=i.response)==null?void 0:n.status)===404?[]:e(i.message)}}),$n=ue("exhibition/fetchStalls",async({exhibitionId:r,hallId:e,page:n=1,limit:i=1e3,search:s,status:o,sortBy:h="number",sortOrder:p="asc",minPrice:m,maxPrice:g},{rejectWithValue:E,getState:j})=>{try{if(!r)throw new Error("Exhibition ID is required");return{...(await Ve.getStalls(r,e,{page:n,limit:i,search:s,status:o,sortBy:h,sortOrder:p,minPrice:m,maxPrice:g})).data,hallId:e}}catch(x){return E(x.message)}}),Dn=ue("exhibition/deleteExhibition",async(r,{rejectWithValue:e})=>{try{return await Ve.deleteExhibition(r),r}catch(n){return e(n.message)}}),Mn=ue("exhibition/fetchFixtures",async({exhibitionId:r,type:e},{rejectWithValue:n})=>{try{if(!r)throw new Error("Exhibition ID is required");return(await Ve.getFixtures(r,e)).data}catch(i){return n(i.message)}}),Fn=ue("exhibition/createFixture",async({exhibitionId:r,data:e},{rejectWithValue:n})=>{try{if(!r)throw new Error("Exhibition ID is required");return(await Ve.createFixture(r,e)).data}catch(i){return n(i.message)}}),Ln=ue("exhibition/updateFixture",async({exhibitionId:r,id:e,data:n},{rejectWithValue:i})=>{try{if(!r||!e)throw new Error("Exhibition ID and Fixture ID are required");return(await Ve.updateFixture(r,e,n)).data}catch(s){return i(s.message)}}),Bn=ue("exhibition/deleteFixture",async({exhibitionId:r,id:e},{rejectWithValue:n})=>{try{if(!r||!e)throw new Error("Exhibition ID and Fixture ID are required");return await Ve.deleteFixture(r,e),e}catch(i){return n(i.message)}}),Qo=Le({name:"exhibition",initialState:tf,reducers:{clearCurrentExhibition:r=>{r.currentExhibition=null,r.halls=[],r.stalls=[],r.fixtures=[],r.error=null},clearError:r=>{r.error=null},clearStalls:r=>{r.stalls=[],r.stallsPagination={currentPage:1,totalPages:0,totalCount:0,pageSize:10,hasNextPage:!1,hasPrevPage:!1,startIndex:0,endIndex:0}},clearFixtures:r=>{r.fixtures=[]}},extraReducers:r=>{r.addCase(_n.pending,e=>{e.loading=!0,e.error=null}).addCase(_n.fulfilled,(e,n)=>{e.loading=!1,e.exhibitions=n.payload}).addCase(_n.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Rn.pending,e=>{e.loading=!0,e.error=null}).addCase(Rn.fulfilled,(e,n)=>{e.loading=!1,e.activeExhibitions=n.payload}).addCase(Rn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Tn.pending,e=>{e.loading=!0,e.error=null}).addCase(Tn.fulfilled,(e,n)=>{e.loading=!1,e.exhibitions=n.payload}).addCase(Tn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(An.pending,e=>{e.loading=!0,e.error=null}).addCase(An.fulfilled,(e,n)=>{e.loading=!1,e.currentExhibition=n.payload}).addCase(An.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Pn.pending,e=>{e.loading=!0,e.error=null}).addCase(Pn.fulfilled,(e,n)=>{e.loading=!1,e.exhibitions.push(n.payload)}).addCase(Pn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Nn.pending,e=>{e.loading=!0,e.error=null}).addCase(Nn.fulfilled,(e,n)=>{e.loading=!1,e.currentExhibition=n.payload;const i=e.exhibitions.findIndex(s=>s.id===n.payload.id);i!==-1&&(e.exhibitions[i]=n.payload)}).addCase(Nn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(zn.pending,e=>{e.loading=!0,e.error=null}).addCase(zn.fulfilled,(e,n)=>{e.loading=!1,e.halls=n.payload}).addCase(zn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase($n.pending,e=>{e.loading=!0,e.error=null}).addCase($n.fulfilled,(e,n)=>{e.loading=!1;const i=n.payload,s=i&&typeof i=="object"&&"stalls"in i,o=s?i.stalls:i,h=s?i.pagination:null,p=i.hallId,m=(Array.isArray(o)?o:[]).map(g=>{var E,j;return{...g,id:g._id||g.id,_id:g._id||g.id,hallId:typeof g.hallId=="string"?g.hallId:((E=g.hallId)==null?void 0:E.toString())||g.hallId,stallTypeId:typeof g.stallTypeId=="string"?g.stallTypeId:(j=g.stallTypeId)==null?void 0:j._id,stallType:g.stallType||{name:"N/A",description:null}}});if(p){const g=e.stalls.filter(E=>(typeof E.hallId=="string"?E.hallId:String(E.hallId||""))!==p);e.stalls=[...g,...m]}else e.stalls=m;h&&(e.stallsPagination=h)}).addCase($n.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Dn.pending,e=>{e.loading=!0,e.error=null}).addCase(Dn.fulfilled,(e,n)=>{e.loading=!1,e.exhibitions=e.exhibitions.filter(i=>(i._id||i.id)!==n.payload)}).addCase(Dn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Mn.pending,e=>{e.loading=!0,e.error=null}).addCase(Mn.fulfilled,(e,n)=>{e.loading=!1,e.fixtures=n.payload.map(i=>({...i,id:i._id||i.id,_id:i._id||i.id}))}).addCase(Mn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Fn.pending,e=>{e.loading=!0,e.error=null}).addCase(Fn.fulfilled,(e,n)=>{e.loading=!1;const i={...n.payload,id:n.payload._id||n.payload.id,_id:n.payload._id||n.payload.id};e.fixtures.push(i)}).addCase(Fn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Ln.pending,e=>{e.loading=!0,e.error=null}).addCase(Ln.fulfilled,(e,n)=>{e.loading=!1;const i={...n.payload,id:n.payload._id||n.payload.id,_id:n.payload._id||n.payload.id},s=e.fixtures.findIndex(o=>o.id===i.id||o._id===i._id);s!==-1&&(e.fixtures[s]=i)}).addCase(Ln.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Bn.pending,e=>{e.loading=!0,e.error=null}).addCase(Bn.fulfilled,(e,n)=>{e.loading=!1,e.fixtures=e.fixtures.filter(i=>i.id!==n.payload&&i._id!==n.payload)}).addCase(Bn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{clearCurrentExhibition:Dg,clearError:Mg,clearStalls:Fg,clearFixtures:Lg}=Qo.actions,rf=Qo.reducer,nf={bookings:[],currentBooking:null,loading:!1,statsLoading:!1,error:null,pagination:{total:0,page:1,limit:10,pages:0},stats:{total:0,pending:0,approved:0,rejected:0,confirmed:0,cancelled:0,totalSQM:0,bookedSQM:0}},On=ue("booking/fetchBookings",async(r={},{rejectWithValue:e})=>{var n,i;try{const s={};return r.page&&(s.page=r.page),r.limit&&(s.limit=r.limit),r.search&&(s.search=r.search),r.status&&(s.status=r.status),r.exhibitionId&&(s.exhibitionId=r.exhibitionId),r.startDate&&(s.startDate=r.startDate),r.endDate&&(s.endDate=r.endDate),(await G.get("/bookings",{params:s})).data}catch(s){return e(((i=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to fetch bookings")}}),qn=ue("booking/fetchBooking",async r=>(await G.get(`/bookings/${r}`)).data),Un=ue("booking/createBooking",async r=>(await G.post("/bookings",r)).data),Vn=ue("booking/updateStatus",async({id:r,status:e,rejectionReason:n})=>(await G.patch(`/bookings/${r}`,{status:e,...n&&{rejectionReason:n}})).data),Hn=ue("booking/updatePaymentStatus",async({id:r,paymentStatus:e,paymentDetails:n})=>(await G.patch(`/bookings/${r}/payment`,{paymentStatus:e,paymentDetails:n})).data),Wn=ue("booking/deleteBooking",async r=>(await G.delete(`/bookings/${r}`),r)),Qn=ue("booking/fetchBookingStats",async(r={},{rejectWithValue:e})=>{var n,i;try{const s=new URLSearchParams;r!=null&&r.exhibitionId&&s.append("exhibitionId",r.exhibitionId);const o=s.toString()?`/bookings/stats?${s.toString()}`:"/bookings/stats";return(await G.get(o)).data}catch(s){return e(((i=(n=s==null?void 0:s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to fetch booking statistics")}}),Yo=Le({name:"booking",initialState:nf,reducers:{clearCurrentBooking:r=>{r.currentBooking=null},clearBookingError:r=>{r.error=null}},extraReducers:r=>{r.addCase(On.pending,e=>{e.loading=!0,e.error=null}).addCase(On.fulfilled,(e,n)=>{e.loading=!1,e.bookings=n.payload.data||[],n.payload.pagination&&(e.pagination=n.payload.pagination)}).addCase(On.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message||"Failed to fetch bookings"}).addCase(qn.pending,e=>{e.loading=!0,e.error=null}).addCase(qn.fulfilled,(e,n)=>{e.loading=!1,e.currentBooking=n.payload}).addCase(qn.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message||"Failed to fetch booking"}).addCase(Un.pending,e=>{e.loading=!0,e.error=null}).addCase(Un.fulfilled,(e,n)=>{e.loading=!1,e.bookings.unshift(n.payload),e.currentBooking=n.payload}).addCase(Un.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message||"Failed to create booking"}).addCase(Vn.pending,e=>{e.loading=!0,e.error=null}).addCase(Vn.fulfilled,(e,n)=>{var s;e.loading=!1;const i=e.bookings.findIndex(o=>o._id===n.payload._id);i!==-1&&(e.bookings[i]=n.payload),((s=e.currentBooking)==null?void 0:s._id)===n.payload._id&&(e.currentBooking=n.payload)}).addCase(Vn.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message||"Failed to update booking status"}).addCase(Hn.pending,e=>{e.loading=!0,e.error=null}).addCase(Hn.fulfilled,(e,n)=>{var s;e.loading=!1;const i=e.bookings.findIndex(o=>o._id===n.payload._id);i!==-1&&(e.bookings[i]=n.payload),((s=e.currentBooking)==null?void 0:s._id)===n.payload._id&&(e.currentBooking=n.payload)}).addCase(Hn.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message||"Failed to update payment status"}).addCase(Qn.pending,e=>{e.statsLoading=!0,e.error=null}).addCase(Qn.fulfilled,(e,n)=>{e.statsLoading=!1,e.stats=n.payload}).addCase(Qn.rejected,(e,n)=>{e.statsLoading=!1,e.error=n.error.message||"Failed to fetch booking statistics"}).addCase(Wn.pending,e=>{e.loading=!0,e.error=null}).addCase(Wn.fulfilled,(e,n)=>{var i;e.loading=!1,e.bookings=e.bookings.filter(s=>s._id!==n.payload),((i=e.currentBooking)==null?void 0:i._id)===n.payload&&(e.currentBooking=null)}).addCase(Wn.rejected,(e,n)=>{e.loading=!1,e.error=n.error.message||"Failed to delete booking"})}}),{clearCurrentBooking:Bg,clearBookingError:Og}=Yo.actions,sf=Yo.reducer,Yn={exhibitors:[],loading:!1,error:null,pagination:{total:0,page:1,limit:10,pages:0,hasNextPage:!1,hasPrevPage:!1,nextPage:null,prevPage:null},filters:{status:null,isActive:null,search:null,sortBy:"createdAt",sortOrder:"desc"}},Gn=ue("exhibitors/fetchAll",async(r={},{rejectWithValue:e})=>{var n,i;try{return(await Ze.getExhibitors(r)).data}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to fetch exhibitors")}}),Go=Le({name:"exhibitor",initialState:Yn,reducers:{clearExhibitors:r=>{r.exhibitors=[],r.pagination=Yn.pagination,r.filters=Yn.filters},clearError:r=>{r.error=null}},extraReducers:r=>{r.addCase(Gn.pending,e=>{e.loading=!0,e.error=null}).addCase(Gn.fulfilled,(e,n)=>{e.exhibitors=n.payload.data,e.pagination=n.payload.pagination,e.filters=n.payload.filters,e.loading=!1}).addCase(Gn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{clearExhibitors:qg,clearError:Ug}=Go.actions,of=Go.reducer,af=async()=>{try{return(await G.get("/roles")).data}catch(r){throw console.error("Error fetching roles:",r),r}},lf=async r=>{try{return(await G.get(`/roles/${r}`)).data}catch(e){throw console.error("Error fetching role:",e),e}},cf=async r=>{try{return(await G.post("/roles",r)).data}catch(e){throw console.error("Error creating role:",e),e}},df=async(r,e)=>{try{return(await G.put(`/roles/${r}`,e)).data}catch(n){throw console.error("Error updating role:",n),n}},uf=async r=>{try{await G.delete(`/roles/${r}`)}catch(e){throw console.error("Error deleting role:",e),e}},hf={roles:[],role:null,loading:!1,error:null},Kn=ue("roles/fetchRoles",async(r,{rejectWithValue:e})=>{var n,i;try{return await af()}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to fetch roles")}}),Xn=ue("roles/fetchRoleById",async(r,{rejectWithValue:e})=>{var n,i;try{return await lf(r)}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to fetch role")}}),Jn=ue("roles/addRole",async(r,{rejectWithValue:e})=>{var n,i;try{return await cf(r)}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to create role")}}),Zn=ue("roles/modifyRole",async({id:r,roleData:e},{rejectWithValue:n})=>{var i,s;try{return await df(r,e)}catch(o){return n(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to update role")}}),ei=ue("roles/removeRole",async(r,{rejectWithValue:e})=>{var n,i;try{return await uf(r),r}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to delete role")}}),Ko=Le({name:"roles",initialState:hf,reducers:{clearRoleError:r=>{r.error=null},setSelectedRole:(r,e)=>{r.role=e.payload}},extraReducers:r=>{r.addCase(Kn.pending,e=>{e.loading=!0,e.error=null}).addCase(Kn.fulfilled,(e,n)=>{e.loading=!1,e.roles=n.payload}).addCase(Kn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Xn.pending,e=>{e.loading=!0,e.error=null}).addCase(Xn.fulfilled,(e,n)=>{e.loading=!1,e.role=n.payload}).addCase(Xn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Jn.pending,e=>{e.loading=!0,e.error=null}).addCase(Jn.fulfilled,(e,n)=>{e.loading=!1,e.roles.push(n.payload)}).addCase(Jn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(Zn.pending,e=>{e.loading=!0,e.error=null}).addCase(Zn.fulfilled,(e,n)=>{var s;e.loading=!1;const i=e.roles.findIndex(o=>o._id===n.payload._id);i!==-1&&(e.roles[i]=n.payload),((s=e.role)==null?void 0:s._id)===n.payload._id&&(e.role=n.payload)}).addCase(Zn.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ei.pending,e=>{e.loading=!0,e.error=null}).addCase(ei.fulfilled,(e,n)=>{var i;e.loading=!1,e.roles=e.roles.filter(s=>s._id!==n.payload),((i=e.role)==null?void 0:i._id)===n.payload&&(e.role=null)}).addCase(ei.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{clearRoleError:Vg,setSelectedRole:Hg}=Ko.actions,pf=Ko.reducer,ff=async()=>{try{return(await G.get("/users")).data}catch(r){throw console.error("Error fetching users:",r),r}},gf=async r=>{try{return(await G.get(`/users/${r}`)).data}catch(e){throw console.error("Error fetching user:",e),e}},mf=async r=>{try{return(await G.post("/users",r)).data}catch(e){throw console.error("Error creating user:",e),e}},xf=async(r,e)=>{try{return(await G.put(`/users/${r}`,e)).data}catch(n){throw console.error("Error updating user:",n),n}},bf=async r=>{try{await G.delete(`/users/${r}`)}catch(e){throw console.error("Error deleting user:",e),e}},yf={users:[],selectedUser:null,loading:!1,error:null},ti=ue("users/fetchUsers",async(r,{rejectWithValue:e})=>{var n,i;try{return await ff()}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to fetch users")}}),ri=ue("users/fetchUserById",async(r,{rejectWithValue:e})=>{var n,i;try{return await gf(r)}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to fetch user")}}),ni=ue("users/addUser",async(r,{rejectWithValue:e})=>{var n,i;try{return await mf(r)}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to create user")}}),ii=ue("users/modifyUser",async({id:r,userData:e},{rejectWithValue:n})=>{var i,s;try{return await xf(r,e)}catch(o){return n(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to update user")}}),si=ue("users/removeUser",async(r,{rejectWithValue:e})=>{var n,i;try{return await bf(r),r}catch(s){return e(((i=(n=s.response)==null?void 0:n.data)==null?void 0:i.message)||"Failed to delete user")}}),Xo=Le({name:"users",initialState:yf,reducers:{clearUserError:r=>{r.error=null},setSelectedUser:(r,e)=>{r.selectedUser=e.payload}},extraReducers:r=>{r.addCase(ti.pending,e=>{e.loading=!0,e.error=null}).addCase(ti.fulfilled,(e,n)=>{e.loading=!1,e.users=n.payload}).addCase(ti.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ri.pending,e=>{e.loading=!0,e.error=null}).addCase(ri.fulfilled,(e,n)=>{e.loading=!1,e.selectedUser=n.payload}).addCase(ri.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ni.pending,e=>{e.loading=!0,e.error=null}).addCase(ni.fulfilled,(e,n)=>{e.loading=!1,e.users.push(n.payload)}).addCase(ni.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(ii.pending,e=>{e.loading=!0,e.error=null}).addCase(ii.fulfilled,(e,n)=>{var s;e.loading=!1;const i=e.users.findIndex(o=>o._id===n.payload._id);i!==-1&&(e.users[i]=n.payload),((s=e.selectedUser)==null?void 0:s._id)===n.payload._id&&(e.selectedUser=n.payload)}).addCase(ii.rejected,(e,n)=>{e.loading=!1,e.error=n.payload}).addCase(si.pending,e=>{e.loading=!0,e.error=null}).addCase(si.fulfilled,(e,n)=>{var i;e.loading=!1,e.users=e.users.filter(s=>s._id!==n.payload),((i=e.selectedUser)==null?void 0:i._id)===n.payload&&(e.selectedUser=null)}).addCase(si.rejected,(e,n)=>{e.loading=!1,e.error=n.payload})}}),{clearUserError:Wg,setSelectedUser:Qg}=Xo.actions,vf=Xo.reducer;var wf=class extends Error{constructor(e){super(e[0].message);Ji(this,"issues");this.name="SchemaError",this.issues=e}},Jo=(r=>(r.uninitialized="uninitialized",r.pending="pending",r.fulfilled="fulfilled",r.rejected="rejected",r))(Jo||{});function Fs(r){return{status:r,isUninitialized:r==="uninitialized",isLoading:r==="pending",isSuccess:r==="fulfilled",isError:r==="rejected"}}var Ls=ar;function Zo(r,e){if(r===e||!(Ls(r)&&Ls(e)||Array.isArray(r)&&Array.isArray(e)))return e;const n=Object.keys(e),i=Object.keys(r);let s=n.length===i.length;const o=Array.isArray(e)?[]:{};for(const h of n)o[h]=Zo(r[h],e[h]),s&&(s=r[h]===o[h]);return s?r:o}function Vt(r){let e=0;for(const n in r)e++;return e}var Bs=r=>[].concat(...r);function jf(r){return new RegExp("(^|:)//").test(r)}function Sf(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function Ur(r){return r!=null}function kf(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var Ef=r=>r.replace(/\/$/,""),Cf=r=>r.replace(/^\//,"");function If(r,e){if(!r)return e;if(!e)return r;if(jf(e))return e;const n=r.endsWith("/")||!e.startsWith("?")?"/":"";return r=Ef(r),e=Cf(e),`${r}${n}${e}`}function _f(r,e,n){return r.has(e)?r.get(e):r.set(e,n).get(e)}var Os=(...r)=>fetch(...r),Rf=r=>r.status>=200&&r.status<=299,Tf=r=>/ion\/(vnd\.api\+)?json/.test(r.get("content-type")||"");function qs(r){if(!ar(r))return r;const e={...r};for(const[n,i]of Object.entries(e))i===void 0&&delete e[n];return e}function Qi({baseUrl:r,prepareHeaders:e=j=>j,fetchFn:n=Os,paramsSerializer:i,isJsonContentType:s=Tf,jsonContentType:o="application/json",jsonReplacer:h,timeout:p,responseHandler:m,validateStatus:g,...E}={}){return typeof fetch>"u"&&n===Os&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(x,y,P)=>{const{getState:T,extra:A,endpoint:R,forced:N,type:I}=y;let l,{url:a,headers:c=new Headers(E.headers),params:d=void 0,responseHandler:f=m??"json",validateStatus:k=g??Rf,timeout:v=p,...w}=typeof x=="string"?{url:x}:x,b,_=y.signal;v&&(b=new AbortController,y.signal.addEventListener("abort",b.abort),_=b.signal);let C={...E,signal:_,...w};c=new Headers(qs(c)),C.headers=await e(c,{getState:T,arg:x,extra:A,endpoint:R,forced:N,type:I,extraOptions:P})||c;const D=q=>typeof q=="object"&&(ar(q)||Array.isArray(q)||typeof q.toJSON=="function");if(!C.headers.has("content-type")&&D(C.body)&&C.headers.set("content-type",o),D(C.body)&&s(C.headers)&&(C.body=JSON.stringify(C.body,h)),d){const q=~a.indexOf("?")?"&":"?",U=i?i(d):new URLSearchParams(qs(d));a+=q+U}a=If(r,a);const z=new Request(a,C);l={request:new Request(a,C)};let M,$=!1,V=b&&setTimeout(()=>{$=!0,b.abort()},v);try{M=await n(z)}catch(q){return{error:{status:$?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(q)},meta:l}}finally{V&&clearTimeout(V),b==null||b.signal.removeEventListener("abort",b.abort)}const O=M.clone();l.response=O;let B,H="";try{let q;if(await Promise.all([j(M,f).then(U=>B=U,U=>q=U),O.text().then(U=>H=U,()=>{})]),q)throw q}catch(q){return{error:{status:"PARSING_ERROR",originalStatus:M.status,data:H,error:String(q)},meta:l}}return k(M,B)?{data:B,meta:l}:{error:{status:M.status,data:B},meta:l}};async function j(x,y){if(typeof y=="function")return y(x);if(y==="content-type"&&(y=s(x.headers)?"json":"text"),y==="json"){const P=await x.text();return P.length?JSON.parse(P):null}return x.text()}}var Us=class{constructor(r,e=void 0){this.value=r,this.meta=e}},Yi=Qt("__rtkq/focused"),ea=Qt("__rtkq/unfocused"),Gi=Qt("__rtkq/online"),ta=Qt("__rtkq/offline");function Zr(r){return r.type==="query"}function Af(r){return r.type==="mutation"}function en(r){return r.type==="infinitequery"}function Vr(r){return Zr(r)||en(r)}function Ki(r,e,n,i,s,o){return Pf(r)?r(e,n,i,s).filter(Ur).map(Ei).map(o):Array.isArray(r)?r.map(Ei).map(o):[]}function Pf(r){return typeof r=="function"}function Ei(r){return typeof r=="string"?{type:r}:r}function Nf(r,e){return r.catch(e)}var dr=Symbol("forceQueryFn"),Ci=r=>typeof r[dr]=="function";function zf({serializeQueryArgs:r,queryThunk:e,infiniteQueryThunk:n,mutationThunk:i,api:s,context:o}){const h=new Map,p=new Map,{unsubscribeQueryResult:m,removeMutationResult:g,updateSubscriptionOptions:E}=s.internalActions;return{buildInitiateQuery:A,buildInitiateInfiniteQuery:R,buildInitiateMutation:N,getRunningQueryThunk:j,getRunningMutationThunk:x,getRunningQueriesThunk:y,getRunningMutationsThunk:P};function j(I,l){return a=>{var f;const c=o.endpointDefinitions[I],d=r({queryArgs:l,endpointDefinition:c,endpointName:I});return(f=h.get(a))==null?void 0:f[d]}}function x(I,l){return a=>{var c;return(c=p.get(a))==null?void 0:c[l]}}function y(){return I=>Object.values(h.get(I)||{}).filter(Ur)}function P(){return I=>Object.values(p.get(I)||{}).filter(Ur)}function T(I,l){const a=(c,{subscribe:d=!0,forceRefetch:f,subscriptionOptions:k,[dr]:v,...w}={})=>(b,_)=>{var J;const C=r({queryArgs:c,endpointDefinition:l,endpointName:I});let D;const z={...w,type:"query",subscribe:d,forceRefetch:f,subscriptionOptions:k,endpointName:I,originalArgs:c,queryCacheKey:C,[dr]:v};if(Zr(l))D=e(z);else{const{direction:W,initialPageParam:le}=w;D=n({...z,direction:W,initialPageParam:le})}const S=s.endpoints[I].select(c),M=b(D),$=S(_()),{requestId:V,abort:O}=M,B=$.requestId!==V,H=(J=h.get(b))==null?void 0:J[C],q=()=>S(_()),U=Object.assign(v?M.then(q):B&&!H?Promise.resolve($):Promise.all([H,M]).then(q),{arg:c,requestId:V,subscriptionOptions:k,queryCacheKey:C,abort:O,async unwrap(){const W=await U;if(W.isError)throw W.error;return W.data},refetch:()=>b(a(c,{subscribe:!1,forceRefetch:!0})),unsubscribe(){d&&b(m({queryCacheKey:C,requestId:V}))},updateSubscriptionOptions(W){U.subscriptionOptions=W,b(E({endpointName:I,requestId:V,queryCacheKey:C,options:W}))}});if(!H&&!B&&!v){const W=_f(h,b,{});W[C]=U,U.then(()=>{delete W[C],Vt(W)||h.delete(b)})}return U};return a}function A(I,l){return T(I,l)}function R(I,l){return T(I,l)}function N(I){return(l,{track:a=!0,fixedCacheKey:c}={})=>(d,f)=>{const k=i({type:"mutation",endpointName:I,originalArgs:l,track:a,fixedCacheKey:c}),v=d(k),{requestId:w,abort:b,unwrap:_}=v,C=Nf(v.unwrap().then(M=>({data:M})),M=>({error:M})),D=()=>{d(g({requestId:w,fixedCacheKey:c}))},z=Object.assign(C,{arg:v.arg,requestId:w,abort:b,unwrap:_,reset:D}),S=p.get(d)||{};return p.set(d,S),S[w]=z,z.then(()=>{delete S[w],Vt(S)||p.delete(d)}),c&&(S[c]=z,z.then(()=>{S[c]===z&&(delete S[c],Vt(S)||p.delete(d))})),z}}}var ra=class extends wf{constructor(r,e,n,i){super(r),this.value=e,this.schemaName=n,this._bqMeta=i}};async function Ct(r,e,n,i){const s=await r["~standard"].validate(e);if(s.issues)throw new ra(s.issues,e,n,i);return s.value}function $f(r){return r}var tr=(r={})=>({...r,[to]:!0});function Df({reducerPath:r,baseQuery:e,context:{endpointDefinitions:n},serializeQueryArgs:i,api:s,assertTagType:o,selectors:h,onSchemaFailure:p,catchSchemaFailure:m,skipSchemaValidation:g}){const E=(w,b,_,C)=>(D,z)=>{const S=n[w],M=i({queryArgs:b,endpointDefinition:S,endpointName:w});if(D(s.internalActions.queryResultPatched({queryCacheKey:M,patches:_})),!C)return;const $=s.endpoints[w].select(b)(z()),V=Ki(S.providesTags,$.data,void 0,b,{},o);D(s.internalActions.updateProvidedBy([{queryCacheKey:M,providedTags:V}]))};function j(w,b,_=0){const C=[b,...w];return _&&C.length>_?C.slice(0,-1):C}function x(w,b,_=0){const C=[...w,b];return _&&C.length>_?C.slice(1):C}const y=(w,b,_,C=!0)=>(D,z)=>{const M=s.endpoints[w].select(b)(z()),$={patches:[],inversePatches:[],undo:()=>D(s.util.patchQueryData(w,b,$.inversePatches,C))};if(M.status==="uninitialized")return $;let V;if("data"in M)if(Aa(M.data)){const[O,B,H]=no(M.data,_);$.patches.push(...B),$.inversePatches.push(...H),V=O}else V=_(M.data),$.patches.push({op:"replace",path:[],value:V}),$.inversePatches.push({op:"replace",path:[],value:M.data});return $.patches.length===0||D(s.util.patchQueryData(w,b,$.patches,C)),$},P=(w,b,_)=>C=>C(s.endpoints[w].initiate(b,{subscribe:!1,forceRefetch:!0,[dr]:()=>({data:_})})),T=(w,b)=>w.query&&w[b]?w[b]:$f,A=async(w,{signal:b,abort:_,rejectWithValue:C,fulfillWithValue:D,dispatch:z,getState:S,extra:M})=>{var B,H;const $=n[w.endpointName],{metaSchema:V,skipSchemaValidation:O=g}=$;try{let q=T($,"transformResponse");const U={signal:b,abort:_,dispatch:z,getState:S,extra:M,endpoint:w.endpointName,type:w.type,forced:w.type==="query"?R(w,S()):void 0,queryCacheKey:w.type==="query"?w.queryCacheKey:void 0},J=w.type==="query"?w[dr]:void 0;let W;const le=async(re,ie,ce,Re)=>{if(ie==null&&re.pages.length)return Promise.resolve({data:re});const L={queryArg:w.originalArgs,pageParam:ie},Z=await ee(L),ae=Re?j:x;return{data:{pages:ae(re.pages,Z.data,ce),pageParams:ae(re.pageParams,ie,ce)},meta:Z.meta}};async function ee(re){let ie;const{extraOptions:ce,argSchema:Re,rawResponseSchema:L,responseSchema:Z}=$;if(Re&&!O&&(re=await Ct(Re,re,"argSchema",{})),J?ie=J():$.query?ie=await e($.query(re),U,ce):ie=await $.queryFn(re,U,ce,ve=>e(ve,U,ce)),typeof process<"u",ie.error)throw new Us(ie.error,ie.meta);let{data:ae}=ie;L&&!O&&(ae=await Ct(L,ie.data,"rawResponseSchema",ie.meta));let ge=await q(ae,ie.meta,re);return Z&&!O&&(ge=await Ct(Z,ge,"responseSchema",ie.meta)),{...ie,data:ge}}if(w.type==="query"&&"infiniteQueryOptions"in $){const{infiniteQueryOptions:re}=$,{maxPages:ie=1/0}=re;let ce;const Re={pages:[],pageParams:[]},L=(B=h.selectQueryEntry(S(),w.queryCacheKey))==null?void 0:B.data,ae=R(w,S())&&!w.direction||!L?Re:L;if("direction"in w&&w.direction&&ae.pages.length){const ge=w.direction==="backward",Te=(ge?na:Ii)(re,ae);ce=await le(ae,Te,ie,ge)}else{const{initialPageParam:ge=re.initialPageParam}=w,ve=(L==null?void 0:L.pageParams)??[],Te=ve[0]??ge,gt=ve.length;ce=await le(ae,Te,ie),J&&(ce={data:ce.data.pages[0]});for(let zt=1;zt<gt;zt++){const mt=Ii(re,ce.data);ce=await le(ce.data,mt,ie)}}W=ce}else W=await ee(w.originalArgs);return V&&!O&&W.meta&&(W.meta=await Ct(V,W.meta,"metaSchema",W.meta)),D(W.data,tr({fulfilledTimeStamp:Date.now(),baseQueryMeta:W.meta}))}catch(q){let U=q;if(U instanceof Us){let J=T($,"transformErrorResponse");const{rawErrorResponseSchema:W,errorResponseSchema:le}=$;let{value:ee,meta:re}=U;try{W&&!O&&(ee=await Ct(W,ee,"rawErrorResponseSchema",re)),V&&!O&&(re=await Ct(V,re,"metaSchema",re));let ie=await J(ee,re,w.originalArgs);return le&&!O&&(ie=await Ct(le,ie,"errorResponseSchema",re)),C(ie,tr({baseQueryMeta:re}))}catch(ie){U=ie}}try{if(U instanceof ra){const J={endpoint:w.endpointName,arg:w.originalArgs,type:w.type,queryCacheKey:w.type==="query"?w.queryCacheKey:void 0};(H=$.onSchemaFailure)==null||H.call($,U,J),p==null||p(U,J);const{catchSchemaFailure:W=m}=$;if(W)return C(W(U,J),tr({baseQueryMeta:U._bqMeta}))}}catch(J){U=J}throw console.error(U),U}};function R(w,b){const _=h.selectQueryEntry(b,w.queryCacheKey),C=h.selectConfig(b).refetchOnMountOrArgChange,D=_==null?void 0:_.fulfilledTimeStamp,z=w.forceRefetch??(w.subscribe&&C);return z?z===!0||(Number(new Date)-Number(D))/1e3>=z:!1}const N=()=>ue(`${r}/executeQuery`,A,{getPendingMeta({arg:b}){const _=n[b.endpointName];return tr({startedTimeStamp:Date.now(),...en(_)?{direction:b.direction}:{}})},condition(b,{getState:_}){var O;const C=_(),D=h.selectQueryEntry(C,b.queryCacheKey),z=D==null?void 0:D.fulfilledTimeStamp,S=b.originalArgs,M=D==null?void 0:D.originalArgs,$=n[b.endpointName],V=b.direction;return Ci(b)?!0:(D==null?void 0:D.status)==="pending"?!1:R(b,C)||Zr($)&&((O=$==null?void 0:$.forceRefetch)!=null&&O.call($,{currentArg:S,previousArg:M,endpointState:D,state:C}))?!0:!(z&&!V)},dispatchConditionRejection:!0}),I=N(),l=N(),a=ue(`${r}/executeMutation`,A,{getPendingMeta(){return tr({startedTimeStamp:Date.now()})}}),c=w=>"force"in w,d=w=>"ifOlderThan"in w,f=(w,b,_)=>(C,D)=>{const z=c(_)&&_.force,S=d(_)&&_.ifOlderThan,M=(V=!0)=>{const O={forceRefetch:V,isPrefetch:!0};return s.endpoints[w].initiate(b,O)},$=s.endpoints[w].select(b)(D());if(z)C(M());else if(S){const V=$==null?void 0:$.fulfilledTimeStamp;if(!V){C(M());return}(Number(new Date)-Number(new Date(V)))/1e3>=S&&C(M())}else C(M(!1))};function k(w){return b=>{var _,C;return((C=(_=b==null?void 0:b.meta)==null?void 0:_.arg)==null?void 0:C.endpointName)===w}}function v(w,b){return{matchPending:tn(ro(w),k(b)),matchFulfilled:tn(At(w),k(b)),matchRejected:tn(Ai(w),k(b))}}return{queryThunk:I,mutationThunk:a,infiniteQueryThunk:l,prefetch:f,updateQueryData:y,upsertQueryData:P,patchQueryData:E,buildMatchThunkActions:v}}function Ii(r,{pages:e,pageParams:n}){const i=e.length-1;return r.getNextPageParam(e[i],e,n[i],n)}function na(r,{pages:e,pageParams:n}){var i;return(i=r.getPreviousPageParam)==null?void 0:i.call(r,e[0],e,n[0],n)}function ia(r,e,n,i){return Ki(n[r.meta.arg.endpointName][e],At(r)?r.payload:void 0,Ti(r)?r.payload:void 0,r.meta.arg.originalArgs,"baseQueryMeta"in r.meta?r.meta.baseQueryMeta:void 0,i)}function Er(r,e,n){const i=r[e];i&&n(i)}function ur(r){return("arg"in r?r.arg.fixedCacheKey:r.fixedCacheKey)??r.requestId}function Vs(r,e,n){const i=r[ur(e)];i&&n(i)}var Cr={};function Mf({reducerPath:r,queryThunk:e,mutationThunk:n,serializeQueryArgs:i,context:{endpointDefinitions:s,apiUid:o,extractRehydrationInfo:h,hasRehydrationInfo:p},assertTagType:m,config:g}){const E=Qt(`${r}/resetApiState`);function j(k,v,w,b){var _;k[_=v.queryCacheKey]??(k[_]={status:"uninitialized",endpointName:v.endpointName}),Er(k,v.queryCacheKey,C=>{C.status="pending",C.requestId=w&&C.requestId?C.requestId:b.requestId,v.originalArgs!==void 0&&(C.originalArgs=v.originalArgs),C.startedTimeStamp=b.startedTimeStamp;const D=s[b.arg.endpointName];en(D)&&"direction"in v&&(C.direction=v.direction)})}function x(k,v,w,b){Er(k,v.arg.queryCacheKey,_=>{if(_.requestId!==v.requestId&&!b)return;const{merge:C}=s[v.arg.endpointName];if(_.status="fulfilled",C)if(_.data!==void 0){const{fulfilledTimeStamp:D,arg:z,baseQueryMeta:S,requestId:M}=v;let $=Ri(_.data,V=>C(V,w,{arg:z.originalArgs,baseQueryMeta:S,fulfilledTimeStamp:D,requestId:M}));_.data=$}else _.data=w;else _.data=s[v.arg.endpointName].structuralSharing??!0?Zo(Na(_.data)?za(_.data):_.data,w):w;delete _.error,_.fulfilledTimeStamp=v.fulfilledTimeStamp})}const y=Le({name:`${r}/queries`,initialState:Cr,reducers:{removeQueryResult:{reducer(k,{payload:{queryCacheKey:v}}){delete k[v]},prepare:Xt()},cacheEntriesUpserted:{reducer(k,v){for(const w of v.payload){const{queryDescription:b,value:_}=w;j(k,b,!0,{arg:b,requestId:v.meta.requestId,startedTimeStamp:v.meta.timestamp}),x(k,{arg:b,requestId:v.meta.requestId,fulfilledTimeStamp:v.meta.timestamp,baseQueryMeta:{}},_,!0)}},prepare:k=>({payload:k.map(b=>{const{endpointName:_,arg:C,value:D}=b,z=s[_];return{queryDescription:{type:"query",endpointName:_,originalArgs:b.arg,queryCacheKey:i({queryArgs:C,endpointDefinition:z,endpointName:_})},value:D}}),meta:{[to]:!0,requestId:Js(),timestamp:Date.now()}})},queryResultPatched:{reducer(k,{payload:{queryCacheKey:v,patches:w}}){Er(k,v,b=>{b.data=es(b.data,w.concat())})},prepare:Xt()}},extraReducers(k){k.addCase(e.pending,(v,{meta:w,meta:{arg:b}})=>{const _=Ci(b);j(v,b,_,w)}).addCase(e.fulfilled,(v,{meta:w,payload:b})=>{const _=Ci(w.arg);x(v,w,b,_)}).addCase(e.rejected,(v,{meta:{condition:w,arg:b,requestId:_},error:C,payload:D})=>{Er(v,b.queryCacheKey,z=>{if(!w){if(z.requestId!==_)return;z.status="rejected",z.error=D??C}})}).addMatcher(p,(v,w)=>{const{queries:b}=h(w);for(const[_,C]of Object.entries(b))((C==null?void 0:C.status)==="fulfilled"||(C==null?void 0:C.status)==="rejected")&&(v[_]=C)})}}),P=Le({name:`${r}/mutations`,initialState:Cr,reducers:{removeMutationResult:{reducer(k,{payload:v}){const w=ur(v);w in k&&delete k[w]},prepare:Xt()}},extraReducers(k){k.addCase(n.pending,(v,{meta:w,meta:{requestId:b,arg:_,startedTimeStamp:C}})=>{_.track&&(v[ur(w)]={requestId:b,status:"pending",endpointName:_.endpointName,startedTimeStamp:C})}).addCase(n.fulfilled,(v,{payload:w,meta:b})=>{b.arg.track&&Vs(v,b,_=>{_.requestId===b.requestId&&(_.status="fulfilled",_.data=w,_.fulfilledTimeStamp=b.fulfilledTimeStamp)})}).addCase(n.rejected,(v,{payload:w,error:b,meta:_})=>{_.arg.track&&Vs(v,_,C=>{C.requestId===_.requestId&&(C.status="rejected",C.error=w??b)})}).addMatcher(p,(v,w)=>{const{mutations:b}=h(w);for(const[_,C]of Object.entries(b))((C==null?void 0:C.status)==="fulfilled"||(C==null?void 0:C.status)==="rejected")&&_!==(C==null?void 0:C.requestId)&&(v[_]=C)})}}),T={tags:{},keys:{}},A=Le({name:`${r}/invalidation`,initialState:T,reducers:{updateProvidedBy:{reducer(k,v){var w,b,_;for(const{queryCacheKey:C,providedTags:D}of v.payload){R(k,C);for(const{type:z,id:S}of D){const M=(b=(w=k.tags)[z]??(w[z]={}))[_=S||"__internal_without_id"]??(b[_]=[]);M.includes(C)||M.push(C)}k.keys[C]=D}},prepare:Xt()}},extraReducers(k){k.addCase(y.actions.removeQueryResult,(v,{payload:{queryCacheKey:w}})=>{R(v,w)}).addMatcher(p,(v,w)=>{var _,C,D;const{provided:b}=h(w);for(const[z,S]of Object.entries(b))for(const[M,$]of Object.entries(S)){const V=(C=(_=v.tags)[z]??(_[z]={}))[D=M||"__internal_without_id"]??(C[D]=[]);for(const O of $)V.includes(O)||V.push(O)}}).addMatcher(Lr(At(e),Ti(e)),(v,w)=>{N(v,[w])}).addMatcher(y.actions.cacheEntriesUpserted.match,(v,w)=>{const b=w.payload.map(({queryDescription:_,value:C})=>({type:"UNKNOWN",payload:C,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:_}}));N(v,b)})}});function R(k,v){var b;const w=k.keys[v]??[];for(const _ of w){const C=_.type,D=_.id??"__internal_without_id",z=(b=k.tags[C])==null?void 0:b[D];z&&(k.tags[C][D]=z.filter(S=>S!==v))}delete k.keys[v]}function N(k,v){const w=v.map(b=>{const _=ia(b,"providesTags",s,m),{queryCacheKey:C}=b.meta.arg;return{queryCacheKey:C,providedTags:_}});A.caseReducers.updateProvidedBy(k,A.actions.updateProvidedBy(w))}const I=Le({name:`${r}/subscriptions`,initialState:Cr,reducers:{updateSubscriptionOptions(k,v){},unsubscribeQueryResult(k,v){},internal_getRTKQSubscriptions(){}}}),l=Le({name:`${r}/internalSubscriptions`,initialState:Cr,reducers:{subscriptionsUpdated:{reducer(k,v){return es(k,v.payload)},prepare:Xt()}}}),a=Le({name:`${r}/config`,initialState:{online:kf(),focused:Sf(),middlewareRegistered:!1,...g},reducers:{middlewareRegistered(k,{payload:v}){k.middlewareRegistered=k.middlewareRegistered==="conflict"||o!==v?"conflict":!0}},extraReducers:k=>{k.addCase(Gi,v=>{v.online=!0}).addCase(ta,v=>{v.online=!1}).addCase(Yi,v=>{v.focused=!0}).addCase(ea,v=>{v.focused=!1}).addMatcher(p,v=>({...v}))}}),c=Ta({queries:y.reducer,mutations:P.reducer,provided:A.reducer,subscriptions:l.reducer,config:a.reducer}),d=(k,v)=>c(E.match(v)?void 0:k,v),f={...a.actions,...y.actions,...I.actions,...l.actions,...P.actions,...A.actions,resetApiState:E};return{reducer:d,actions:f}}var Xe=Symbol.for("RTKQ/skipToken"),sa={status:"uninitialized"},Hs=Ri(sa,()=>{}),Ws=Ri(sa,()=>{});function Ff({serializeQueryArgs:r,reducerPath:e,createSelector:n}){const i=I=>Hs,s=I=>Ws;return{buildQuerySelector:x,buildInfiniteQuerySelector:y,buildMutationSelector:P,selectInvalidatedBy:T,selectCachedArgsForQuery:A,selectApiState:h,selectQueries:p,selectMutations:g,selectQueryEntry:m,selectConfig:E};function o(I){return{...I,...Fs(I.status)}}function h(I){return I[e]}function p(I){var l;return(l=h(I))==null?void 0:l.queries}function m(I,l){var a;return(a=p(I))==null?void 0:a[l]}function g(I){var l;return(l=h(I))==null?void 0:l.mutations}function E(I){var l;return(l=h(I))==null?void 0:l.config}function j(I,l,a){return c=>{if(c===Xe)return n(i,a);const d=r({queryArgs:c,endpointDefinition:l,endpointName:I});return n(k=>m(k,d)??Hs,a)}}function x(I,l){return j(I,l,o)}function y(I,l){const{infiniteQueryOptions:a}=l;function c(d){const f={...d,...Fs(d.status)},{isLoading:k,isError:v,direction:w}=f,b=w==="forward",_=w==="backward";return{...f,hasNextPage:R(a,f.data),hasPreviousPage:N(a,f.data),isFetchingNextPage:k&&b,isFetchingPreviousPage:k&&_,isFetchNextPageError:v&&b,isFetchPreviousPageError:v&&_}}return j(I,l,c)}function P(){return I=>{let l;return typeof I=="object"?l=ur(I)??Xe:l=I,n(l===Xe?s:d=>{var f,k;return((k=(f=h(d))==null?void 0:f.mutations)==null?void 0:k[l])??Ws},o)}}function T(I,l){const a=I[e],c=new Set;for(const d of l.filter(Ur).map(Ei)){const f=a.provided.tags[d.type];if(!f)continue;let k=(d.id!==void 0?f[d.id]:Bs(Object.values(f)))??[];for(const v of k)c.add(v)}return Bs(Array.from(c.values()).map(d=>{const f=a.queries[d];return f?[{queryCacheKey:d,endpointName:f.endpointName,originalArgs:f.originalArgs}]:[]}))}function A(I,l){return Object.values(p(I)).filter(a=>(a==null?void 0:a.endpointName)===l&&a.status!=="uninitialized").map(a=>a.originalArgs)}function R(I,l){return l?Ii(I,l)!=null:!1}function N(I,l){return!l||!I.getPreviousPageParam?!1:na(I,l)!=null}}var Lt=WeakMap?new WeakMap:void 0,Hr=({endpointName:r,queryArgs:e})=>{let n="";const i=Lt==null?void 0:Lt.get(e);if(typeof i=="string")n=i;else{const s=JSON.stringify(e,(o,h)=>(h=typeof h=="bigint"?{$bigint:h.toString()}:h,h=ar(h)?Object.keys(h).sort().reduce((p,m)=>(p[m]=h[m],p),{}):h,h));ar(e)&&(Lt==null||Lt.set(e,s)),n=s}return`${r}(${n})`};function oa(...r){return function(n){const i=Zi(g=>{var E;return(E=n.extractRehydrationInfo)==null?void 0:E.call(n,g,{reducerPath:n.reducerPath??"api"})}),s={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...n,extractRehydrationInfo:i,serializeQueryArgs(g){let E=Hr;if("serializeQueryArgs"in g.endpointDefinition){const j=g.endpointDefinition.serializeQueryArgs;E=x=>{const y=j(x);return typeof y=="string"?y:Hr({...x,queryArgs:y})}}else n.serializeQueryArgs&&(E=n.serializeQueryArgs);return E(g)},tagTypes:[...n.tagTypes||[]]},o={endpointDefinitions:{},batch(g){g()},apiUid:Js(),extractRehydrationInfo:i,hasRehydrationInfo:Zi(g=>i(g)!=null)},h={injectEndpoints:m,enhanceEndpoints({addTagTypes:g,endpoints:E}){if(g)for(const j of g)s.tagTypes.includes(j)||s.tagTypes.push(j);if(E)for(const[j,x]of Object.entries(E))typeof x=="function"?x(o.endpointDefinitions[j]):Object.assign(o.endpointDefinitions[j]||{},x);return h}},p=r.map(g=>g.init(h,s,o));function m(g){const E=g.endpoints({query:j=>({...j,type:"query"}),mutation:j=>({...j,type:"mutation"}),infiniteQuery:j=>({...j,type:"infinitequery"})});for(const[j,x]of Object.entries(E)){if(g.overrideExisting!==!0&&j in o.endpointDefinitions){if(g.overrideExisting==="throw")throw new Error(Zs(39));continue}o.endpointDefinitions[j]=x;for(const y of p)y.injectEndpoint(j,x)}return h}return h.injectEndpoints({endpoints:n.endpoints})}}function ct(r,...e){return Object.assign(r,...e)}var Lf=({api:r,queryThunk:e,internalState:n})=>{const i=`${r.reducerPath}/subscriptions`;let s=null,o=null;const{updateSubscriptionOptions:h,unsubscribeQueryResult:p}=r.internalActions,m=(y,P)=>{var A,R,N;if(h.match(P)){const{queryCacheKey:I,requestId:l,options:a}=P.payload;return(A=y==null?void 0:y[I])!=null&&A[l]&&(y[I][l]=a),!0}if(p.match(P)){const{queryCacheKey:I,requestId:l}=P.payload;return y[I]&&delete y[I][l],!0}if(r.internalActions.removeQueryResult.match(P))return delete y[P.payload.queryCacheKey],!0;if(e.pending.match(P)){const{meta:{arg:I,requestId:l}}=P,a=y[R=I.queryCacheKey]??(y[R]={});return a[`${l}_running`]={},I.subscribe&&(a[l]=I.subscriptionOptions??a[l]??{}),!0}let T=!1;if(e.fulfilled.match(P)||e.rejected.match(P)){const I=y[P.meta.arg.queryCacheKey]||{},l=`${P.meta.requestId}_running`;T||(T=!!I[l]),delete I[l]}if(e.rejected.match(P)){const{meta:{condition:I,arg:l,requestId:a}}=P;if(I&&l.subscribe){const c=y[N=l.queryCacheKey]??(y[N]={});c[a]=l.subscriptionOptions??c[a]??{},T=!0}}return T},g=()=>n.currentSubscriptions,x={getSubscriptions:g,getSubscriptionCount:y=>{const T=g()[y]??{};return Vt(T)},isRequestSubscribed:(y,P)=>{var A;const T=g();return!!((A=T==null?void 0:T[y])!=null&&A[P])}};return(y,P)=>{if(s||(s=JSON.parse(JSON.stringify(n.currentSubscriptions))),r.util.resetApiState.match(y))return s=n.currentSubscriptions={},o=null,[!0,!1];if(r.internalActions.internal_getRTKQSubscriptions.match(y))return[!1,x];const T=m(n.currentSubscriptions,y);let A=!0;if(T){o||(o=setTimeout(()=>{const I=JSON.parse(JSON.stringify(n.currentSubscriptions)),[,l]=no(s,()=>I);P.next(r.internalActions.subscriptionsUpdated(l)),s=I,o=null},500));const R=typeof y.type=="string"&&!!y.type.startsWith(i),N=e.rejected.match(y)&&y.meta.condition&&!!y.meta.arg.subscribe;A=!R&&!N}return[A,!1]}};function Bf(r){for(const e in r)return!1;return!0}var Of=2147483647/1e3-1,qf=({reducerPath:r,api:e,queryThunk:n,context:i,internalState:s,selectors:{selectQueryEntry:o,selectConfig:h}})=>{const{removeQueryResult:p,unsubscribeQueryResult:m,cacheEntriesUpserted:g}=e.internalActions,E=Lr(m.match,n.fulfilled,n.rejected,g.match);function j(A){const R=s.currentSubscriptions[A];return!!R&&!Bf(R)}const x={},y=(A,R,N)=>{const I=R.getState(),l=h(I);if(E(A)){let a;if(g.match(A))a=A.payload.map(c=>c.queryDescription.queryCacheKey);else{const{queryCacheKey:c}=m.match(A)?A.payload:A.meta.arg;a=[c]}P(a,R,l)}if(e.util.resetApiState.match(A))for(const[a,c]of Object.entries(x))c&&clearTimeout(c),delete x[a];if(i.hasRehydrationInfo(A)){const{queries:a}=i.extractRehydrationInfo(A);P(Object.keys(a),R,l)}};function P(A,R,N){const I=R.getState();for(const l of A){const a=o(I,l);T(l,a==null?void 0:a.endpointName,R,N)}}function T(A,R,N,I){const l=i.endpointDefinitions[R],a=(l==null?void 0:l.keepUnusedDataFor)??I.keepUnusedDataFor;if(a===1/0)return;const c=Math.max(0,Math.min(a,Of));if(!j(A)){const d=x[A];d&&clearTimeout(d),x[A]=setTimeout(()=>{j(A)||N.dispatch(p({queryCacheKey:A})),delete x[A]},c*1e3)}}return y},Qs=new Error("Promise never resolved before cacheEntryRemoved."),Uf=({api:r,reducerPath:e,context:n,queryThunk:i,mutationThunk:s,internalState:o,selectors:{selectQueryEntry:h,selectApiState:p}})=>{const m=ts(i),g=ts(s),E=At(i,s),j={};function x(R,N,I){const l=j[R];l!=null&&l.valueResolved&&(l.valueResolved({data:N,meta:I}),delete l.valueResolved)}function y(R){const N=j[R];N&&(delete j[R],N.cacheEntryRemoved())}const P=(R,N,I)=>{const l=T(R);function a(c,d,f,k){const v=h(I,d),w=h(N.getState(),d);!v&&w&&A(c,k,d,N,f)}if(i.pending.match(R))a(R.meta.arg.endpointName,l,R.meta.requestId,R.meta.arg.originalArgs);else if(r.internalActions.cacheEntriesUpserted.match(R))for(const{queryDescription:c,value:d}of R.payload){const{endpointName:f,originalArgs:k,queryCacheKey:v}=c;a(f,v,R.meta.requestId,k),x(v,d,{})}else if(s.pending.match(R))N.getState()[e].mutations[l]&&A(R.meta.arg.endpointName,R.meta.arg.originalArgs,l,N,R.meta.requestId);else if(E(R))x(l,R.payload,R.meta.baseQueryMeta);else if(r.internalActions.removeQueryResult.match(R)||r.internalActions.removeMutationResult.match(R))y(l);else if(r.util.resetApiState.match(R))for(const c of Object.keys(j))y(c)};function T(R){return m(R)?R.meta.arg.queryCacheKey:g(R)?R.meta.arg.fixedCacheKey??R.meta.requestId:r.internalActions.removeQueryResult.match(R)?R.payload.queryCacheKey:r.internalActions.removeMutationResult.match(R)?ur(R.payload):""}function A(R,N,I,l,a){const c=n.endpointDefinitions[R],d=c==null?void 0:c.onCacheEntryAdded;if(!d)return;const f={},k=new Promise(D=>{f.cacheEntryRemoved=D}),v=Promise.race([new Promise(D=>{f.valueResolved=D}),k.then(()=>{throw Qs})]);v.catch(()=>{}),j[I]=f;const w=r.endpoints[R].select(Vr(c)?N:I),b=l.dispatch((D,z,S)=>S),_={...l,getCacheEntry:()=>w(l.getState()),requestId:a,extra:b,updateCachedData:Vr(c)?D=>l.dispatch(r.util.updateQueryData(R,N,D)):void 0,cacheDataLoaded:v,cacheEntryRemoved:k},C=d(N,_);Promise.resolve(C).catch(D=>{if(D!==Qs)throw D})}return P},Vf=({api:r,context:{apiUid:e},reducerPath:n})=>(i,s)=>{r.util.resetApiState.match(i)&&s.dispatch(r.internalActions.middlewareRegistered(e))},Hf=({reducerPath:r,context:e,context:{endpointDefinitions:n},mutationThunk:i,queryThunk:s,api:o,assertTagType:h,refetchQuery:p,internalState:m})=>{const{removeQueryResult:g}=o.internalActions,E=Lr(At(i),Ti(i)),j=Lr(At(i,s),Ai(i,s));let x=[];const y=(A,R)=>{E(A)?T(ia(A,"invalidatesTags",n,h),R):j(A)?T([],R):o.util.invalidateTags.match(A)&&T(Ki(A.payload,void 0,void 0,void 0,void 0,h),R)};function P(A){var I;const{queries:R,mutations:N}=A;for(const l of[R,N])for(const a in l)if(((I=l[a])==null?void 0:I.status)==="pending")return!0;return!1}function T(A,R){const N=R.getState(),I=N[r];if(x.push(...A),I.config.invalidationBehavior==="delayed"&&P(I))return;const l=x;if(x=[],l.length===0)return;const a=o.util.selectInvalidatedBy(N,l);e.batch(()=>{const c=Array.from(a.values());for(const{queryCacheKey:d}of c){const f=I.queries[d],k=m.currentSubscriptions[d]??{};f&&(Vt(k)===0?R.dispatch(g({queryCacheKey:d})):f.status!=="uninitialized"&&R.dispatch(p(f)))}})}return y},Wf=({reducerPath:r,queryThunk:e,api:n,refetchQuery:i,internalState:s})=>{const o={},h=(x,y)=>{(n.internalActions.updateSubscriptionOptions.match(x)||n.internalActions.unsubscribeQueryResult.match(x))&&m(x.payload,y),(e.pending.match(x)||e.rejected.match(x)&&x.meta.condition)&&m(x.meta.arg,y),(e.fulfilled.match(x)||e.rejected.match(x)&&!x.meta.condition)&&p(x.meta.arg,y),n.util.resetApiState.match(x)&&E()};function p({queryCacheKey:x},y){const P=y.getState()[r],T=P.queries[x],A=s.currentSubscriptions[x];if(!T||T.status==="uninitialized")return;const{lowestPollingInterval:R,skipPollingIfUnfocused:N}=j(A);if(!Number.isFinite(R))return;const I=o[x];I!=null&&I.timeout&&(clearTimeout(I.timeout),I.timeout=void 0);const l=Date.now()+R;o[x]={nextPollTimestamp:l,pollingInterval:R,timeout:setTimeout(()=>{(P.config.focused||!N)&&y.dispatch(i(T)),p({queryCacheKey:x},y)},R)}}function m({queryCacheKey:x},y){const T=y.getState()[r].queries[x],A=s.currentSubscriptions[x];if(!T||T.status==="uninitialized")return;const{lowestPollingInterval:R}=j(A);if(!Number.isFinite(R)){g(x);return}const N=o[x],I=Date.now()+R;(!N||I<N.nextPollTimestamp)&&p({queryCacheKey:x},y)}function g(x){const y=o[x];y!=null&&y.timeout&&clearTimeout(y.timeout),delete o[x]}function E(){for(const x of Object.keys(o))g(x)}function j(x={}){let y=!1,P=Number.POSITIVE_INFINITY;for(let T in x)x[T].pollingInterval&&(P=Math.min(x[T].pollingInterval,P),y=x[T].skipPollingIfUnfocused||y);return{lowestPollingInterval:P,skipPollingIfUnfocused:y}}return h},Qf=({api:r,context:e,queryThunk:n,mutationThunk:i})=>{const s=ro(n,i),o=Ai(n,i),h=At(n,i),p={};return(g,E)=>{var j,x;if(s(g)){const{requestId:y,arg:{endpointName:P,originalArgs:T}}=g.meta,A=e.endpointDefinitions[P],R=A==null?void 0:A.onQueryStarted;if(R){const N={},I=new Promise((d,f)=>{N.resolve=d,N.reject=f});I.catch(()=>{}),p[y]=N;const l=r.endpoints[P].select(Vr(A)?T:y),a=E.dispatch((d,f,k)=>k),c={...E,getCacheEntry:()=>l(E.getState()),requestId:y,extra:a,updateCachedData:Vr(A)?d=>E.dispatch(r.util.updateQueryData(P,T,d)):void 0,queryFulfilled:I};R(T,c)}}else if(h(g)){const{requestId:y,baseQueryMeta:P}=g.meta;(j=p[y])==null||j.resolve({data:g.payload,meta:P}),delete p[y]}else if(o(g)){const{requestId:y,rejectedWithValue:P,baseQueryMeta:T}=g.meta;(x=p[y])==null||x.reject({error:g.payload??g.error,isUnhandledError:!P,meta:T}),delete p[y]}}},Yf=({reducerPath:r,context:e,api:n,refetchQuery:i,internalState:s})=>{const{removeQueryResult:o}=n.internalActions,h=(m,g)=>{Yi.match(m)&&p(g,"refetchOnFocus"),Gi.match(m)&&p(g,"refetchOnReconnect")};function p(m,g){const E=m.getState()[r],j=E.queries,x=s.currentSubscriptions;e.batch(()=>{for(const y of Object.keys(x)){const P=j[y],T=x[y];if(!T||!P)continue;(Object.values(T).some(R=>R[g]===!0)||Object.values(T).every(R=>R[g]===void 0)&&E.config[g])&&(Vt(T)===0?m.dispatch(o({queryCacheKey:y})):P.status!=="uninitialized"&&m.dispatch(i(P)))}})}return h};function Gf(r){const{reducerPath:e,queryThunk:n,api:i,context:s}=r,{apiUid:o}=s,h={invalidateTags:Qt(`${e}/invalidateTags`)},p=j=>j.type.startsWith(`${e}/`),m=[Vf,qf,Hf,Wf,Uf,Qf];return{middleware:j=>{let x=!1;const P={...r,internalState:{currentSubscriptions:{}},refetchQuery:E,isThisApiSliceAction:p},T=m.map(N=>N(P)),A=Lf(P),R=Yf(P);return N=>I=>{if(!Pa(I))return N(I);x||(x=!0,j.dispatch(i.internalActions.middlewareRegistered(o)));const l={...j,next:N},a=j.getState(),[c,d]=A(I,l,a);let f;if(c?f=N(I):f=d,j.getState()[e]&&(R(I,l,a),p(I)||s.hasRehydrationInfo(I)))for(const k of T)k(I,l,a);return f}},actions:h};function E(j){return r.api.endpoints[j.endpointName].initiate(j.originalArgs,{subscribe:!1,forceRefetch:!0})}}var Ys=Symbol(),aa=({createSelector:r=eo}={})=>({name:Ys,init(e,{baseQuery:n,tagTypes:i,reducerPath:s,serializeQueryArgs:o,keepUnusedDataFor:h,refetchOnMountOrArgChange:p,refetchOnFocus:m,refetchOnReconnect:g,invalidationBehavior:E,onSchemaFailure:j,catchSchemaFailure:x,skipSchemaValidation:y},P){Ra();const T=U=>U;Object.assign(e,{reducerPath:s,endpoints:{},internalActions:{onOnline:Gi,onOffline:ta,onFocus:Yi,onFocusLost:ea},util:{}});const A=Ff({serializeQueryArgs:o,reducerPath:s,createSelector:r}),{selectInvalidatedBy:R,selectCachedArgsForQuery:N,buildQuerySelector:I,buildInfiniteQuerySelector:l,buildMutationSelector:a}=A;ct(e.util,{selectInvalidatedBy:R,selectCachedArgsForQuery:N});const{queryThunk:c,infiniteQueryThunk:d,mutationThunk:f,patchQueryData:k,updateQueryData:v,upsertQueryData:w,prefetch:b,buildMatchThunkActions:_}=Df({baseQuery:n,reducerPath:s,context:P,api:e,serializeQueryArgs:o,assertTagType:T,selectors:A,onSchemaFailure:j,catchSchemaFailure:x,skipSchemaValidation:y}),{reducer:C,actions:D}=Mf({context:P,queryThunk:c,mutationThunk:f,serializeQueryArgs:o,reducerPath:s,assertTagType:T,config:{refetchOnFocus:m,refetchOnReconnect:g,refetchOnMountOrArgChange:p,keepUnusedDataFor:h,reducerPath:s,invalidationBehavior:E}});ct(e.util,{patchQueryData:k,updateQueryData:v,upsertQueryData:w,prefetch:b,resetApiState:D.resetApiState,upsertQueryEntries:D.cacheEntriesUpserted}),ct(e.internalActions,D);const{middleware:z,actions:S}=Gf({reducerPath:s,context:P,queryThunk:c,mutationThunk:f,infiniteQueryThunk:d,api:e,assertTagType:T,selectors:A});ct(e.util,S),ct(e,{reducer:C,middleware:z});const{buildInitiateQuery:M,buildInitiateInfiniteQuery:$,buildInitiateMutation:V,getRunningMutationThunk:O,getRunningMutationsThunk:B,getRunningQueriesThunk:H,getRunningQueryThunk:q}=zf({queryThunk:c,mutationThunk:f,infiniteQueryThunk:d,api:e,serializeQueryArgs:o,context:P});return ct(e.util,{getRunningMutationThunk:O,getRunningMutationsThunk:B,getRunningQueryThunk:q,getRunningQueriesThunk:H}),{name:Ys,injectEndpoint(U,J){var ee;const le=(ee=e.endpoints)[U]??(ee[U]={});Zr(J)&&ct(le,{name:U,select:I(U,J),initiate:M(U,J)},_(c,U)),Af(J)&&ct(le,{name:U,select:a(),initiate:V(U)},_(f,U)),en(J)&&ct(le,{name:U,select:l(U,J),initiate:$(U,J)},_(c,U))}}}});aa();function Ir(r){return r.replace(r[0],r[0].toUpperCase())}function Kf(r){return r.type==="query"}function Xf(r){return r.type==="mutation"}function la(r){return r.type==="infinitequery"}function rr(r,...e){return Object.assign(r,...e)}var oi=Symbol();function ai(r,e,n,i){const s=u.useMemo(()=>({queryArgs:r,serialized:typeof r=="object"?e({queryArgs:r,endpointDefinition:n,endpointName:i}):r}),[r,e,n,i]),o=u.useRef(s);return u.useEffect(()=>{o.current.serialized!==s.serialized&&(o.current=s)},[s]),o.current.serialized===s.serialized?o.current.queryArgs:r}function _r(r){const e=u.useRef(r);return u.useEffect(()=>{sr(e.current,r)||(e.current=r)},[r]),sr(e.current,r)?e.current:r}var Jf=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zf=Jf(),eg=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tg=eg(),rg=()=>Zf||tg?u.useLayoutEffect:u.useEffect,ng=rg(),Gs=r=>r.isUninitialized?{...r,isUninitialized:!1,isFetching:!0,isLoading:r.data===void 0,status:Jo.pending}:r;function li(r,...e){const n={};return e.forEach(i=>{n[i]=r[i]}),n}var ci=["data","status","isLoading","isSuccess","isError","error"];function ig({api:r,moduleOptions:{batch:e,hooks:{useDispatch:n,useSelector:i,useStore:s},unstable__sideEffectsInRender:o,createSelector:h},serializeQueryArgs:p,context:m}){const g=o?l=>l():u.useEffect;return{buildQueryHooks:R,buildInfiniteQueryHooks:N,buildMutationHook:I,usePrefetch:x};function E(l,a,c){if(a!=null&&a.endpointName&&l.isUninitialized){const{endpointName:b}=a,_=m.endpointDefinitions[b];c!==Xe&&p({queryArgs:a.originalArgs,endpointDefinition:_,endpointName:b})===p({queryArgs:c,endpointDefinition:_,endpointName:b})&&(a=void 0)}let d=l.isSuccess?l.data:a==null?void 0:a.data;d===void 0&&(d=l.data);const f=d!==void 0,k=l.isLoading,v=(!a||a.isLoading||a.isUninitialized)&&!f&&k,w=l.isSuccess||f&&(k&&!(a!=null&&a.isError)||l.isUninitialized);return{...l,data:d,currentData:l.data,isFetching:k,isLoading:v,isSuccess:w}}function j(l,a,c){if(a!=null&&a.endpointName&&l.isUninitialized){const{endpointName:b}=a,_=m.endpointDefinitions[b];c!==Xe&&p({queryArgs:a.originalArgs,endpointDefinition:_,endpointName:b})===p({queryArgs:c,endpointDefinition:_,endpointName:b})&&(a=void 0)}let d=l.isSuccess?l.data:a==null?void 0:a.data;d===void 0&&(d=l.data);const f=d!==void 0,k=l.isLoading,v=(!a||a.isLoading||a.isUninitialized)&&!f&&k,w=l.isSuccess||k&&f;return{...l,data:d,currentData:l.data,isFetching:k,isLoading:v,isSuccess:w}}function x(l,a){const c=n(),d=_r(a);return u.useCallback((f,k)=>c(r.util.prefetch(l,f,{...d,...k})),[l,c,d])}function y(l,a,{refetchOnReconnect:c,refetchOnFocus:d,refetchOnMountOrArgChange:f,skip:k=!1,pollingInterval:v=0,skipPollingIfUnfocused:w=!1,...b}={}){const{initiate:_}=r.endpoints[l],C=n(),D=u.useRef(void 0);if(!D.current){const U=C(r.internalActions.internal_getRTKQSubscriptions());D.current=U}const z=ai(k?Xe:a,Hr,m.endpointDefinitions[l],l),S=_r({refetchOnReconnect:c,refetchOnFocus:d,pollingInterval:v,skipPollingIfUnfocused:w}),M=b.initialPageParam,$=_r(M),V=u.useRef(void 0);let{queryCacheKey:O,requestId:B}=V.current||{},H=!1;O&&B&&(H=D.current.isRequestSubscribed(O,B));const q=!H&&V.current!==void 0;return g(()=>{q&&(V.current=void 0)},[q]),g(()=>{var W;const U=V.current;if(z===Xe){U==null||U.unsubscribe(),V.current=void 0;return}const J=(W=V.current)==null?void 0:W.subscriptionOptions;if(!U||U.arg!==z){U==null||U.unsubscribe();const le=C(_(z,{subscriptionOptions:S,forceRefetch:f,...la(m.endpointDefinitions[l])?{initialPageParam:$}:{}}));V.current=le}else S!==J&&U.updateSubscriptionOptions(S)},[C,_,f,z,S,q,$,l]),[V,C,_,S]}function P(l,a){return(d,{skip:f=!1,selectFromResult:k}={})=>{const{select:v}=r.endpoints[l],w=ai(f?Xe:d,p,m.endpointDefinitions[l],l),b=u.useRef(void 0),_=u.useMemo(()=>h([v(w),(M,$)=>$,M=>w],a,{memoizeOptions:{resultEqualityCheck:sr}}),[v,w]),C=u.useMemo(()=>k?h([_],k,{devModeChecks:{identityFunctionCheck:"never"}}):_,[_,k]),D=i(M=>C(M,b.current),sr),z=s(),S=_(z.getState(),b.current);return ng(()=>{b.current=S},[S]),D}}function T(l){u.useEffect(()=>()=>{var a,c;(c=(a=l.current)==null?void 0:a.unsubscribe)==null||c.call(a),l.current=void 0},[l])}function A(l){if(!l.current)throw new Error(Zs(38));return l.current.refetch()}function R(l){const a=(f,k={})=>{const[v]=y(l,f,k);return T(v),u.useMemo(()=>({refetch:()=>A(v)}),[v])},c=({refetchOnReconnect:f,refetchOnFocus:k,pollingInterval:v=0,skipPollingIfUnfocused:w=!1}={})=>{const{initiate:b}=r.endpoints[l],_=n(),[C,D]=u.useState(oi),z=u.useRef(void 0),S=_r({refetchOnReconnect:f,refetchOnFocus:k,pollingInterval:v,skipPollingIfUnfocused:w});g(()=>{var B,H;const O=(B=z.current)==null?void 0:B.subscriptionOptions;S!==O&&((H=z.current)==null||H.updateSubscriptionOptions(S))},[S]);const M=u.useRef(S);g(()=>{M.current=S},[S]);const $=u.useCallback(function(O,B=!1){let H;return e(()=>{var q;(q=z.current)==null||q.unsubscribe(),z.current=H=_(b(O,{subscriptionOptions:M.current,forceRefetch:!B})),D(O)}),H},[_,b]),V=u.useCallback(()=>{var O,B;(O=z.current)!=null&&O.queryCacheKey&&_(r.internalActions.removeQueryResult({queryCacheKey:(B=z.current)==null?void 0:B.queryCacheKey}))},[_]);return u.useEffect(()=>()=>{var O;(O=z==null?void 0:z.current)==null||O.unsubscribe()},[]),u.useEffect(()=>{C!==oi&&!z.current&&$(C,!0)},[C,$]),u.useMemo(()=>[$,C,{reset:V}],[$,C,V])},d=P(l,E);return{useQueryState:d,useQuerySubscription:a,useLazyQuerySubscription:c,useLazyQuery(f){const[k,v,{reset:w}]=c(f),b=d(v,{...f,skip:v===oi}),_=u.useMemo(()=>({lastArg:v}),[v]);return u.useMemo(()=>[k,{...b,reset:w},_],[k,b,w,_])},useQuery(f,k){const v=a(f,k),w=d(f,{selectFromResult:f===Xe||k!=null&&k.skip?void 0:Gs,...k}),b=li(w,...ci);return u.useDebugValue(b),u.useMemo(()=>({...w,...v}),[w,v])}}}function N(l){const a=(d,f={})=>{const[k,v,w,b]=y(l,d,f),_=u.useRef(b);g(()=>{_.current=b},[b]);const C=u.useCallback(function(S,M){let $;return e(()=>{var V;(V=k.current)==null||V.unsubscribe(),k.current=$=v(w(S,{subscriptionOptions:_.current,direction:M}))}),$},[k,v,w]);T(k);const D=ai(f.skip?Xe:d,Hr,m.endpointDefinitions[l],l),z=u.useCallback(()=>A(k),[k]);return u.useMemo(()=>({trigger:C,refetch:z,fetchNextPage:()=>C(D,"forward"),fetchPreviousPage:()=>C(D,"backward")}),[z,C,D])},c=P(l,j);return{useInfiniteQueryState:c,useInfiniteQuerySubscription:a,useInfiniteQuery(d,f){const{refetch:k,fetchNextPage:v,fetchPreviousPage:w}=a(d,f),b=c(d,{selectFromResult:d===Xe||f!=null&&f.skip?void 0:Gs,...f}),_=li(b,...ci,"hasNextPage","hasPreviousPage");return u.useDebugValue(_),u.useMemo(()=>({...b,fetchNextPage:v,fetchPreviousPage:w,refetch:k}),[b,v,w,k])}}}function I(l){return({selectFromResult:a,fixedCacheKey:c}={})=>{const{select:d,initiate:f}=r.endpoints[l],k=n(),[v,w]=u.useState();u.useEffect(()=>()=>{v!=null&&v.arg.fixedCacheKey||v==null||v.reset()},[v]);const b=u.useCallback(function(O){const B=k(f(O,{fixedCacheKey:c}));return w(B),B},[k,f,c]),{requestId:_}=v||{},C=u.useMemo(()=>d({fixedCacheKey:c,requestId:v==null?void 0:v.requestId}),[c,v,d]),D=u.useMemo(()=>a?h([C],a):C,[a,C]),z=i(D,sr),S=c==null?v==null?void 0:v.arg.originalArgs:void 0,M=u.useCallback(()=>{e(()=>{v&&w(void 0),c&&k(r.internalActions.removeMutationResult({requestId:_,fixedCacheKey:c}))})},[k,c,v,_]),$=li(z,...ci,"endpointName");u.useDebugValue($);const V=u.useMemo(()=>({...z,originalArgs:S,reset:M}),[z,S,M]);return u.useMemo(()=>[b,V],[b,V])}}}var sg=Symbol(),og=({batch:r=$a,hooks:e={useDispatch:ft,useSelector:De,useStore:Da},createSelector:n=eo,unstable__sideEffectsInRender:i=!1,...s}={})=>({name:sg,init(o,{serializeQueryArgs:h},p){const m=o,{buildQueryHooks:g,buildInfiniteQueryHooks:E,buildMutationHook:j,usePrefetch:x}=ig({api:o,moduleOptions:{batch:r,hooks:e,unstable__sideEffectsInRender:i,createSelector:n},serializeQueryArgs:h,context:p});return rr(m,{usePrefetch:x}),rr(p,{batch:r}),{injectEndpoint(y,P){if(Kf(P)){const{useQuery:T,useLazyQuery:A,useLazyQuerySubscription:R,useQueryState:N,useQuerySubscription:I}=g(y);rr(m.endpoints[y],{useQuery:T,useLazyQuery:A,useLazyQuerySubscription:R,useQueryState:N,useQuerySubscription:I}),o[`use${Ir(y)}Query`]=T,o[`useLazy${Ir(y)}Query`]=A}if(Xf(P)){const T=j(y);rr(m.endpoints[y],{useMutation:T}),o[`use${Ir(y)}Mutation`]=T}else if(la(P)){const{useInfiniteQuery:T,useInfiniteQuerySubscription:A,useInfiniteQueryState:R}=E(y);rr(m.endpoints[y],{useInfiniteQuery:T,useInfiniteQuerySubscription:A,useInfiniteQueryState:R}),o[`use${Ir(y)}InfiniteQuery`]=T}}}}}),Xi=oa(aa(),og());const di=Xi({reducerPath:"bookingApi",baseQuery:Qi({baseUrl:"/api"}),endpoints:r=>({getBookings:r.query({query:()=>"/bookings"}),getBooking:r.query({query:e=>`/bookings/${e}`}),createBooking:r.mutation({query:e=>({url:"/bookings",method:"POST",body:e})}),updateBookingStatus:r.mutation({query:({id:e,status:n})=>({url:`/bookings/${e}/status`,method:"PATCH",body:{status:n}})})})}),ag="/api",Mr=Xi({reducerPath:"invoiceApi",baseQuery:Qi({baseUrl:ag,credentials:"include",prepareHeaders:r=>{const e=localStorage.getItem("token");return e&&r.set("authorization",`Bearer ${e}`),r.set("Content-Type","application/json"),r.set("Accept","application/json"),r}}),tagTypes:["Invoice"],endpoints:r=>({getInvoices:r.query({query:(e={page:1,limit:10})=>({url:"/invoices",method:"GET",params:e}),transformResponse:e=>(console.log("Raw invoice response:",e),typeof e=="object"&&e!==null&&"data"in e?e:Array.isArray(e)?{success:!0,data:e,pagination:{total:e.length,page:1,limit:e.length,pages:1}}:(console.error("Invalid invoice response:",e),{success:!1,data:[],pagination:{total:0,page:1,limit:10,pages:0}})),transformErrorResponse:e=>(console.error("Invoice API Error:",e),e),providesTags:e=>e?[...e.data.map(({_id:n})=>({type:"Invoice",id:n})),{type:"Invoice",id:"LIST"}]:[{type:"Invoice",id:"LIST"}]}),getInvoice:r.query({query:e=>({url:`/invoices/${e}`,method:"GET"}),transformErrorResponse:e=>(console.error("Get Invoice Error:",e),e),providesTags:(e,n,i)=>[{type:"Invoice",id:i}]}),downloadInvoice:r.mutation({query:e=>({url:`/invoices/${e}/download`,method:"GET",responseHandler:n=>n.blob()})}),shareViaEmail:r.mutation({query:({id:e,...n})=>({url:`/invoices/${e}/share/email`,method:"POST",body:n})}),shareViaWhatsApp:r.mutation({query:({id:e,...n})=>({url:`/invoices/${e}/share/whatsapp`,method:"POST",body:n})})})}),{useGetInvoicesQuery:Yg,useGetInvoiceQuery:Gg,useShareViaEmailMutation:Kg,useShareViaWhatsAppMutation:Xg}=Mr,lg="/api",Fr=Xi({reducerPath:"exhibitorInvoiceApi",baseQuery:Qi({baseUrl:lg,credentials:"include",prepareHeaders:r=>{const e=localStorage.getItem("exhibitor_token");return e&&r.set("authorization",`Bearer ${e}`),r.set("Content-Type","application/json"),r.set("Accept","application/json"),r}}),tagTypes:["ExhibitorInvoice"],endpoints:r=>({getExhibitorInvoice:r.query({query:e=>({url:`/exhibitor-bookings/${e}/invoice`,method:"GET"}),transformResponse:e=>e,transformErrorResponse:e=>e,providesTags:(e,n,i)=>[{type:"ExhibitorInvoice",id:i}]}),downloadExhibitorInvoice:r.mutation({query:e=>({url:`/exhibitor-bookings/${e}/invoice/download`,method:"GET",responseHandler:n=>n.blob()})}),shareViaEmail:r.mutation({query:({bookingId:e,...n})=>({url:`/exhibitor-bookings/${e}/invoice/share/email`,method:"POST",body:n})}),shareViaWhatsApp:r.mutation({query:({bookingId:e,...n})=>({url:`/exhibitor-bookings/${e}/invoice/share/whatsapp`,method:"POST",body:n})})})}),{useGetExhibitorInvoiceQuery:Jg,useDownloadExhibitorInvoiceMutation:Zg,useShareViaEmailMutation:em,useShareViaWhatsAppMutation:tm}=Fr,cg=Ma({reducer:{auth:Yl,exhibitorAuth:gd,exhibition:rf,booking:sf,exhibitor:of,settings:nd,role:pf,user:vf,[di.reducerPath]:di.reducer,[Mr.reducerPath]:Mr.reducer,[Fr.reducerPath]:Fr.reducer},middleware:r=>r().concat(di.middleware).concat(Mr.middleware).concat(Fr.middleware)}),dg={token:{colorPrimary:"#7C3AED",borderRadius:8,colorBgContainer:"#FFFFFF",colorBgLayout:"#F9FAFB",fontFamily:"'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif"},components:{Layout:{siderBg:"#FFFFFF",headerBg:"#FFFFFF"},Menu:{itemBg:"transparent",itemSelectedBg:"#F3F4F6",itemHoverBg:"#F3F4F6",itemSelectedColor:"#7C3AED",itemColor:"#6B7280"},Card:{boxShadow:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)"},Button:{borderRadius:8,primaryShadow:"0 1px 2px 0 rgb(124 58 237 / 0.05)"},Table:{borderRadius:8,headerBg:"#F9FAFB"},Modal:{borderRadius:8}}};gi.createRoot(document.getElementById("root")).render(t.jsx(Ae.StrictMode,{children:t.jsx(Fa,{store:cg,children:t.jsx(Il,{theme:dg,children:t.jsx(Di,{children:t.jsx(ef,{})})})})}));export{Xg as $,st as A,wg as B,_n as C,Ve as D,Dn as E,$g as F,Vo as G,Pn as H,An as I,zn as J,$n as K,Nn as L,qo as M,Gc as N,yg as O,Si as P,au as Q,Eg as R,Oo as S,Rg as T,Mn as U,Ln as V,Fn as W,Bn as X,Bo as Y,Yg as Z,Kg as _,G as a,Vn as a0,Mr as a1,On as a2,Qn as a3,Rn as a4,se as a5,Wn as a6,Gn as a7,Un as a8,Gg as a9,Hl as aa,Sg as ab,Ou as ac,tt as ad,Uo as ae,xg as af,kg as ag,Zg as b,em as c,tm as d,Ze as e,xo as f,Ql as g,$r as h,Dr as i,t as j,cn as k,Kn as l,Zn as m,Jn as n,Tn as o,ut as p,ii as q,ei as r,pd as s,ni as t,Jg as u,ti as v,Qg as w,si as x,Pe as y,vg as z};
