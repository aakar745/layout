import{j as p}from"./vendor-pdf-Cn0rG44s.js";import{b as f}from"./vendor-redux-rS0pI56E.js";import{y as x,v as g}from"./index-4IR4xblb.js";import{E as y}from"./ExhibitionForm-CgUPXBs8.js";import{u as C}from"./vendor-react-DW9h-haf.js";import{G as A,w as e}from"./vendor-antd-B8jUXf3i.js";import"./vendor-http-t--hEgTQ.js";import"./vendor-antd-icons-BoTJB7uA.js";import"./vendor-ui-BmMA_ojr.js";import"./vendor-canvas-DrFPvyt4.js";import"./vendor-editor-CDayDKFN.js";const w=()=>{const r=C(),d=f(),b=async t=>{var c,a;try{const[o,h]=t.dateRange,m={name:t.name,description:t.description,venue:t.venue,startDate:o.toISOString(),endDate:h.toISOString(),status:t.status||"draft",isActive:t.isActive??!0,invoicePrefix:t.invoicePrefix,stallRates:t.stallRates||[],dimensions:{width:100,height:100},taxConfig:t.taxConfig||[],discountConfig:t.discountConfig||[],publicDiscountConfig:t.publicDiscountConfig||[],companyName:t.companyName,companyContactNo:t.companyContactNo,companyEmail:t.companyEmail,companyAddress:t.companyAddress,companyWebsite:t.companyWebsite,companyPAN:t.companyPAN,companyGST:t.companyGST,companySAC:t.companySAC,companyCIN:t.companyCIN,termsAndConditions:t.termsAndConditions,piInstructions:t.piInstructions,bankName:t.bankName,bankBranch:t.bankBranch,bankIFSC:t.bankIFSC,bankAccountName:t.bankAccountName,bankAccount:t.bankAccount,headerTitle:t.headerTitle,headerSubtitle:t.headerSubtitle,headerDescription:t.headerDescription,headerLogo:t.headerLogo,sponsorLogos:t.sponsorLogos||[],footerText:t.footerText,footerLogo:t.footerLogo,contactEmail:t.contactEmail,contactPhone:t.contactPhone,footerLinks:t.footerLinks||[],amenities:((c=t.amenities)==null?void 0:c.map(i=>({type:i.type,name:i.name,description:i.description,rate:i.rate})))||[],basicAmenities:((a=t.basicAmenities)==null?void 0:a.map(i=>({type:i.type,name:i.name,description:i.description,perSqm:i.perSqm,quantity:i.quantity})))||[],specialRequirements:t.specialRequirements},s=await d(x(m)).unwrap();e.success("Exhibition created successfully");const n=s._id||s.id;n?r(g({_id:n,id:n,name:m.name}),{state:{exhibitionId:n}}):(e.error("Exhibition ID not found in response"),r("/exhibition"))}catch(o){e.error(o.message||"Failed to create exhibition"),console.error("Error creating exhibition:",o)}};return p.jsx(A,{title:"Create New Exhibition",children:p.jsx(y,{onSubmit:b,submitText:"Create Exhibition"})})};export{w as default};
